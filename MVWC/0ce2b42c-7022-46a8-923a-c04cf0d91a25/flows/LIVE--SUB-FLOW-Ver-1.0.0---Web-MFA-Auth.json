{
  "_links": {
    "self": {
      "href": "https://api.pingone.com/v1/environments/0ce2b42c-7022-46a8-923a-c04cf0d91a25/flows/cc16d4a96bbf1fdc5cd15dc9d6b8d383"
    },
    "environment": {
      "href": "https://api.pingone.com/v1/environments/0ce2b42c-7022-46a8-923a-c04cf0d91a25"
    },
    "connectorInstances": {
      "href": "https://api.pingone.com/v1/environments/0ce2b42c-7022-46a8-923a-c04cf0d91a25/connectorInstances"
    },
    "connectors": {
      "href": "https://api.pingone.com/v1/environments/0ce2b42c-7022-46a8-923a-c04cf0d91a25/connectors"
    },
    "flow.deploy": {
      "href": "https://api.pingone.com/v1/environments/0ce2b42c-7022-46a8-923a-c04cf0d91a25/flows/cc16d4a96bbf1fdc5cd15dc9d6b8d383"
    },
    "flow.clone": {
      "href": "https://api.pingone.com/v1/environments/0ce2b42c-7022-46a8-923a-c04cf0d91a25/flows/cc16d4a96bbf1fdc5cd15dc9d6b8d383"
    },
    "flow.validate": {
      "href": "https://api.pingone.com/v1/environments/0ce2b42c-7022-46a8-923a-c04cf0d91a25/flows/cc16d4a96bbf1fdc5cd15dc9d6b8d383"
    },
    "flow.enabled": {
      "href": "https://api.pingone.com/v1/environments/0ce2b42c-7022-46a8-923a-c04cf0d91a25/flows/cc16d4a96bbf1fdc5cd15dc9d6b8d383/enabled"
    },
    "version": {
      "href": "https://api.pingone.com/v1/environments/0ce2b42c-7022-46a8-923a-c04cf0d91a25/flows/cc16d4a96bbf1fdc5cd15dc9d6b8d383/versions/3/details"
    }
  },
  "id": "cc16d4a96bbf1fdc5cd15dc9d6b8d383",
  "environment": {
    "id": "0ce2b42c-7022-46a8-923a-c04cf0d91a25"
  },
  "name": "LIVE- [SUB FLOW Ver 1.0.0] )- Web MFA Auth",
  "description": "Migrated from ST01-MVC via FlightIQ Director on 01/12/2026 20:17",
  "enabled": true,
  "currentVersion": 3,
  "publishedVersion": 3,
  "connectors": [
    {
      "id": "annotationConnector"
    },
    {
      "id": "variablesConnector"
    },
    {
      "id": "httpConnector"
    },
    {
      "id": "nodeConnector"
    },
    {
      "id": "pingOneMfaConnector"
    },
    {
      "id": "functionsConnector"
    },
    {
      "id": "errorConnector"
    },
    {
      "id": "pingOneSSOConnector"
    },
    {
      "id": "cookieConnector"
    },
    {
      "id": "flowConnector"
    },
    {
      "id": "codeSnippetConnector"
    }
  ],
  "settings": {
    "csp": "worker-src 'self' blob:; script-src 'self' https://cdn.jsdelivr.net https://code.jquery.com https://devsdk.singularkey.com http://cdnjs.cloudflare.com 'unsafe-inline' 'unsafe-eval';",
    "intermediateLoadingScreenCSS": "",
    "intermediateLoadingScreenHTML": "",
    "customTimeoutErrorScreenMessage": "",
    "customTimeoutErrorScreenHTML": "",
    "customTimeoutErrorScreenCSS": "",
    "logLevel": 3,
    "useCustomCSS": false,
    "cssLinks": [
      "https://assets.pingone.com/ux/end-user-nano/0.1.0-alpha.1/end-user-nano.css",
      "https://assets.pingone.com/ux/end-user-nano/0.1.0-alpha.9/end-user-nano.css",
      "https://assets.pingone.com/ux/astro-nano/0.1.0-alpha.11/icons.css"
    ],
    "flowTimeoutInSeconds": 12000,
    "flowHttpTimeoutInSeconds": 45
  },
  "color": "#ff661c",
  "graphData": {
    "elements": {
      "nodes": [
        {
          "data": {
            "id": "1cym2d83m0",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#4462edff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "MFA Device Authentication Subflow"
              },
              "width": {
                "value": 2650
              },
              "fontStyle": {
                "value": "bold"
              },
              "fontSize": {
                "value": 16
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 695,
            "y": 214
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "4rp10rfam9",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "rpid",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"rpid\",\n        \"data\": \"{{global.parameters.rpid}}\",\n        \"tooltip\": \"{{global.parameters.rpid}}\",\n        \"children\": [\n          {\n            \"text\": \"rpid\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.07713997018491381,
                    "label": "rpid (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "rpid"
                  },
                  {
                    "name": "origin",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"origin\",\n        \"data\": \"{{global.parameters.origin}}\",\n        \"tooltip\": \"{{global.parameters.origin}}\",\n        \"children\": [\n          {\n            \"text\": \"origin\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.1833821548283403,
                    "label": "origin (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "origin"
                  },
                  {
                    "name": "webAuthnSupport",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"full\"\n      }\n    ]\n  }\n]",
                    "key": 0.9214557220478461,
                    "label": "webAuthnSupport (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "p1UserId",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"p1UserId\",\n        \"data\": \"{{global.parameters.p1UserId}}\",\n        \"tooltip\": \"{{global.parameters.p1UserId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1UserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.43509916013613004,
                    "label": "p1UserId (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "p1UserId"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Flow Variables"
              }
            },
            "idUnique": "w9l0p3xj35"
          },
          "position": {
            "x": 1111,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "epw0oq727q",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "createErrorResponse",
            "type": "action",
            "properties": {
              "nodeTitle": {
                "value": "Error Error Response"
              },
              "claimsNameValuePairs": {
                "value": [
                  {
                    "name": "errorMessage",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"errorMessage\",\n        \"data\": \"{{local.etn576tjxn.payload.output.errorMessage}}\",\n        \"tooltip\": \"{{local.etn576tjxn.payload.output.errorMessage}}\",\n        \"children\": [\n          {\n            \"text\": \"errorMessage\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.6357582457449822,
                    "label": "errorMessage (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "errorMessage"
                  },
                  {
                    "name": "action",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"action\",\n        \"data\": \"{{local.etn576tjxn.payload.output.action}}\",\n        \"tooltip\": \"{{local.etn576tjxn.payload.output.action}}\",\n        \"children\": [\n          {\n            \"text\": \"action\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.9533396667160752,
                    "label": "action (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "action"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#ffc8c1ff"
              },
              "oeInteractionCacheExpire": {
                "value": true
              },
              "oeNodeCacheExpire": {
                "value": true
              }
            }
          },
          "position": {
            "x": 1385,
            "y": 4800
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "etn576tjxn",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"errorMessage\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Error Message\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"errorMessage\"\n\t\t},\n\t\t\"action\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"action\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"action\"\n\t\t}\n\t}\n}"
              },
              "nodeTitle": {
                "value": "Error"
              }
            }
          },
          "position": {
            "x": 845,
            "y": 4800
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xdyg4ar8uv",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 965,
            "y": 4800
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "mhghtvg3re",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "httpConnector",
            "status": "configured",
            "capabilityName": "createSuccessResponse",
            "type": "action",
            "properties": {
              "claimsNameValuePairs": {
                "value": [
                  {
                    "name": "p1UserId",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"p1UserId\",\n        \"data\": \"{{global.parameters.p1UserId}}\",\n        \"tooltip\": \"{{global.parameters.p1UserId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1UserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.5462519772089587,
                    "type": "string",
                    "nameDefault": "p1UserId",
                    "label": "p1UserId (string - flowInstance)"
                  },
                  {
                    "name": "authMethod",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"authMethod\",\n        \"data\": \"{{local.g819woyri7.payload.output.authMethod}}\",\n        \"tooltip\": \"{{local.g819woyri7.payload.output.authMethod}}\",\n        \"children\": [\n          {\n            \"text\": \"authMethod\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.5432987399521867,
                    "label": "authMethod (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "authMethod"
                  },
                  {
                    "name": "manageAccountFlag",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"manageAccountFlag\",\n        \"data\": \"{{global.variables.manageAccountFlag}}\",\n        \"tooltip\": \"{{global.variables.manageAccountFlag}}\",\n        \"children\": [\n          {\n            \"text\": \"manageAccountFlag\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{local.ta0r9qp7tb.payload.output.manageAccountFlag}}\",\n        \"name\": \"manageAccountFlag\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.05172467951163895,
                    "label": "manageAccountFlag (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "manageAccountFlag"
                  }
                ]
              },
              "returnRequestParameters": {
                "value": false
              },
              "nodeTitle": {
                "value": "Return Success Response"
              },
              "backgroundColor": {
                "value": "#9dc967ff"
              },
              "oeInteractionCacheExpire": {
                "value": true
              },
              "oeNodeCacheExpire": {
                "value": true
              }
            },
            "idUnique": "l6quudzp4"
          },
          "position": {
            "x": 1376,
            "y": 4410
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "w3qeaaic10",
            "nodeType": "EVAL",
            "idUnique": "u2iir3nlvp"
          },
          "position": {
            "x": 961,
            "y": 4290
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "g819woyri7",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"authMethod\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"authMethod\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"authMethod\"\n\t\t}\n\t}\n}"
              },
              "nodeTitle": {
                "value": "Success "
              }
            },
            "idUnique": "4a5880nknx"
          },
          "position": {
            "x": 841,
            "y": 4290
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "4wu7yrfxlj",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f7f7adff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Input Schema: errorMessage, action"
              },
              "width": {
                "value": 400
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": false
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "d2mbrib33f"
          },
          "position": {
            "x": 724,
            "y": 4658
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "euj74wief5",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5D00D6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Error"
              },
              "width": {
                "value": 850
              },
              "fontStyle": {
                "value": "bold"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 724,
            "y": 4598
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "lr1r9bi9cv",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5D00D6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Success"
              },
              "width": {
                "value": 600
              },
              "fontStyle": {
                "value": "bold"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              }
            },
            "status": "configured",
            "idUnique": "rnhxvq45yo"
          },
          "position": {
            "x": 721,
            "y": 4140
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9iij76vcob",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "readAllDevices",
            "type": "action",
            "properties": {
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"p1UserId\",\n        \"data\": \"{{global.parameters.p1UserId}}\",\n        \"tooltip\": \"{{global.parameters.p1UserId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1UserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "setFilterFlag": {
                "value": true
              },
              "statusFilter": {
                "value": "ACTIVE"
              },
              "workforceDeviceTypes": {
                "value": [
                  "SMS",
                  "VOICE",
                  "TOTP",
                  "PLATFORM",
                  "SECURITY_KEY",
                  "EMAIL",
                  "MOBILE"
                ]
              },
              "nodeTitle": {
                "value": "Get User's Existing Devices"
              },
              "deviceTypes": {
                "value": [
                  "EMAIL",
                  "SMS",
                  "VOICE",
                  "TOTP"
                ]
              }
            },
            "idUnique": "wfef2vvvwn"
          },
          "position": {
            "x": 845,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "6pssydezqx",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1231,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "s91nvwts8m",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "jzl1ixsnb4": {
                "value": "anyTriggersFalse"
              },
              "trp7asb42": {
                "value": "allTriggersTrue"
              }
            }
          },
          "position": {
            "x": 965,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "jzl1ixsnb4",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "etn576tjxn"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"message\",\n        \"data\": \"{{local.9iij76vcob.payload.error.message}}\",\n        \"tooltip\": \"{{local.9iij76vcob.payload.error.message}}\",\n        \"children\": [\n          {\n            \"text\": \"message\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to Error"
              }
            }
          },
          "position": {
            "x": 845,
            "y": 960
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "kignvn0aey",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"mfaEnabled\",\n        \"data\": \"{{local.w7ugweg769.payload.output.matchedUser.mfaEnabled}}\",\n        \"tooltip\": \"{{local.w7ugweg769.payload.output.matchedUser.mfaEnabled}}\",\n        \"children\": [\n          {\n            \"text\": \"mfaEnabled\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "boolean"
              },
              "nodeTitle": {
                "value": "Is MFA Enabled?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "isDisabled": false,
            "idUnique": "929dkrnxe0"
          },
          "position": {
            "x": 1925,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "pc7igkj46g",
            "nodeType": "EVAL",
            "properties": {
              "7r4q2uglw0": {
                "value": "anyTriggersFalse"
              },
              "4o43yvdjan": {
                "value": "anyTriggersFalse"
              },
              "8uwwq05c63": {
                "value": "anyTriggersFalse"
              },
              "q2msvkbio0": {
                "value": "anyTriggersFalse"
              },
              "dwa27mevws": {
                "value": "anyTriggersFalse"
              },
              "n1ffes6qbk": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2045,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "obbqxkkx9j",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AGreaterThanB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"count\",\n        \"data\": \"{{local.uuf6fcq882.payload.output.count}}\",\n        \"tooltip\": \"{{local.uuf6fcq882.payload.output.count}}\",\n        \"children\": [\n          {\n            \"text\": \"count\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"0\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "User Has Active Devices"
              },
              "type": {
                "value": "number"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "isDisabled": false,
            "idUnique": "ttvq2y083s"
          },
          "position": {
            "x": 2195,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "e7162j3cfm",
            "nodeType": "EVAL",
            "properties": {
              "dc4ikrj6va": {
                "value": "anyTriggersFalse"
              },
              "4o43yvdjan": {
                "value": "anyTriggersFalse"
              },
              "p3x9lo513k": {
                "value": "anyTriggersFalse"
              },
              "ktpql90vzf": {
                "value": "anyTriggersFalse"
              },
              "90ysw07vni": {
                "value": "anyTriggersFalse"
              },
              "60peytuaid": {
                "value": "anyTriggersFalse"
              },
              "0il0c4vvmt": {
                "value": "anyTriggersFalse"
              },
              "zj13hakp56": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2315,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "51dvh0pxyt",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "createDeviceAuthentication",
            "type": "action",
            "properties": {
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"p1UserId\",\n        \"data\": \"{{global.parameters.p1UserId}}\",\n        \"tooltip\": \"{{global.parameters.p1UserId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1UserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rpId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"rpid\",\n        \"data\": \"{{global.variables.rpid}}\",\n        \"tooltip\": \"{{global.variables.rpid}}\",\n        \"children\": [\n          {\n            \"text\": \"rpid\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "fidoCompatibility": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"webAuthenSupport\",\n        \"data\": \"{{local.ek0byr7ikw.payload.output.webAuthenSupport}}\",\n        \"tooltip\": \"{{local.ek0byr7ikw.payload.output.webAuthenSupport}}\",\n        \"children\": [\n          {\n            \"text\": \"webAuthenSupport\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "authTemplateName": {},
              "customNotificationPolicyId": {
                "value": "{}"
              },
              "customTemplateVariant": {
                "value": "{}"
              },
              "customApplicationId": {
                "value": "{}"
              },
              "nodeTitle": {
                "value": "Create Device Auth"
              },
              "selectedDevice": {
                "value": "id"
              },
              "selectedDeviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"selectedDevice\",\n        \"data\": \"{{local.k45so0nmwp.payload.output.selectedDevice}}\",\n        \"tooltip\": \"{{local.k45so0nmwp.payload.output.selectedDevice}}\",\n        \"children\": [\n          {\n            \"text\": \"selectedDevice\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"deviceId\",\n        \"data\": \"{{local.qexw0ztjbv.payload.output.deviceId}}\",\n        \"tooltip\": \"{{local.qexw0ztjbv.payload.output.deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "templateVariables": {
                "value": [
                  {
                    "name": "codeValidityDuration",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"codeValidityDuration\",\n        \"data\": \"{{global.company.variables.codeValidityDuration}}\",\n        \"tooltip\": \"{{global.company.variables.codeValidityDuration}}\",\n        \"children\": [\n          {\n            \"text\": \"codeValidityDuration\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              }
            },
            "idUnique": "you346314f",
            "isDisabled": false
          },
          "position": {
            "x": 1616,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "85nlcn2tlp",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "undefined": {
                "value": "anyTriggersFalse"
              },
              "k8aha472om": {
                "value": "anyTriggersFalse"
              }
            },
            "idUnique": "54sego8zzz"
          },
          "position": {
            "x": 1736,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "k8aha472om",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "etn576tjxn"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"message\",\n        \"data\": \"{{local.51dvh0pxyt.payload.error.message}}\",\n        \"tooltip\": \"{{local.51dvh0pxyt.payload.error.message}}\",\n        \"children\": [\n          {\n            \"text\": \"message\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to Error"
              }
            },
            "idUnique": "v3cm7skc3j",
            "isDisabled": false
          },
          "position": {
            "x": 1616,
            "y": 1800
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fzkpvzkc39",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"status\",\n        \"data\": \"{{local.51dvh0pxyt.payload.output.rawResponse.status}}\",\n        \"tooltip\": \"{{local.51dvh0pxyt.payload.output.rawResponse.status}}\",\n        \"children\": [\n          {\n            \"text\": \"status\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"0\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Authentication Prompt"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"ASSERTION_REQUIRED\"\n      }\n    ]\n  }\n]",
                    "id": "0cp41op2cj"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"OTP_REQUIRED\"\n      }\n    ]\n  }\n]",
                    "id": "fmf2dvwm72"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "idUnique": "aod0k3fhnl",
            "isDisabled": false
          },
          "position": {
            "x": 2425,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "n07uwx9xjr",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "deviceSelectDeviceAuthentication",
            "type": "action",
            "properties": {
              "deviceAuthenticationId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"p1DeviceAuthenticationId\",\n        \"data\": \"{{global.variables.p1DeviceAuthenticationId}}\",\n        \"tooltip\": \"{{global.variables.p1DeviceAuthenticationId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1DeviceAuthenticationId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceId\",\n        \"data\": \"{{local.m0rufm6m80.payload.output.deviceId}}\",\n        \"tooltip\": \"{{local.m0rufm6m80.payload.output.deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Device Selected By The User"
              }
            },
            "idUnique": "je3btck5rd"
          },
          "position": {
            "x": 1436,
            "y": 2580
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xjb3xzobwt",
            "nodeType": "EVAL",
            "properties": {
              "undefined": {
                "value": "anyTriggersFalse"
              },
              "mgbn83uyyc": {
                "value": "anyTriggersFalse"
              }
            },
            "idUnique": "7m10j19q48"
          },
          "position": {
            "x": 1556,
            "y": 2580
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "mgbn83uyyc",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node [2022-12-27]",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "etn576tjxn"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Something went wrong. Please try again later.\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to Error"
              }
            },
            "idUnique": "h2nawrwazk"
          },
          "position": {
            "x": 1736,
            "y": 2730
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "a6h4fomjp1",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"status\",\n        \"data\": \"{{local.n07uwx9xjr.payload.output.rawResponse.status}}\",\n        \"tooltip\": \"{{local.n07uwx9xjr.payload.output.rawResponse.status}}\",\n        \"children\": [\n          {\n            \"text\": \"status\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"0\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Authentication Required"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"OTP_REQUIRED\"\n      }\n    ]\n  }\n]",
                    "id": "0cp41op2cj"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"ASSERTION_REQUIRED\"\n      }\n    ]\n  }\n]",
                    "id": "fmf2dvwm72"
                  }
                ]
              }
            },
            "idUnique": "oyxcr1z24q"
          },
          "position": {
            "x": 2036,
            "y": 2580
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "69vlbm4ebu",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"selectedDeviceType\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDeviceEmail\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDevicePhone\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDeviceContact\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDeviceName\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDeviceOtpEnabled\": {\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t}\n\t}\n}"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "devices",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"maskedUsableDevices\",\n        \"data\": \"{{global.variables.maskedUsableDevices}}\",\n        \"tooltip\": \"{{global.variables.maskedUsableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedUsableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "id",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceId\",\n        \"data\": \"{{local.m0rufm6m80.payload.output.deviceId}}\",\n        \"tooltip\": \"{{local.m0rufm6m80.payload.output.deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "code": {
                "value": "module.exports = a = async ({ params }) => {\n\tvar selected = JSON.parse(params.devices).filter(device => {\n\t\treturn device.id == params.id;\n\t});\n\n\tif (selected && selected.length > 0 && selected[0].hasOwnProperty(\"nickname\")) {\n  \t\tvar deviceName = selected[0].nickname;\n\t}\n\n\tif (selected[0].model) {\n\t\tdeviceName = selected[0].model.marketingName;\n\t}\n\n\tif (selected[0].displayName) {\n\t\tdeviceName = selected[0].displayName;\n\t}\n\n\treturn {\n\t\tselectedDeviceType: selected[0].type,\n\t\tselectedDeviceEmail: selected[0].email,\n\t\tselectedDevicePhone: selected[0].phone,\n\t\tselectedDeviceContact: selected[0].email || selected[0].phone,\n\t\tselectedDeviceName: deviceName,\n\t\tselectedDeviceOtpEnabled: selected[0].otpEnabled\n\t}\n}"
              },
              "nodeTitle": {
                "value": "Enrich Device Details"
              }
            },
            "idUnique": "11r56ghtad"
          },
          "position": {
            "x": 1136,
            "y": 2580
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "5sa23wxeuw",
            "nodeType": "EVAL",
            "idUnique": "4ffa6lbwx9",
            "properties": {
              "97e92ryaea": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1256,
            "y": 2580
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "74cars4hx7",
            "nodeType": "EVAL",
            "idUnique": "pbisfmdr1j"
          },
          "position": {
            "x": 2156,
            "y": 2580
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "m0rufm6m80",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Set Selected Device"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"deviceId\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Device Id\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"deviceId\"\n\t\t},\n\t\t\"createDeviceAuthRequest\": {\n\t\t\t\"type\": \"boolean\",\n\t\t\t\"displayName\": \"Create Device Auth Request\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"createDeviceAuthRequest\"\n\t\t}\n\t}\n}"
              }
            },
            "idUnique": "nywv7qckyw"
          },
          "position": {
            "x": 836,
            "y": 2580
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "k0azoltb58",
            "nodeType": "EVAL",
            "idUnique": "xteu1mijeu",
            "properties": {
              "69vlbm4ebu": {
                "value": "allTriggersTrue"
              },
              "97e92ryaea": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 956,
            "y": 2580
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "e9lmj4jktt",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "m5l2cif5p1"
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"selectedDeviceType\",\n        \"data\": \"{{local.69vlbm4ebu.payload.output.selectedDeviceType}}\",\n        \"tooltip\": \"{{local.69vlbm4ebu.payload.output.selectedDeviceType}}\",\n        \"children\": [\n          {\n            \"text\": \"selectedDeviceType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "maskedContact": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"selectedDeviceContact\",\n        \"data\": \"{{local.69vlbm4ebu.payload.output.selectedDeviceContact}}\",\n        \"tooltip\": \"{{local.69vlbm4ebu.payload.output.selectedDeviceContact}}\",\n        \"children\": [\n          {\n            \"text\": \"selectedDeviceContact\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceId\",\n        \"data\": \"{{local.m0rufm6m80.payload.output.deviceId}}\",\n        \"tooltip\": \"{{local.m0rufm6m80.payload.output.deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to OTP Auth"
              }
            },
            "idUnique": "nh734qn4ky"
          },
          "position": {
            "x": 2336,
            "y": 2580
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "jsodbswmlf",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.vphozwida3.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.vphozwida3.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"NEXT\"\n      }\n    ]\n  }\n]",
                    "id": "1uplmn0ljy"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"RESEND\"\n      }\n    ]\n  }\n]",
                    "id": "aw94m7u2lh"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"CANCEL\"\n      }\n    ]\n  }\n]",
                    "id": "fvvfdwp1fw"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"CLOSE\"\n      }\n    ]\n  }\n]",
                    "id": "bis207i767"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Form Action Check"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "caseSensitive": {
                "value": false
              }
            },
            "idUnique": "7cn1hjd8xx"
          },
          "position": {
            "x": 1406,
            "y": 3060
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "4y8r0le494",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "deviceSelectDeviceAuthentication",
            "type": "action",
            "properties": {
              "deviceAuthenticationId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"p1DeviceAuthenticationId\",\n        \"data\": \"{{global.variables.p1DeviceAuthenticationId}}\",\n        \"tooltip\": \"{{global.variables.p1DeviceAuthenticationId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1DeviceAuthenticationId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceId\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.deviceId}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Resend OTP"
              }
            },
            "idUnique": "r1h3etanz9"
          },
          "position": {
            "x": 2160,
            "y": 3570
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hicxiqeb36",
            "nodeType": "EVAL",
            "idUnique": "aab9wbrg0z"
          },
          "position": {
            "x": 1531,
            "y": 3570
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "bsvt2nwelk",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "validateOtpDeviceAuthentication",
            "type": "action",
            "properties": {
              "deviceAuthenticationId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"p1DeviceAuthenticationId\",\n        \"data\": \"{{global.variables.p1DeviceAuthenticationId}}\",\n        \"tooltip\": \"{{global.variables.p1DeviceAuthenticationId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1DeviceAuthenticationId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "otp": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"passcode\",\n        \"data\": \"{{local.v8mrsmwtx1.payload.output.passcode}}\",\n        \"tooltip\": \"{{local.v8mrsmwtx1.payload.output.passcode}}\",\n        \"children\": [\n          {\n            \"text\": \"passcode\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Validate Passcode"
              }
            },
            "idUnique": "jp0gdz08sh"
          },
          "position": {
            "x": 1915,
            "y": 3060
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "mi4r3s3wvc",
            "nodeType": "EVAL",
            "properties": {
              "undefined": {
                "value": "anyTriggersFalse"
              },
              "ly3h9shl84": {
                "value": "anyTriggersFalse"
              },
              "a0d3i3stgd": {
                "value": "anyTriggersFalse"
              },
              "wdn4q8gbrb": {
                "value": "anyTriggersFalse"
              }
            },
            "idUnique": "jsgf2ovy4b"
          },
          "position": {
            "x": 2066,
            "y": 3060
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "uuyykie3ji",
            "nodeType": "EVAL",
            "idUnique": "dpd9nytlnp"
          },
          "position": {
            "x": 1526,
            "y": 3390
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "cj6pxtan53",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "887186z6vi"
              },
              "deviceAuthId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceAuthId\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.deviceAuthId}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.deviceAuthId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceAuthId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "canChangeDevice": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"canChangeDevice\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.canChangeDevice}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.canChangeDevice}}\",\n        \"children\": [\n          {\n            \"text\": \"canChangeDevice\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "usableDevices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"usableDevices\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.usableDevices}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.usableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"usableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "publicKeyCredentialCreationOptions": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"publicKeyCredentialCreationOptions\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.publicKeyCredentialCreationOptions}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.publicKeyCredentialCreationOptions}}\",\n        \"children\": [\n          {\n            \"text\": \"publicKeyCredentialCreationOptions\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "origin": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"origin\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.origin}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.origin}}\",\n        \"children\": [\n          {\n            \"text\": \"origin\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "maskedUsableDevices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"maskedUsableDevices\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.maskedUsableDevices}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.maskedUsableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedUsableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "maskedMagicLinkEmail": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"maskedMagicLinkEmail\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.maskedMagicLinkEmail}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.maskedMagicLinkEmail}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedMagicLinkEmail\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to Device Selection"
              }
            },
            "idUnique": "9hxhzj6ppv"
          },
          "position": {
            "x": 1676,
            "y": 3390
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "n700knxllp",
            "nodeType": "EVAL",
            "idUnique": "e7ua1izet2"
          },
          "position": {
            "x": 986,
            "y": 3060
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "1f892rorgf",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "g819woyri7"
              },
              "pingOneUserId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.pingOneUserId}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "authMethod": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"type\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.type}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.type}}\",\n        \"children\": [\n          {\n            \"text\": \"type\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to Success"
              }
            },
            "idUnique": "2vjtkh34dq"
          },
          "position": {
            "x": 2969,
            "y": 3062.000015992963
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "v8mrsmwtx1",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Transform Passcode To Lowercase"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "selectedDeviceType",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"type\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.type}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.type}}\",\n        \"children\": [\n          {\n            \"text\": \"type\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "passcode",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"codetextbox\",\n        \"data\": \"{{local.vphozwida3.payload.output.codetextbox}}\",\n        \"tooltip\": \"{{local.vphozwida3.payload.output.codetextbox}}\",\n        \"children\": [\n          {\n            \"text\": \"codetextbox\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "code": {
                "value": "module.exports = a = async ({ params }) => {\n\tconst passcode = params.selectedDeviceType === \"YUBIKEY\" ? params.passcode.toLowerCase() : params.passcode;\n\n\treturn { \"passcode\": passcode }\n}"
              },
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"passcode\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t}\n\t}\n}"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "idUnique": "re2v73q0dh"
          },
          "position": {
            "x": 1645,
            "y": 3060
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "lo4dsc5et8",
            "nodeType": "EVAL",
            "idUnique": "i0agq2fjgm"
          },
          "position": {
            "x": 1526,
            "y": 3060
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "u15b22s7og",
            "nodeType": "EVAL",
            "idUnique": "m4jhp9pkb"
          },
          "position": {
            "x": 1796,
            "y": 3060
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "a0d3i3stgd",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Incorrect code. Please try again, select Resend Code, or contact Owner Services.\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Invalid Passcode Error"
              },
              "errorDescription": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Incorrect code. Please try again, select Resend Code, or contact Owner Services.\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "z0hgib8ouz"
          },
          "position": {
            "x": 2220,
            "y": 3180
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "m5l2cif5p1",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "OTP Auth"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"type\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Type\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"type\"\n\t\t},\n\t\t\"maskedContact\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Masked Contact\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"maskedContact\"\n\t\t},\n\t\t\"deviceId\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Device ID\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"deviceId\"\n\t\t},\n\t\t\"resendMessage\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Resend Message\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"resendMessage\"\n\t\t}\n\t}\n}"
              }
            },
            "idUnique": "2hshyrpipm"
          },
          "position": {
            "x": 866,
            "y": 3060
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "vphozwida3",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Present OTP Form"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"type\": {\n\t\t\t\"displayName\": \"Device Type\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"maskedContact\": {\n\t\t\t\"displayName\": \"Masked Contact\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"canChangeDevice\": {\n\t\t\t\"displayName\": \"Can change Device\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"resendMessage\": {\n\t\t\t\"displayName\": \"Resend Message\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"errorMessage\": {\n\t\t\t\"displayName\": \"Error Message\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\t\t\n\t\t\"resendButtonLabel\": {\n\t\t\t\"displayName\": \"Resend Button Label\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"primaryButtonLabel\": {\n\t\t\t\"displayName\": \"Primary Button Label\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"isManagedAccountFlow\": {\n\t\t\t\"displayName\": \"Change password Cancel\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t}\n\t}\n}"
              },
              "outputSchema": {
                "value": {}
              },
              "customHTML": {
                "value": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Enter OTP</title>\n  <link rel=\"stylesheet\" href=\"./codeEntery_success.css\" />\n  <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\n  <!-- Auther: Swapnali Deshmukh -->\n  <!-- version:1.0.6 -->\n</head>\n\n<body>\n\n\n  <!-- Enter code page=============================================== -->\n  <div id=\"codeEntryModal\" class=\"main-container\">\n    <div class=\"modal\" id=\"entercodeModal\">\n      <h2>Enter Code</h2>\n      <p>{{local.znp8h3xt42.payload.output.rawResponse.test.otp}}</p>\n      {{#if isManagedAccountFlow}}\n      <div class=\"close-btn\" id=\"closeBtn\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\n        data-skbuttonvalue=\"CLOSE\" data-skform=\"frmCode\">\n        <img width=\"20\" height=\"20\" src=\"https://content.marriottvacationclub.com/icon/close-x.png\" alt=\"external-close-button-it-and-computer-inkubators-basic-outline-inkubators\"/>\n      </div>\n      {{/if}}\n\n      {{#if canChangeDevice}}\n      <div class=\"close-btn\" id=\"cancelBtn\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\n        data-skbuttonvalue=\"CANCEL\" data-skform=\"frmCode\">\n        <img width=\"20\" height=\"20\" src=\"https://content.marriottvacationclub.com/icon/close-x.png\" alt=\"external-close-button-it-and-computer-inkubators-basic-outline-inkubators\"/>\n      </div>\n      {{/if}}\n\n\n\n      <!-- <div id=\"dev-translation-container\" style=\"margin-bottom: 12px;\">\n        <p id=\"dev-translation-msg\" style=\"font-weight: bold; color: green; margin: 0;\">\n          Translation text will be injected here by applyDevTranslation\n        </p>\n      </div> -->\n      <div class=\"info-box\" id=\"dynamicMessage\">\n        Please enter the code {{#ifEquals type \"SMS\"}} sent to\n        <strong>\n {{maskedContact}}\n</strong> {{/ifEquals}} {{#ifEquals type\n        \"VOICE\"}} shared with <strong>\n {{maskedContact}}\n</strong> {{/ifEquals}}\n        {{#ifEquals type \"EMAIL\"}} sent to <strong>{{maskedContact}}</strong>. If you cannot access that email address,\n        please contact <a href=\"https://www.marriottvacationclubs.com/s/contact-us\" target=\"_blank\"\n          rel=\"noopener noreferrer\" style=\"color:black;\"><strong>Owner/Member Services</strong> </a> for assistance.\n        {{/ifEquals}} <br />\n        {{#ifEquals type \"TOTP\"}}\n        <!-- exclude expiry -->\n        {{else}}\n        <strong class=\"code-validity-label\">Code is valid for 10 minutes.</strong>\n        {{/ifEquals}}\n      </div>\n\n      <form id=\"frmCode\">\n        {{#if resendMessage}}\n        <div class=\"login--ConfirmationMessage\" data-skcomponent=\"sksuccess\">\n          <div class=\"login--NewCodeHasBeenSent\" style=\"display: flex;align-items: center;justify-content: flex-start;\">\n            <img src=\"https://content.marriottvacationclub.com/icon/green-check-circle.png\" style=\"margin-right: 5px;\"/> A new code has been sent.\n          </div>\n          <div data-layer=\"Bounding box\" class=\"BoundingBox\">\n\n          </div>\n        </div>\n        {{/if}}\n\n        {{#if errorMessage}}\n        <div class=\"login--ConfirmationMessage\" data-skcomponent=\"sksuccess\">\n          <div class=\"text-danger mdi mdi-alert-circle text-center icon-padding\"\n            style=\"display: flex;align-items: center;justify-content: flex-start;border: 1px solid #eb0000;padding: 12px 16px;border-radius: 5px;background: #f6ecec;\">\n            <img src=\"https://content.marriottvacationclub.com/icon/trianglewarning.png\" style=\"margin-right: 5px;\"/> You have reached the resend limit. Please try with another device or try again later.\n          </div>\n          <div data-layer=\"Bounding box\" class=\"BoundingBox\">\n\n          </div>\n        </div>\n        {{/if}}\n        <!--<div class=\"text-danger mdi mdi-alert-circle text-center icon-padding error-div\" data-id=\"feedback\"\n          data-skcomponent=\"skerror\" id=\"error-msg\"><img src=\"https://content.marriottvacationclub.com/icon/trianglewarning.png\"></div> -->\n        <!--<div class=\"text-danger mdi mdi-alert-circle text-center icon-padding error-div\" data-id=\"feedback\"\n          data-skcomponent=\"skerror\" id=\"error-msg\"><img src=\"https://content.marriottvacationclub.com/icon/trianglewarning.png\" style=\"margin-right: 5px;\"/>\n        </div>-->\n\n\n        <!-- <div class=\"error-container text-center\" id='errorContainer'>\n            <img src=\"https://content.marriottvacationclub.com/icon/trianglewarning.png\" id=\"error-icon\"\n                    alt=\"Warning\" \n                    style=\"width:20px;height:20px;vertical-align:middle;margin-right:5px; display:none;\">\n            <div class=\"text-danger mdi mdi-alert-circle text-center icon-padding\" id=\"feedbackError\" data-id=\"feedback\" \n                  data-skcomponent=\"skerror\" aria-live=\"assertive\"></div>\n        </div> -->\n\n        <div class=\"error-container text-center\">\n          <img alt=\"Warning\" id=\"error-icon\" src=\"https://content.marriottvacationclub.com/icon/trianglewarning.png\"\n    style=\"width: 20px; height: 20px; vertical-align: middle; margin-right: 5px; display: none;\">\n          <div id=\"error-msg\" data-skcomponent=\"skerror\" data-id=\"feedback\"\n            class=\"text-danger mdi mdi-alert-circle icon-padding error-div\"></div>\n        </div>\n\n        <div class=\"checkbox-group\">\n          <input\n              type=\"checkbox\"\n              id=\"rememberMe\"\n              class=\"rememberMe-trust\"\n              trustBrowserChecked\n\ntrustBrowserChecked {{global.variables.trustBrowserChecked}}\n\n            />\n          <label for=\"rememberMe\" class=\"trust-device\">Trust this device</label>\n        </div>\n\n        <div class=\"input-group\">\n          <label for=\"codetextbox\">CODE</label>\n          <input\n              id=\"codetextbox\"\n              maxlength=\"6\"\n              class=\"otp-box GlobalLinkNoTx\"\n            />\n        </div>\n\n        <!-- Auto-submitted button -->\n        <button\n            id=\"Submit\"\n            type=\"submit\"\n            aria-label=\"click the button to Send code\"\n            style=\"display: none\"\n            data-skcomponent=\"skbutton\"\n            data-skbuttontype=\"form-submit\"\n            data-skbuttonvalue=\"NEXT\"\n            data-skform=\"frmCode\"\n          >\n            Submit\n          </button>\n        {{#ifEquals type \"TOTP\"}}\n        <!-- exclude resend option -->\n        {{else}}\n        <div class=\"link-buttons\">\n          <button\n              id=\"RESEND\"\n              type=\"submit\"\n              aria-label=\"click the button to Send code\"\n              class=\"login--button-resend\"\n              data-skcomponent=\"skbutton\"\n              data-skbuttontype=\"next-event\"\n              data-skbuttonvalue=\"RESEND\"\n              data-skform=\"frmCode\"\n            >\n              Resend Code\n            </button>\n          {{/ifEquals}}\n          {{#if canChangeDevice}}\n          <button\n              id=\"CANCEL\"\n              type=\"submit\"\n              aria-label=\"click the button to Send code\"\n              class=\"login--button-choosediffmodel\"\n              data-skcomponent=\"skbutton\"\n              data-skbuttontype=\"next-event\"\n              data-skbuttonvalue=\"CANCEL\"\n              data-skform=\"frmCode\" style=\"margin-left: 20px;\"\n            >\n              Choose Another Method\n            </button>\n          {{/if}}\n\n\n        </div>\n      </form>\n    </div>\n  </div>\n  <!-- <script src=\"./codeEntery_success.js\"></script> -->\n</body>\n\n</html>"
              },
              "customCSS": {
                "value": "\n      * {\n        box-sizing: border-box;\n        margin: 0;\n        padding: 0;\n        font-family: Roboto;\n      }\n\n      body {\n        font-family: Arial, sans-serif;\n        /* background-color: rgba(0, 0, 0, 0.75); */\n         /* background-color: rgba(0, 0, 0, 0.6); */\n      }\n .error-container {\n  display: flex;\n  align-items: flex-start;\n  justify-content: first-start;\n  gap: 5px;\n}\n#error-msg {\n  position: relative;\n  display: inline-flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n  text-align: left;\n}\n\n/* Show icon only when message text is not empty */\n#error-msg:not(:empty)::before {\n  content: url('https://content.marriottvacationclub.com/icon/trianglewarning.png');\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  margin-right: 5px;\n  vertical-align: middle;\n}\n#error-msg:not(:empty) + .login--ConfirmationMessage {\n  display: none;\n}\n\n      body {\n  margin: 0;\n  padding: 0;\n  font-family: Arial, sans-serif;\n}\n\n.main-container {\n  padding: 20px;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n\n  /* Your background image */\n  /* background-image: url('./image/Screenshot\\ 2025-08-14\\ 235555.png');  */\n  background-size: cover;\n  background-position: center;\n}\n\n/* Overlay (dark transparent background) */\n.main-container::before {\n    content: \"\";\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    /* background: rgba(0, 0, 0, 85); */\n    z-index: -1;\n    opacity: 0.7;\n}\n\n\n\n      /* Modal */\n      .modal {\n        position: relative;\n        background: white;\n        border-radius: 12px;\n        /* padding: 24px 24px 20px; */\n        padding: 48px;\n        width: 100%;\n        /* max-width: 480px; */\n        max-width: 760px;\n        height: auto;\n        /* box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25); */\n        margin: 0 auto;\n      }\n\n      /* Close () */\n      .close-btn {\n        position: absolute;\n        top: 16px;\n        right: 16px;\n        font-size: 28px;\n        font-weight: 500;\n        background: none;\n        border: none;\n        cursor: pointer;\n        color: #000;\n      }\n\n      /* Heading */\n      .modal h2 {\n        font-size: 20px;\n        font-weight: 600;\n        margin: 0 0 12px;\n      }\n\n      /* Info text */\n      .info-box {\n        margin-bottom: 20px;\n        /* font-size: 14px; */\n        font-size: 16px;\n        font-weight: 400;\n        color: #333;\n        line-height: 1.5;\n      }\n\n      /* Space above the validity line, Scoped by the container class */\n      .info-box .code-validity-label {\n        display: block;\n        margin-top: 12px;\n      }\n\n      .info-box strong {\n        font-weight: 600;\n      }\n\n      /* Label */\n      .input-group {\n        margin-bottom: 12px;\n      }\n\n      .input-group label {\n        display: block;\n        font-size: 12px;\n        font-weight: 500;\n        /* margin-bottom: 6px; */\n      }\n\n      /* OTP Input */\n      .otp-box {\n        width: 70%;\n        height: 38px;\n        padding: 8px 10px;\n        font-size: 14px;\n        border: 1px solid #ccc;\n        border-radius: 6px;\n        outline: none;\n      }\n\n      /* Checkbox */\n       .checkbox-group {\n        margin-bottom: 20px;\n        display: flex;\n      }\n \n .checkbox-group .rememberMe-trust {\n    appearance: none !important;\n    -webkit-appearance: none !important;\n    width: 20px !important;\n    height: 20px !important;\n    border: 2px solid #000 !important;\n    border-radius: 4px !important;\n    margin-right: 8px !important;\n    cursor: pointer !important;\n    position: relative !important;\n}\n#rememberMe {\n  display: inline-block; /* or 'block', 'initial' */\n}\n \n/* Checked state */\n.checkbox-group .rememberMe-trust:checked {\n    background-color: white !important;\n}\n \n/* Optional: Add a checkmark */\n.checkbox-group .rememberMe-trust::after {\n    content: \"\" !important;\n    position: absolute !important;\n    display: none !important;\n    top: 2px !important;\n    left: 5px !important;\n    width: 5px !important;\n    height: 10px !important;\n    border: solid #000000 !important;\n    border-width: 0 2px 2px 0 !important;\n    transform: rotate(45deg) !important;\n}\n \n.checkbox-group .rememberMe-trust:checked::after {\n    display: block !important;\n}\n.trust-device{\n  font-size: 16px;\n  font-family: \"Roboto\";\n  font-weight: 400;\n}\n\n\n      /* Action Buttons */\n      .link-buttons {\n        display: flex;\n        gap: 1rem;\n        flex-wrap: wrap;\n        margin-top: 25px;\n      }\n\n      .link-buttons button {\n        background: none;\n        border: none;\n        color: #000;\n        /* font-size: 13px; */\n        font-size: 16px;\n        cursor: pointer;\n        text-decoration: underline;\n        padding: 0;\n        transition: color 0.2s ease;\n        /* font-weight: 700; */\n        font-weight: 600;\n      }\n\n      /* .link-buttons button:hover {\n        color: #0073aa;\n      } */\n\n      /* Mobile First Responsive */\n      @media (max-width: 480px) {\n        .modal {\n          padding: 20px 16px;\n        }\n\n        .link-buttons {\n          flex-direction: row;\n          gap: 30px;\n          align-items: flex-start;\n          margin-top: 16px;\n        }\n\n        .link-buttons button {\n          font-size: 14px;\n        }\n      }\n      \n      /* css for iframe===================================================> */\n   html, body {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden; /* prevents scrollbars */\n}\n\n.background-iframe {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: -2;\n  border: none;\n}\n\n.main-container {\n  position: relative;\n  z-index: 1;\n}\n\n.login--NewCodeHasBeenSent{\n  padding:10px;\n  border:1px solid green;\n  color: green;\n  border-radius: 5px;\n  margin-bottom: 10px;\n}\n\n.text-danger{\n  color:#C50000;\n}\n/* .error-div{\nborder: 1px solid #C50000 ;\nborder-radius: 5px;\nbackground-color: #F6ECEC;\ntext-align: left;\nfont-family: var(--body-smaller-font-family, 'Roboto-Regular', sans-serif);\nfont-size: var(--body-smaller-font-size, 14px);\nline-height: var(--body-smaller-line-height, 22px);\nfont-weight: var(--body-smaller-font-weight, 400);\nposition: relative;\nflex: 1;\n  padding: 15px;\n} */\n.error-div{\n border: 1px solid #eb0000;\n   background: #f6ecec;\n   border-radius: var(--corner-radii-5px, 5px);\n  color: #c50000;\ntext-align: left;\nfont-family: var(--body-smaller-font-family, 'Roboto-Regular', sans-serif);\nfont-size: var(--body-smaller-font-size, 14px);\nline-height: var(--body-smaller-line-height, 22px);\nfont-weight: var(--body-smaller-font-weight, 400);\nposition: relative;\nflex: 1;\n padding: 12px 16px 12px 16px;\n margin-bottom: 10px;\n}\n/* Tablet and Mobile (768px and below) */\n@media (max-width: 768px) {\n  .close-btn {\n    position: absolute;\n    top: 12px;   /* adjust for spacing */\n    right: 12px;\n    left: auto;  /* override desktop left offset */\n    transform: none;\n    font-size: 20px;\n    width: 20px;\n    height: 20px;\n  }\n\n  .modal {\n    max-width: 95%;  /* so modal fits smaller screens */\n    padding: 24px 16px;\n  }\n}\n\n/* Smaller mobile (480px and below) */\n@media (max-width: 480px) {\n  .close-btn {\n    top: 10px;\n    right: 10px;\n    font-size: 18px;\n  }\n\n  .modal {\n    padding: 16px 12px;\n  }\n}"
              },
              "customScript": {
                "value": "\n\n const codeInput = document.getElementById(\"codetextbox\");\n const autoSubmitBtn = document.getElementById(\"Submit\");\n const ResendButton = document.getElementById('RESEND');\n//const cancelBtn = document.getElementById(\"cancelBtn\");\n const modal = document.getElementById(\"entercodeModal\"); \n\nconst domain = \"{{global.variables.domain}}\";\n console.log(\"Domain  is:\", domain); \n//   const moxieKey =getMoxieKey(domain);\n//  console.log('moxi key is ', moxieKey);\n \n\ndocument.getElementById(\"frmCode\").addEventListener(\"keydown\", function (event) {\n  if (event.key === \"Enter\") {\n    event.preventDefault();   // Stops submit\n    return false;\n  }\n});\n\n// ------------------ Config ------------------\n  // const dev = true; // set to false in production\n  //const moxieKey = \"PEE47-327B-3359-EAD0\"; // replace with your OLJS key\n  // const moxieKey =\"{{global.company.variables.moxieKeyMVC}}\";\n   const MOXIE_SCRIPT_ID = 'moxie-translation-script';\n\n// --- NEW: Unique IDs for our dynamic elements ---\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\n\n// Track whether background is currently active\nlet backgroundVisible = false;\n\n\n\n/**cancelBtn.addEventListener(\"click\", () => {\n  modal.style.display = \"none\";\n});  */\n\n\ncodeInput.addEventListener('input', function () {\n  const value = codeInput.value.replace(/\\D/g, '').slice(0, 6);\n  codeInput.value = value\n  if (value.length === 6) {\n    setTimeout(() => {\n      autoSubmitBtn.click();\n    }, 1000);\n  }\n  showErrorMessage();\n});\n\nif (ResendButton) {\n  ResendButton.addEventListener('click', function () {\n    const codeTextbox = document.getElementById('codetextbox');\n    if (codeTextbox) {\n      codeTextbox.value = \"\";\n    }\n     showNewCodeMessage();\n  });\n}\n\n\n\n\n// New js for background\n\n\n/**\n * Creates and injects a dimmed, full-screen iframe background.\n * Checks if elements already exist to avoid duplicates.\n * @param {string} url - The URL for the background website.\n */\nfunction insertBackgroundSiteDimmed(url) {\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\n\n  // Create the dimming overlay\n  const overlay = document.createElement('div');\n  overlay.id = BACKGROUND_OVERLAY_ID;\n  overlay.style.cssText = `\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\n      background:rgba(0,0,0,0.8); z-index:-1;\n    `;\n\n  // Create the iframe\n  const iframe = document.createElement('iframe');\n  iframe.id = BACKGROUND_IFRAME_ID;\n  iframe.src = url;\n  iframe.style.cssText = `\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\n      border:none; z-index:-2;\n    `;\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\n iframe.setAttribute(\"aria-hidden\", \"true\");\niframe.setAttribute(\"tabindex\", \"-1\");\n\n  // Add them to the page\n  document.body.insertBefore(overlay, document.body.firstChild);\n  document.body.insertBefore(iframe, document.body.firstChild);\n\n  console.log(\"Dimmed background and iframe have been injected.\");\n}\n\n\n\n// --- 1. Main Logic to Control the Background ---\nconst manageBackgroundVisibility = () => {\n  const modal = document.getElementById('codeEntryModal');\n\n  if (modal && !backgroundVisible) {\n\n    if (domain.includes(\"grandresidenceclub.com\")) {\n      if(\"{{global.parameters.isManagedAccountFlow}}\")\n      {\n        insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageManageAccount}}\");\n      }\n      else \n      {\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\n      }\n      backgroundVisible = true;\n\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\n      if(\"{{global.parameters.isManagedAccountFlow}}\")\n      {\n        insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageManageAccount}}\");\n      }\n      else \n      {\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\n      }\n      \n      backgroundVisible = true;\n    }\n    else {\n      if(\"{{global.parameters.isManagedAccountFlow}}\")\n      {\n        insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageManageAccount}}\");\n      }\n      else \n      {\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\n      }\n      \n      \n      backgroundVisible = true;\n    }\n  }\n  //  else if (!modal && backgroundVisible) {\n  //   removeBackgroundSiteDimmed();\n  //   backgroundVisible = false;\n  // }\n};\n\n// --- 2. Watch for Page Changes in the SPA ---\nconst observer = new MutationObserver(manageBackgroundVisibility);\nobserver.observe(document.body, { childList: true, subtree: true });\n\n// --- 3. Initial Setup ---\nmanageBackgroundVisibility();\n\n\n//Simultenious error msg and success msg handle\n\nconst newCodeMsg = document.querySelector('.login--NewCodeHasBeenSent');\nconst errorMsg = document.getElementById('feedbackError');\n\n\n// Hide error when new code sent\nfunction showNewCodeMessage() {\n    if (newCodeMsg) newCodeMsg.style.display = \"flex\";\n    if (errorMsg) errorMsg.style.display = \"none\";\n}\n\n// Hide success when there is an error\nfunction showErrorMessage() {\n    if (errorMsg) errorMsg.style.display = \"block\";\n    if (newCodeMsg) newCodeMsg.style.display = \"none\";\n}\n\n\n\n"
              },
              "validationRules": {
                "value": []
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"type\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.type}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.type}}\",\n        \"children\": [\n          {\n            \"text\": \"type\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "canChangeDevice": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"canChangeDevice\",\n        \"data\": \"{{global.variables.canChangeDevice}}\",\n        \"tooltip\": \"{{global.variables.canChangeDevice}}\",\n        \"children\": [\n          {\n            \"text\": \"canChangeDevice\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "propertyName": "codetextbox",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "propertyName": "rememberMe",
                    "preferredControlType": "textField",
                    "preferredDataType": "boolean",
                    "value": "",
                    "hashedVisibility": false
                  }
                ]
              },
              "maskedContact": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"maskedContact\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.maskedContact}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.maskedContact}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedContact\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "resendButtonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Resend passcode\"\n      }\n    ]\n  }\n]"
              },
              "primaryButtonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Continue\"\n      }\n    ]\n  }\n]"
              },
              "resendMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"successMessage\",\n        \"data\": \"{{global.variables.successMessage}}\",\n        \"tooltip\": \"{{global.variables.successMessage}}\",\n        \"children\": [\n          {\n            \"text\": \"successMessage\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeDescription": {
                "value": "One-time Passcode entry"
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "isManagedAccountFlow": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"isManagedAccountFlow\",\n        \"data\": \"{{global.parameters.isManagedAccountFlow}}\",\n        \"tooltip\": \"{{global.parameters.isManagedAccountFlow}}\",\n        \"children\": [\n          {\n            \"text\": \"isManagedAccountFlow\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"errorMessage\",\n        \"data\": \"{{global.variables.errorMessage}}\",\n        \"tooltip\": \"{{global.variables.errorMessage}}\",\n        \"children\": [\n          {\n            \"text\": \"errorMessage\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1136,
            "y": 3060
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "463i9zwyn8",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1256,
            "y": 3060
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "zs2v65nl27",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f7f7adff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Input Schema: p1UserId, companyLogo, companyName, rpid, origin"
              },
              "width": {
                "value": 450
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": false
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "d2mbrib33f"
          },
          "position": {
            "x": 695,
            "y": 274
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "k0bpwctck8",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "maskedUsableDevices",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"maskedUsableDevices\",\n        \"data\": \"{{local.uuf6fcq882.payload.output.maskedUsableDevices}}\",\n        \"tooltip\": \"{{local.uuf6fcq882.payload.output.maskedUsableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedUsableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.84674801409157,
                    "label": "maskedUsableDevices (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "maskedUsableDevices"
                  },
                  {
                    "name": "canChangeDevice",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"canChangeDevice\",\n        \"data\": \"{{local.uuf6fcq882.payload.output.canChangeDevice}}\",\n        \"tooltip\": \"{{local.uuf6fcq882.payload.output.canChangeDevice}}\",\n        \"children\": [\n          {\n            \"text\": \"canChangeDevice\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.9131282728042873,
                    "label": "canChangeDevice (boolean - flowInstance)",
                    "type": "boolean",
                    "nameDefault": "canChangeDevice"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Masked Devices"
              }
            }
          },
          "position": {
            "x": 1655,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ozbnanfjeu",
            "nodeType": "EVAL",
            "properties": {
              "9glykpci4h": {
                "value": "allTriggersTrue"
              }
            }
          },
          "position": {
            "x": 1775,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9rcv21ooou",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "p1DeviceAuthenticationId",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.51dvh0pxyt.payload.output.rawResponse.id}}\",\n        \"tooltip\": \"{{local.51dvh0pxyt.payload.output.rawResponse.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.znp8h3xt42.payload.output.rawResponse.id}}\",\n        \"tooltip\": \"{{local.znp8h3xt42.payload.output.rawResponse.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.6571390496932172,
                    "type": "string",
                    "nameDefault": "id",
                    "label": "p1DeviceAuthenticationId (string - flowInstance)"
                  },
                  {
                    "name": "publicKeyCredentialRequestOptions",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"publicKeyCredentialRequestOptions\",\n        \"data\": \"{{local.51dvh0pxyt.payload.output.rawResponse.publicKeyCredentialRequestOptions}}\",\n        \"tooltip\": \"{{local.51dvh0pxyt.payload.output.rawResponse.publicKeyCredentialRequestOptions}}\",\n        \"children\": [\n          {\n            \"text\": \"publicKeyCredentialRequestOptions\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.7140552847447013,
                    "label": "publicKeyCredentialRequestOptions (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "publicKeyCredentialRequestOptions"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Authentication Variable"
              }
            },
            "isDisabled": false
          },
          "position": {
            "x": 1885,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ik3f0ne8ge",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f7f7adff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Input Schema: deviceId"
              },
              "width": {
                "value": 400
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": false
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "0vc9rsyaah"
          },
          "position": {
            "x": 716,
            "y": 2430
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hq6glgu4c1",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5D00D6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Set Selected Device"
              },
              "width": {
                "value": 1750
              },
              "fontStyle": {
                "value": "bold"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              }
            },
            "status": "configured",
            "idUnique": "tfqxapb06s"
          },
          "position": {
            "x": 716,
            "y": 2370
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ldr09vz70g",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5D00D6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "OTP Auth"
              },
              "width": {
                "value": 1750
              },
              "fontStyle": {
                "value": "bold"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              }
            },
            "status": "configured",
            "idUnique": "92arosy69z"
          },
          "position": {
            "x": 716,
            "y": 2850
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "kpulr4qpja",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "6j20qaj7dn": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2280,
            "y": 3570
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "oc8nhn1hn8",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "m5l2cif5p1"
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"type\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.type}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.type}}\",\n        \"children\": [\n          {\n            \"text\": \"type\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "maskedContact": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"maskedContact\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.maskedContact}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.maskedContact}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedContact\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceId\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.deviceId}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "resendMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"One-time passcode resent.\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to OTP Auth"
              }
            }
          },
          "position": {
            "x": 2752,
            "y": 3570
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "q1hgoyjizp",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "validateAssertionDeviceAuthentication",
            "type": "action",
            "properties": {
              "deviceAuthenticationId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceAuthId\",\n        \"data\": \"{{local.7qh7dk59mz.payload.output.deviceAuthId}}\",\n        \"tooltip\": \"{{local.7qh7dk59mz.payload.output.deviceAuthId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceAuthId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "assertion": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"assertionValue\",\n        \"data\": \"{{local.qfftwcpqt4.payload.output.assertionValue}}\",\n        \"tooltip\": \"{{local.qfftwcpqt4.payload.output.assertionValue}}\",\n        \"children\": [\n          {\n            \"text\": \"assertionValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "origin": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"origin\",\n        \"data\": \"{{global.variables.origin}}\",\n        \"tooltip\": \"{{global.variables.origin}}\",\n        \"children\": [\n          {\n            \"text\": \"origin\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Assert FIDO Device Authentication"
              }
            },
            "idUnique": "4mouq23bxc"
          },
          "position": {
            "x": 1711,
            "y": 3870
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "zvxga05uhm",
            "nodeType": "EVAL",
            "properties": {
              "undefined": {
                "value": "anyTriggersFalse"
              },
              "jwymlxqdgm": {
                "value": "anyTriggersFalse"
              },
              "lzfbivlj9q": {
                "value": "anyTriggersFalse"
              }
            },
            "idUnique": "71aldgnomn"
          },
          "position": {
            "x": 1831,
            "y": 3870
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "nxmhn90jfj",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "ANotEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.qfftwcpqt4.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.qfftwcpqt4.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"cancel\"\n      }\n    ]\n  }\n]",
                    "id": "aw94m7u2lh"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Split By User's Selection"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"CANCEL\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "78rowewdmo"
          },
          "position": {
            "x": 1441,
            "y": 3870
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "d2sms6g4l6",
            "nodeType": "EVAL",
            "idUnique": "ylqk29yc42"
          },
          "position": {
            "x": 1291,
            "y": 3870
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "q2skiuk25t",
            "nodeType": "EVAL",
            "idUnique": "z81x76nyv6",
            "properties": {
              "zd2tmmhgvd": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1561,
            "y": 3870
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "7qh7dk59mz",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"type\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Type\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"type\"\n\t\t}\n\t}\n}"
              },
              "nodeTitle": {
                "value": "FIDO2 Auth"
              }
            },
            "idUnique": "pm2qfjyxjd"
          },
          "position": {
            "x": 901,
            "y": 3870
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8o9lc4lmlq",
            "nodeType": "EVAL",
            "idUnique": "0moqd7vzdt",
            "properties": {
              "qfftwcpqt4": {
                "value": "allTriggersTrue"
              }
            }
          },
          "position": {
            "x": 1021,
            "y": 3870
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "0r644l3wck",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "g819woyri7"
              },
              "pingOneUserId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{local.7qh7dk59mz.payload.output.pingOneUserId}}\",\n        \"tooltip\": \"{{local.7qh7dk59mz.payload.output.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "authMethod": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"FIDO2\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to Success"
              }
            },
            "idUnique": "84a43azk0d"
          },
          "position": {
            "x": 1981,
            "y": 3870
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "lzfbivlj9q",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"message\",\n        \"data\": \"{{local.q1hgoyjizp.payload.error.message}}\",\n        \"tooltip\": \"{{local.q1hgoyjizp.payload.error.message}}\",\n        \"children\": [\n          {\n            \"text\": \"message\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Invalid Device Error"
              }
            },
            "idUnique": "z0hgib8ouz"
          },
          "position": {
            "x": 1981,
            "y": 4020
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "qfftwcpqt4",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "undefined": {
                "value": null
              },
              "nodeTitle": {
                "value": "Present FIDO2 Form "
              },
              "customHTML": {
                "value": "<div\n    class=\"bg-light d-flex flex-column justify-content-center align-items-center position-absolute top-0 start-0 bottom-0 end-0 overflow-auto\">\n    <div class=\"mh-100\" style=\"max-width: 400px; width: 100%;\">\n        <div class=\"card shadow mb-5\">\n            <div class=\"card-body p-5 d-flex flex-column\">\n               <img class=\"companyLogo align-self-center mb-5\" src=\"{{global.variables.companyLogo}}\" alt=\"{{global.variables.companyName}}\" />\n                <h1 class=\"text-center mb-4\">\n                    {{#ifEquals type \"FIDO2\"}}\n                    <i class=\"mdi mdi-account-key-outline text-dark fs-2\" aria-hidden=\"true\"></i>\n                    Passkey\n                    {{/ifEquals}}\n                </h1>\n                <p class=\"text-muted text-center\">\n                    Follow the directions your browser provides to finish\n                    {{#ifEquals type \"FIDO2\"}} Passkey {{/ifEquals}}\n                    authentication.\n                </p>\n                <p class=\"text-danger mdi mdi-alert-circle icon-padding\" data-id=\"feedback\" data-skcomponent=\"skerror\"></p>\n                <form id=\"error-form\" data-id=\"error-form\">\n                    <button class=\"hidden-button\" data-skcomponent=\"skbutton\" data-skbuttontype=\"form-submit\"\n                        data-skform=\"error-form\" data-skbuttonvalue=\"InvalidStateError\" id=\"errorButton\">\n                        Next\n                    </button>\n                </form>\n                <div class=\"d-flex flex-column mt-5\">\n                    <button id=\"fidoButton\" class=\"btn btn-primary mb-3\">\n                        Retry\n                    </button>\n                </div>\n                <form id=\"fido-form\" data-id=\"fido-form\" class=\"d-flex flex-column\">\n                    <input type=\"hidden\" name=\"assertionValue\" id=\"assertionValue\" />\n                    <button class=\"hidden-button\" data-skcomponent=\"skbutton\" data-skbuttontype=\"form-submit\"\n                        data-skform=\"fido-form\" data-skbuttonvalue=\"submit\" id=\"assertionButton\">\n                        Next\n                    </button>\n                    {{#if canChangeDevice}}\n                    <button id=\"cancel\" class=\"btn btn-link\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\n                        data-skform=\"fido-form\" data-skbuttonvalue=\"CANCEL\">\n                        Change Device\n                    </button>\n                    {{/if}}\n                </form>\n            </div>\n        </div>\n    </div>\n</div>"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "propertyName": "assertionValue",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  }
                ]
              },
              "customCSS": {
                "value": ".hidden-button{\n    display: none;\n}"
              },
              "customScript": {
                "value": "var authAbortController = window.PublicKeyCredential ? new AbortController() : null;\nvar authAbortSignal = window.PublicKeyCredential ? authAbortController.signal : null;\n\nwindow.abortWebAuthnSignal = function abortWebAuthnSignal() {\n        authAbortController.abort();\n        authAbortController = new AbortController();\n        authAbortSignal = authAbortController.signal;\n}\n\nwindow.IsWebAuthnSupported = function IsWebAuthnSupported() {\n        if (!window.PublicKeyCredential) {\n                console.log(\"Web Authentication API is not supported on this browser.\");\n                return false;\n        }\n        return true;\n}\n\nwindow.isWebAuthnPlatformAuthenticatorAvailable = function isWebAuthnPlatformAuthenticatorAvailable() {\n        var timer;\n        var p1 = new Promise(function (resolve) {\n                timer = setTimeout(function () {\n                        resolve(false);\n                }, 1000);\n        });\n        var p2 = new Promise(function (resolve) {\n                if (IsWebAuthnSupported() && window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable) {\n                        resolve(\n                                window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().catch(function (err) {\n                                        console.log(err);\n                                        return false;\n                                }));\n                }\n                else {\n                        resolve(false);\n                }\n        });\n        return Promise.race([p1, p2]).then(function (res) {\n                clearTimeout(timer);\n                return res;\n        });\n}\nwindow.WebAuthnPlatformAuthentication = function WebAuthnPlatformAuthentication(publicKeyCredentialRequestOptions) {\n        return new Promise(function (resolve, reject) {\n                isWebAuthnPlatformAuthenticatorAvailable().then(function (result) {\n                        if (result) {\n                                resolve(Authenticate(publicKeyCredentialRequestOptions));\n                        }\n                        reject(Error(\"UnSupportedBrowserError\"));\n                });\n        });\n}\nfunction Authenticate(publicKeyCredentialRequestOptions) {\n        return new Promise(function (resolve, reject) {\n                var options = JSON.parse(publicKeyCredentialRequestOptions);\n                var publicKeyCredential = {};\n                publicKeyCredential.challenge = new Uint8Array(options.challenge);\n                if ('allowCredentials' in options) {\n                        publicKeyCredential.allowCredentials = credentialListConversion(options.allowCredentials);\n                }\n                if ('rpId' in options) {\n                        publicKeyCredential.rpId = options.rpId;\n                }\n                if ('timeout' in options) {\n                        publicKeyCredential.timeout = options.timeout;\n                }\n                if ('userVerification' in options) {\n                        publicKeyCredential.userVerification = options.userVerification;\n                }\n                navigator.credentials.get({ \"publicKey\": publicKeyCredential })\n                        .then(function (assertion) {\n                                // Send new credential info to server for verification and registration.\n                                var publicKeyCredential = {};\n                                if ('id' in assertion) {\n                                        publicKeyCredential.id = assertion.id;\n                                }\n                                if ('rawId' in assertion) {\n                                        publicKeyCredential.rawId = toBase64Str(assertion.rawId);\n                                }\n                                if ('type' in assertion) {\n                                        publicKeyCredential.type = assertion.type;\n                                }\n                                var response = {};\n                                response.clientDataJSON = toBase64Str(assertion.response.clientDataJSON);\n                                response.authenticatorData = toBase64Str(assertion.response.authenticatorData);\n                                response.signature = toBase64Str(assertion.response.signature);\n                                response.userHandle = toBase64Str(assertion.response.userHandle);\n                                publicKeyCredential.response = response;\n                                resolve(JSON.stringify(publicKeyCredential));\n                                document.getElementById(\"assertionValue\").value = JSON.stringify(publicKeyCredential);\n\n                                document.getElementById('assertionButton').click();\n                        }).catch(function (err) {\n                                // No acceptable authenticator or user refused consent. Cancel authentication\n                                // if this is the only device so we don't loop\n                                console.log(\"No acceptable authenticator or user refused consent\");\n\n                        });\n        });\n}\nfunction credentialListConversion(list) {\n        var credList = [];\n        for (var i = 0; i < list.length; i++) {\n                var cred = {\n                        type: list[i].type,\n                        id: new Uint8Array(list[i].id)\n                };\n                if (list[i].transports) {\n                        cred.transports = list[i].transports;\n                }\n                credList.push(cred);\n        }\n        return credList;\n}\nfunction toBase64Str(bin) {\n        return btoa(String.fromCharCode.apply(null, new Uint8Array(bin)));\n}\n\nconst fidoButton = document.getElementById(\"fidoButton\");\nfidoButton.addEventListener(\"click\", startFido);\nfunction startFido() {\n        Authenticate('{{{skjson publicKeyCredentialCreationOptions}}}');\n}\nfidoButton.click();"
              },
              "inputSchema": {
                "value": "{\n    \"type\": \"object\",\n    \"properties\": {\n        \"type\": {\n            \"displayName\": \"device type\",\n            \"preferedControlType\": \"textField\",\n            \"enableParameters\": true\n        },\n        \"publicKeyCredentialCreationOptions\": {\n            \"displayName\": \"credentials\",\n            \"preferedControlType\": \"textField\",\n            \"enableParameters\": true\n        },\n        \"canChangeDevice\": {\n            \"displayName\": \"more then one usable device\",\n            \"preferedControlType\": \"textField\",\n            \"enableParameters\": true\n        }\n    }\n}"
              },
              "outputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"buttonValue\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"propertyName\": \"buttonValue\"\n\t\t},\n\t\t\"assertionValue\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"propertyName\": \"assertionValue\"\n\t\t}\n\t}\n}"
              },
              "validationRules": {
                "value": []
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"type\",\n        \"data\": \"{{local.7qh7dk59mz.payload.output.type}}\",\n        \"tooltip\": \"{{local.7qh7dk59mz.payload.output.type}}\",\n        \"children\": [\n          {\n            \"text\": \"type\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "canChangeDevice": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"canChangeDevice\",\n        \"data\": \"{{global.variables.canChangeDevice}}\",\n        \"tooltip\": \"{{global.variables.canChangeDevice}}\",\n        \"children\": [\n          {\n            \"text\": \"canChangeDevice\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "publicKeyCredentialCreationOptions": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"publicKeyCredentialRequestOptions\",\n        \"data\": \"{{global.variables.publicKeyCredentialRequestOptions}}\",\n        \"tooltip\": \"{{global.variables.publicKeyCredentialRequestOptions}}\",\n        \"children\": [\n          {\n            \"text\": \"publicKeyCredentialRequestOptions\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "3uy99xopth"
          },
          "position": {
            "x": 1171,
            "y": 3870
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "52ymwppqqf",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 2156,
            "y": 2760
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "is8hgaqrhz",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "7qh7dk59mz"
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"selectedDeviceType\",\n        \"data\": \"{{local.69vlbm4ebu.payload.output.selectedDeviceType}}\",\n        \"tooltip\": \"{{local.69vlbm4ebu.payload.output.selectedDeviceType}}\",\n        \"children\": [\n          {\n            \"text\": \"selectedDeviceType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to Fido2 Auth"
              }
            }
          },
          "position": {
            "x": 2336,
            "y": 2760
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "pzhea9r7av",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "publicKeyCredentialRequestOptions",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"publicKeyCredentialRequestOptions\",\n        \"data\": \"{{local.n07uwx9xjr.payload.output.rawResponse.publicKeyCredentialRequestOptions}}\",\n        \"tooltip\": \"{{local.n07uwx9xjr.payload.output.rawResponse.publicKeyCredentialRequestOptions}}\",\n        \"children\": [\n          {\n            \"text\": \"publicKeyCredentialRequestOptions\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.6942137882093651,
                    "label": "publicKeyCredentialRequestOptions (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "publicKeyCredentialRequestOptions"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Authentication Variables"
              }
            },
            "idUnique": "yp4ozn6rqp"
          },
          "position": {
            "x": 1736,
            "y": 2580
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "zd2tmmhgvd",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "4v10j3tx0j"
              },
              "nodeTitle": {
                "value": "Go to Device Selection"
              }
            }
          },
          "position": {
            "x": 1711,
            "y": 4020
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "q77nrc1y9x",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f7f7adff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Input Schema: type, maskedContact, deviceId, resendMessage"
              },
              "width": {
                "value": 500
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": false
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "pkb3xijmjo"
          },
          "position": {
            "x": 746,
            "y": 2940
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "lw8ygbvi7b",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5D00D6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "FIDO2 Auth"
              },
              "width": {
                "value": 1450
              },
              "fontStyle": {
                "value": "bold"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              }
            },
            "status": "configured",
            "idUnique": "kme9ln4htk"
          },
          "position": {
            "x": 733,
            "y": 3690
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "c0ozfj5ruo",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f7f7adff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Input Schema: type"
              },
              "width": {
                "value": 400
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": false
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "4330dvgk8r"
          },
          "position": {
            "x": 721,
            "y": 3750
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "6b7v5qwq97",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f7f7adff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Input Schema: authMethod"
              },
              "width": {
                "value": 400
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": false
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "sle1zrzpb2"
          },
          "position": {
            "x": 721,
            "y": 4200
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "vt832wada2",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1856,
            "y": 2580
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "lcj0csy5zf",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"selectedDeviceType\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDeviceEmail\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDevicePhone\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDeviceContact\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDeviceName\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDeviceOtpEnabled\": {\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t}\n\t}\n}"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "devices",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"maskedUsableDevices\",\n        \"data\": \"{{global.variables.maskedUsableDevices}}\",\n        \"tooltip\": \"{{global.variables.maskedUsableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedUsableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "id",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.51dvh0pxyt.payload.output.rawResponse.selectedDevice.id}}\",\n        \"tooltip\": \"{{local.51dvh0pxyt.payload.output.rawResponse.selectedDevice.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "code": {
                "value": "module.exports = a = async ({ params }) => {\n\tlet id = params.id\n\n\tif (id) {\n\t\tvar selected = JSON.parse(params.devices).filter(device => {\n\t\t\treturn device.id == params.id;\n\t\t});\n\n\t\tif (selected && selected.length > 0 && selected[0].hasOwnProperty(\"nickname\")) {\n\t\t\tvar deviceName = selected[0].nickname;\n\t\t}\n\n\t\tif (selected[0].model) {\n\t\t\tdeviceName = selected[0].model.marketingName;\n\t\t}\n\n\t\tif (selected[0].displayName) {\n\t\t\tdeviceName = selected[0].displayName;\n\t\t}\n\n\t\treturn {\n\t\t\tselectedDeviceType: selected[0].type,\n\t\t\tselectedDeviceEmail: selected[0].email,\n\t\t\tselectedDevicePhone: selected[0].phone,\n\t\t\tselectedDeviceContact: selected[0].email || selected[0].phone,\n\t\t\tselectedDeviceName: deviceName,\n\t\t\tselectedDeviceOtpEnabled: selected[0].otpEnabled\n\t\t}\n\t}\n}"
              },
              "nodeTitle": {
                "value": "Enrich Device Details"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "idUnique": "jiabp261pz",
            "isDisabled": false
          },
          "position": {
            "x": 2155,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9el3lwtjm0",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "m5l2cif5p1"
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"selectedDeviceType\",\n        \"data\": \"{{local.lcj0csy5zf.payload.output.selectedDeviceType}}\",\n        \"tooltip\": \"{{local.lcj0csy5zf.payload.output.selectedDeviceType}}\",\n        \"children\": [\n          {\n            \"text\": \"selectedDeviceType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "maskedContact": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"selectedDeviceContact\",\n        \"data\": \"{{local.lcj0csy5zf.payload.output.selectedDeviceContact}}\",\n        \"tooltip\": \"{{local.lcj0csy5zf.payload.output.selectedDeviceContact}}\",\n        \"children\": [\n          {\n            \"text\": \"selectedDeviceContact\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.51dvh0pxyt.payload.output.rawResponse.selectedDevice.id}}\",\n        \"tooltip\": \"{{local.51dvh0pxyt.payload.output.rawResponse.selectedDevice.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to OTP Auth"
              }
            },
            "isDisabled": false
          },
          "position": {
            "x": 2725,
            "y": 1830
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "3wbvt22p80",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 2575,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hxqtlccqlk",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "7qh7dk59mz"
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"FIDO2\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to Fido2 Auth"
              }
            },
            "isDisabled": false
          },
          "position": {
            "x": 2725,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "yh5twp5fsn",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<div class=\"end-user-nano\">\n    <div\n        class=\"bg-light d-flex flex-column justify-content-center align-items-center position-absolute top-0 start-0 bottom-0 end-0 overflow-auto\">\n        <div class=\"d-none\" \n            data-skcomponent=\"skpolling\" \n            data-skpollInterval=\"10\" \n            data-skpollRetries=\"1\"\n            data-skpollChallengeStatus=\"false\"></div>\n    </div>\n</div>"
              },
              "customCSS": {},
              "customScript": {},
              "nodeTitle": {
                "value": "NOP UI Page"
              },
              "formFieldsList": {
                "value": []
              },
              "nodeDescription": {
                "value": "Needed in the event no UI has been displayed"
              }
            },
            "idUnique": "3wi21s8m6z"
          },
          "position": {
            "x": 1115,
            "y": 4800
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "izr9eiq4pp",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1235,
            "y": 4800
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "gltuh7pu5s",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2005,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hfa19qo1ws",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2275,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "sft0z1jdt0",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2575,
            "y": 1830
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "giu89l11p1",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5D00D6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Start MFA Auth"
              },
              "width": {
                "value": 1800
              },
              "fontStyle": {
                "value": "bold"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              }
            },
            "status": "configured",
            "idUnique": "wm1r0avooj"
          },
          "position": {
            "x": 716,
            "y": 1530
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "tz23ookvrc",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Start MFA Auth"
              }
            },
            "isDisabled": false
          },
          "position": {
            "x": 565,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "y9ze56v35v",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f7f7adff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Input Schema: none"
              },
              "width": {
                "value": 400
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": false
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "dpzyonlfmi"
          },
          "position": {
            "x": 686,
            "y": 1560
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fr8ffvqm8q",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "tz23ookvrc"
              },
              "nodeTitle": {
                "value": "Go to Start MFA Auth"
              }
            }
          },
          "position": {
            "x": 2465,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "mvbrsh4yq3",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 685,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ooicj9yi1t",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Start MFA"
              },
              "width": {
                "value": 180
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 2375,
            "y": 750
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "p3gr97e3ql",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "FIDO2 Auth"
              },
              "width": {
                "value": 180
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 2666,
            "y": 1590
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "b4uus9u4nn",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "OTP Auth"
              },
              "width": {
                "value": 180
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 2635,
            "y": 1740
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "yyxa0tx1f3",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "OTP Auth"
              },
              "width": {
                "value": 240
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "u5ne139ykk"
          },
          "position": {
            "x": 2216,
            "y": 2490
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xjj2h71wq9",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "FIDO2 Auth"
              },
              "width": {
                "value": 240
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "sdbxtv77au"
          },
          "position": {
            "x": 2216,
            "y": 2670
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ueah9vo07j",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "OTP Resend"
              },
              "width": {
                "value": 240
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "6chk4h2p27"
          },
          "position": {
            "x": 1561,
            "y": 3480
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "qltepl35ax",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "FIDO2 Resend"
              },
              "width": {
                "value": 240
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "ssh0ztt9pe"
          },
          "position": {
            "x": 1591,
            "y": 3780
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "k6r359plje",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Cancel to Device Selection"
              },
              "width": {
                "value": 240
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "exk6zbsykq"
          },
          "position": {
            "x": 1591,
            "y": 3930
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fzoio7qxop",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Cancel to Restart"
              },
              "width": {
                "value": 240
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "0l9oqt6rj3"
          },
          "position": {
            "x": 1556,
            "y": 3300
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "w7ugweg769",
            "nodeType": "CONNECTION",
            "connectionId": "94141bf2f1b9b59a5f5365ff135e02bb",
            "connectorId": "pingOneSSOConnector",
            "name": "PingOne",
            "label": "PingOne",
            "status": "configured",
            "capabilityName": "userLookup",
            "type": "action",
            "properties": {
              "matchAttributes": {
                "value": [
                  "id"
                ]
              },
              "userIdentifierForFindUser": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"p1UserId\",\n        \"data\": \"{{global.variables.p1UserId}}\",\n        \"tooltip\": \"{{global.variables.p1UserId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1UserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Get User"
              }
            }
          },
          "position": {
            "x": 1921,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "dzfpssdro9",
            "nodeType": "EVAL",
            "properties": {
              "ttl5cocd5v": {
                "value": "always"
              },
              "9iij76vcob": {
                "value": "allTriggersTrue"
              }
            }
          },
          "position": {
            "x": 2041,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "k45so0nmwp",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Select Authentication Device"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"array\",\n\t\"properties\": {\n\t\t\"devices\": {\n\t\t\t\"type\": \"object\",\n\t\t\t\"properties\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"displayName\": \"id\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t},\n\t\t\t\t\"type\": {\n\t\t\t\t\t\"displayName\": \"type\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t},\n\t\t\t\t\"status\": {\n\t\t\t\t\t\"displayName\": \"status\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"title\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Title\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"title\"\n\t\t},\n\t\t\"text\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Text\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"text\"\n\t\t},\n\t\t\"EnrollButtonEnable\": {\n\t\t\t\"type\": \"boolean\",\n\t\t\t\"displayName\": \"Enroll Button Enable\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"enrollButtonEnable\"\n\t\t},\n\t\t\"enrollButtonLabel\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Enroll Button Label\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"enrollButtonLabel\"\n\t\t},\n\t\t\"isManagedAccountFlow\": {\n\t\t\t\"type\": \"boolean\",\n\t\t\t\"displayName\": \"X Button enabled\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"isManagedAccountFlow\"\n\t\t}\n\t}\n}"
              },
              "outputSchema": {
                "value": {}
              },
              "customHTML": {
                "value": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <meta name=\"description\" content=\"Secure your account using email, text, or voice authentication.\" />\n  <meta name=\"author\" content=\"Kanchan\" />\n  <meta name=\"created\" content=\"2025-08-05\" />\n  <meta name=\"created\" content=\"2025-08-06\" />\n  <title>Secure Your Account</title>\n  <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\n  <link rel=\"stylesheet\" href=\"select-device-Auth-flow.css\">\n\n</head>\n\n<body>\n  <!-- <div class=\"overlay\"></div> -->\n\n  <div id=\"selectDeviceModal\" class=\"container\">\n    {{#if isManagedAccountFlow}}\n     <div class=\"modal-close\">\n      \n                <button class=\"close-icon\" id=\"cancelBtn\" type=\"submit\" aria-label=\"\" data-skcomponent=\"skbutton\"\n                    data-skbuttontype=\"next-event\" data-skbuttonvalue=\"CANCEL\">\n                    <img width=\"20\" height=\"20\" src=\"https://content.marriottvacationclub.com/icon/close-x.png\"\n                        alt=\"close button to close modal\" />\n                </button>\n                  \n            </div>\n            {{/if}}\n    \n    <div class=\"modal\">\n      <div class=\"secure-your-account\">Choose Your Verification Method</div>\n      <!-- Dev translation message container -->\n      <!-- <div id=\"dev-translation-container\" style=\"margin-bottom: 12px;\">\n        <p id=\"dev-translation-msg\" style=\"font-weight: bold; color: green; margin: 0;\">\n          Translation text will be injected here by applyDevTranslation \n        </p>\n      </div> -->\n\n      <p class=\"secure-your-account-description\">\n        Youre registered in multiple verification method options. Please select the\n        one youd like to use below. Message and data rates may apply.\n      </p>\n\n<div id=\"error-message\" style=\"margin-top: 5px;\"></div>\n\n      <form id=\"authForm\">\n        <div id=\"output\"></div>\n        \n        \n\n        <div class=\"buttons\">\n          <button id=\"sendcode\" type=\"submit\" class=\"primary\" aria-label=\"click the button to Send code\"\n            data-skcomponent=\"skbutton\" data-skform=\"authForm\" data-skbuttontype=\"form-submit\"\n            data-skbuttonvalue=\"SendCode\">Send Code</button>\n       \n\n          <!-- NOTE- Removing Skip Button, As per confrimation Skip button is not needed for Enrolled User-->\n\n          <!-- <button id=\"skip\" type=\"submit\" class=\"link\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\n            data-skbuttonvalue=\"Skip\">Skip</button> -->\n\n\n        </div>\n      </form>\n    </div>\n  </div>\n\n\n</body>\n\n</html>\n<script src=\"select-device-Auth-flow.js\"></script>"
              },
              "customCSS": {
                "value": "\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n    height: 100%;\r\n    font-family: Arial, sans-serif;\r\n    background-color: skyblue;\r\n  }\r\n\r\n  .overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    /* background-color: rgba(0, 0, 0, 0.85); */\r\n    opacity: 0.7;\r\n    z-index: 1;\r\n  }\r\n\r\n  .container {\r\n    position: fixed;\r\n    inset: 0;\r\n    z-index: 2;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .container::before {\r\n    content: \"\";\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    /* background: rgba(0, 0, 0, 85); */\r\n    z-index: -1;\r\n    opacity: 0.7;\r\n  }\r\n\r\n\t\t\t/* ========== Close Icon ========== */\r\n.modal-close {\r\nposition: relative;\r\n    bottom: 120px;\r\n    left: 557px;\r\n  font-size: 24px;\r\n  font-family: \"FontAwesome6Pro-Solid\", sans-serif;\r\n  color: #000;\r\n  cursor: pointer;\r\n}\r\n.close-icon {\r\n  border: none;\r\n  background: none;\r\n  position: relative;\r\n  top:-18px;\r\n}\r\n\r\n  .modal {\r\n    background: white;\r\n    border-radius: 1rem;\r\n    padding: 38px;\r\n    max-width: 500px;\r\n    width: 100%;\r\n    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);\r\n  }\r\n\r\n  .modal h2 {\r\n    margin-top: 0;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n\r\n  .modal p {\r\n    font-size: 0.95rem;\r\n    color: #333;\r\n    margin-top: 0;\r\n  }\r\n\r\n  .option {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 1rem;\r\n  }\r\n\r\n  /* .option input[type=\"radio\"] {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 0.75rem;\r\n    accent-color: black;\r\n    cursor: pointer;\r\n    border-radius: 50%;\r\n} */\r\n\r\n#selectDeviceModal .option input[type=\"radio\"] {\r\n  /* Resetting conflicting properties from the global style */\r\n  -webkit-appearance: revert !important;\r\n  -moz-appearance: revert !important;\r\n  appearance: revert !important;\r\n  position: revert !important;\r\n  background-color: revert !important;\r\n  color: revert !important;\r\n  top: revert !important;\r\n  border: revert !important;\r\n  outline: revert !important;\r\n\r\n  /* PING styles, now with !important to be safe */\r\n  width: 20px !important;\r\n  height: 20px !important;\r\n  margin-right: 0.75rem !important;\r\n  accent-color: black !important;\r\n  cursor: pointer !important;\r\n  border-radius: 50% !important;\r\n}\r\n\r\n  .option label {\r\n    cursor: pointer;\r\n    font-size: 0.95rem;\r\n  }\r\n\r\n  .buttons {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    margin-top: 2rem;\r\n    gap: 1rem;\r\n    flex-wrap: wrap;\r\n  }\r\n\r\nbutton.primary {\r\n  color: white;\r\n  font-size: 16px;\r\n  font-family: Roboto;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n  word-wrap: break-word;\r\n  display: flex;\r\n  height: 48px;\r\n  padding: 0 var(--spacing-24px, 24px);\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: var(--spacing-12px, 12px);\r\n  border-radius: var(--components-button-radius, 1000px);\r\n  background: var(--INK-Black, #000);\r\n}\r\n\r\n  button.primary:disabled {\r\n    background-color: #888;\r\n    cursor: not-allowed;\r\n  }\r\n\r\nbutton.link {\r\n  background: none;\r\n  border: none;\r\n  color: #000;\r\n  font-size: 0.95rem;\r\n  cursor: pointer;\r\n  text-decoration: underline;\r\n  padding: 0;\r\n  font-size: 16px;\r\n  font-family: Roboto;\r\n  font-weight: 600;\r\n}\r\n\r\n  @media screen and (max-width: 500px) {\r\n    .modal {\r\n      margin: 1rem;\r\n    }\r\n\r\n    .buttons {\r\n      flex-direction: column;\r\n      align-items: stretch;\r\n    }\r\n\r\n    button.primary,\r\n    button.link {\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  /* .radio-div {\r\n\r\n       width: 20px;\r\n      height: 20px;\r\n      margin-right: 0.75rem;\r\n      accent-color: black;\r\n      cursor: pointer;\r\n      border-radius: 50%;\r\n\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 10px 20px;\r\n      color: var(--Black, #000);\r\n      cursor: pointer;\r\n      font-size: 16px;\r\n      border-radius: 5px;\r\n      text-align: center;\r\n      transition: 0.3s;\r\n      position: relative;\r\n    }\r\n\r\n    .radio-div.active {\r\n      background: #007bff;\r\n      color: white;\r\n    }\r\n\r\n    .radio-div.active .radio-icon {\r\n      background: #007bff;\r\n    } */\r\n\r\n  .radio-container {\r\n    gap: 10px;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .secure-your-account {\r\n    align-self: stretch;\r\n    color: #000;\r\n\r\n    /* Headline/Subhead */\r\n    font-family: var(--text-font-subhead-font, Roboto);\r\n    font-size: var(--Font-Size-Subhead, 20px);\r\n    font-style: normal;\r\n    font-weight: 600;\r\n    line-height: var(--Font-Line-Height-Subhead, 30px);\r\n    /* 150% */\r\n  }\r\n\r\n  .secure-your-account-description {\r\n    align-self: stretch;\r\n    color: #000;\r\n\r\n    /* Body/Body (Default) */\r\n    font-family: var(--text-font-body-font, Roboto);\r\n    font-size: var(--Font-Size-Body-Default, 16px);\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: var(--Font-Line-Height-Body-Default, 24px);\r\n    /* 150% */\r\n  }\r\n.error-message{\r\n  display: none;\r\n}"
              },
              "customScript": {
                "value": "\r\n\r\n// =============================================================================================================new js====\r\n  // ------------------ Config ------------------\r\n  //const dev = true; // set to false in production\r\n  //const moxieKey = \"PEE47-327B-3359-EAD0\"; // replace with your OLJS key\r\n  \r\n//    const MOXIE_SCRIPT_ID = 'moxie-translation-script';\r\n//      function getMoxieKey(domain) {\r\n//     switch (domain) {\r\n//         case \"marriottvacationclub.com\":\r\n//             return \"{{global.company.variables.moxieKeyMVC}}\";\r\n//         case \"vacationclubap.com\":\r\n//             return \"{{global.company.variables.moxieKeyVCAP}}\";\r\n//         default:\r\n//             // console.warn(`Unknown domain '${domain}'. Falling back to MVC key.`);\r\n//             console.warn(`Unknown domain '${domain}'. Moxie key left empty.`);\r\n//             return \"\";\r\n          \r\n//     }\r\n// }\r\n const domain = \"{{global.variables.domain}}\";\r\n  console.log(\"Domain  is:\", domain); \r\n  // const moxieKey =getMoxieKey(domain);\r\n  // console.log('moxi key is ', moxieKey)\r\n\r\n  \r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n// ------------------ Device renderer ------------------\r\nfunction displayData(data, container) {\r\n  container.innerHTML = \"\"; // Clear existing content\r\n  const groupName = \"selectedDevice\";\r\n\r\n  for (const key in data) {\r\n    const item = data[key];\r\n    console.log (\"item json output: \" ,item)\r\n    const div = document.createElement(\"div\");\r\n    div.classList.add(\"option\");\r\n\r\n    const radio = document.createElement(\"input\");\r\n    radio.type = \"radio\";\r\n    radio.name = groupName;\r\n    radio.id = `mfa-${key}`;\r\n    //const unmasked = item.unmasked || \"\";\r\n    if (item.type === \"TOTP\") {\r\n      radio.value = `${item.id}`;\r\n    }\r\n   else if (item.type === \"EMAIL\") {\r\n      radio.value = `${item.id}`;\r\n    }\r\n    else {\r\n      radio.value = `${item.id}`;\r\n    }\r\n\r\n    radio.addEventListener(\"change\", () => {\r\n      document.getElementById(\"sendcode\").disabled = false;\r\n\r\n      //  Clear the error message when any radio is selected\r\n      const errorMessageDiv = document.getElementById(\"error-message\");\r\n      if (errorMessageDiv) {\r\n        errorMessageDiv.textContent = \"\";\r\n          errorMessageDiv.style.display=\"none\";\r\n      }\r\n    });\r\n\r\n    const label = document.createElement(\"label\");\r\n    label.htmlFor = radio.id;\r\n    label.className = \"transparent-btn\";\r\n    //label.textContent = item.type + \" \";\r\n     if (item.type === \"TOTP\") {\r\n      label.textContent += item.nickname && item.nickname.trim() !== '' \r\n                    ? item.nickname \r\n                    : 'Authenticator App';      \r\n    }\r\n    else if (item.type === \"EMAIL\") {\r\n      label.textContent += \"Email \" + item.email;\r\n    } else if (item.type === \"SMS\") {\r\n      label.textContent += \"Text \" + item.phone;\r\n    } else {\r\n      label.textContent += \"Call \" + item.phone;\r\n    }\r\n\r\n    div.appendChild(radio)\r\n    div.appendChild(label);\r\n    container.appendChild(div);\r\n  }\r\n\r\n}\r\n\r\n// ------------------ Example data ------------------\r\nconst jsonData = {{ global.variables.maskedUsableDevices }};\r\n\r\n\r\n\r\n// ------------------ Direct execution (no DOMContentLoaded) ------------------\r\n//document.getElementById(\"sendcode\").disabled = true;\r\n\r\nconst outputDiv = document.getElementById(\"output\");\r\noutputDiv.classList.add(\"radio-container\");\r\n\r\ndisplayData(jsonData, outputDiv);\r\n\r\n\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n  // Create the dimming overlay\r\n  const overlay = document.createElement('div');\r\n  overlay.id = BACKGROUND_OVERLAY_ID;\r\n  overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n  // Create the iframe\r\n  const iframe = document.createElement('iframe');\r\n  iframe.id = BACKGROUND_IFRAME_ID;\r\n  iframe.src = url;\r\n  iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n  // Add them to the page\r\n  document.body.insertBefore(overlay, document.body.firstChild);\r\n  document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n  console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n  const modal = document.getElementById('selectDeviceModal');\r\n\r\n  if (modal && !backgroundVisible) {\r\n\r\n    if (domain.includes(\"grandresidenceclub.com\")) {\r\n      if(\"{{global.parameters.isManagedAccountFlow}}\")\r\n      {\r\n        insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageManageAccount}}\");\r\n      }\r\n      else \r\n      {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\r\n      }\r\n      backgroundVisible = true;\r\n\r\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\r\n      if(\"{{global.parameters.isManagedAccountFlow}}\")\r\n      {\r\n        insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageManageAccount}}\");\r\n      }\r\n      else \r\n      {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\r\n      }\r\n      \r\n      backgroundVisible = true;\r\n    }\r\n    else {\r\n      if(\"{{global.parameters.isManagedAccountFlow}}\")\r\n      {\r\n        insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageManageAccount}}\");\r\n      }\r\n      else \r\n      {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\r\n      }\r\n      \r\n      \r\n      backgroundVisible = true;\r\n    }\r\n  }\r\n  // else if (!modal && backgroundVisible) {\r\n  //   removeBackgroundSiteDimmed();\r\n  //   backgroundVisible = false;\r\n  // }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n// --- 4. Language Preference Helper ---\r\nfunction getLanguagePreference() {\r\n  const langCookie = document.cookie.split('; ')\r\n    .find(row => row.startsWith('langPref='));\r\n  return langCookie ? langCookie.split('=')[1] : 'en';\r\n}\r\n\r\n// // --- 5. Handle Moxie Script Injection ---\r\n// function initLanguageOnLoad() {\r\n//   if (!dev) {\r\n//     console.log(\"PRODUCTION MODE: Injecting Moxie translation script.\");\r\n//     const moxieScript = document.createElement(\"script\");\r\n//     moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n//     moxieScript.type = \"text/javascript\";\r\n//     moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n//     document.head.appendChild(moxieScript);\r\n//   } else {\r\n//     console.log('Language pref is: ', getLanguagePreference());\r\n//   }\r\n// }\r\n\r\n//  initLanguageOnLoad();\r\n\r\n\r\n// console.log(\"Moxie Key is:\", moxieKey);\r\n\r\n\r\n// function applyMoxieTranslations() {\r\n//   const existingScript = document.getElementById(MOXIE_SCRIPT_ID);\r\n//   if (existingScript) existingScript.remove();\r\n\r\n//   const moxieScript = document.createElement(\"script\");\r\n//   moxieScript.id = MOXIE_SCRIPT_ID;\r\n//   moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n//   moxieScript.type = \"text/javascript\";\r\n//   moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n//   moxieScript.onerror = () => console.error(\"CRITICAL: Moxie script failed to load.\");\r\n//   document.head.appendChild(moxieScript);\r\n// }\r\n// applyMoxieTranslations();\r\n\r\n\r\n//Handle SendCodeClick when Radio button not selected\r\nfunction handleSendCodeClick(event) {\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n  const errorMessageDiv = document.getElementById(\"error-message\");\r\n\r\n  if (!selected) {\r\n\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    errorMessageDiv.textContent = \"Please select a method.\";\r\n    console.log(\"select radio\")\r\n    errorMessageDiv.style.color = \"#eb0000\";\r\n    errorMessageDiv.style.fontFamily = \"Roboto-Regular, sans-serif\";\r\n    errorMessageDiv.style.textAlign = \"left\";\r\n\r\n    errorMessageDiv.style.fontSize = \"12px\";\r\n    errorMessageDiv.style.lineHeight = \"20px\";\r\n    errorMessageDiv.style.fontWeight = \"400\";\r\n    errorMessageDiv.style.background=\"#f6ecec\";\r\n    errorMessageDiv.style.borderRadius=\"5px\";\r\n    errorMessageDiv.style.marginBottom=\"10px\"\r\n    errorMessageDiv.style.border=\"1px solid red\";\r\n    errorMessageDiv.style.paddingLeft=\"5px\";\r\n    errorMessageDiv.style.display=\"block\";\r\n\r\n\r\n  } else {\r\n    errorMessageDiv.textContent = \"\";\r\n    errorMessageDiv.style.display=\"none\";\r\n    errorMessageDiv.style.border=\"none\";\r\n  }\r\n}\r\n\r\ndocument.getElementById(\"sendcode\").addEventListener(\"click\", handleSendCodeClick);"
              },
              "validationRules": {
                "value": []
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "propertyName": "selectedDevice",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  }
                ]
              },
              "devices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"maskedUsableDevices\",\n        \"data\": \"{{global.variables.maskedUsableDevices}}\",\n        \"tooltip\": \"{{global.variables.maskedUsableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedUsableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "title": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Select Method\"\n      }\n    ]\n  }\n]"
              },
              "text": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Select an MFA method to use to sign on to your account.\"\n      }\n    ]\n  }\n]"
              },
              "enrollButtonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Add additional Device?\"\n      }\n    ]\n  }\n]"
              },
              "isManagedAccountFlow": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"isManagedAccountFlow\",\n        \"data\": \"{{global.parameters.isManagedAccountFlow}}\",\n        \"tooltip\": \"{{global.parameters.isManagedAccountFlow}}\",\n        \"children\": [\n          {\n            \"text\": \"isManagedAccountFlow\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              }
            },
            "idUnique": "4c0k573w1l",
            "isDisabled": false
          },
          "position": {
            "x": 570,
            "y": 1800
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "my3vem4k1y",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 690,
            "y": 1800
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "uuf6fcq882",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "variableInputList": {
                "value": [
                  {
                    "name": "devices",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"{{local.9iij76vcob.payload.output.rawResponse._embedded.devices}}\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "allowedTypes",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{local.9iij76vcob.payload.output.allowedtypes}}\",\n        \"name\": \"allowedtypes\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "webAuthnSupport",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{global.variables.webAuthnSupport}}\",\n        \"name\": \"webAuthnSupport\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "userEmails",
                    "preferredDataType": "object",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "userPhones",
                    "preferredDataType": "object",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "userPhonePrimary",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"primaryPhone\",\n        \"data\": \"{{local.w7ugweg769.payload.output.matchedUser.primaryPhone}}\",\n        \"tooltip\": \"{{local.w7ugweg769.payload.output.matchedUser.primaryPhone}}\",\n        \"children\": [\n          {\n            \"text\": \"primaryPhone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "userEmailPrimary",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{local.chi45050r2.payload.output.email}}\",\n        \"tooltip\": \"{{local.chi45050r2.payload.output.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "code": {
                "value": "module.exports = a = async ({ params }) => {\n    console.log('params: ', params);\n\n    try {\n        // Normalize multi-value inputs\n        let userEmails = [];\n        let userPhones = [];\n\n        if (typeof params.userEmails === 'string') {\n            userEmails = params.userEmails.trim() === '' ? [] : JSON.parse(params.userEmails);\n        } else if (Array.isArray(params.userEmails)) {\n            userEmails = params.userEmails;\n        }\n\n        if (typeof params.userPhones === 'string') {\n            userPhones = params.userPhones.trim() === '' ? [] : JSON.parse(params.userPhones);\n        } else if (Array.isArray(params.userPhones)) {\n            userPhones = params.userPhones;\n        }\n\n        // Normalize and prepend single-value inputs\n        const emailPrimary = typeof params.userEmailPrimary === 'string' ? params.userEmailPrimary.trim() : null;\n        const phonePrimary = typeof params.userPhonePrimary === 'string' ? params.userPhonePrimary.trim() : null;\n\n        if (emailPrimary) userEmails.unshift(emailPrimary);\n        if (phonePrimary) userPhones.unshift(phonePrimary);\n\n        // Deduplicate and normalize\n        userEmails = [...new Set(userEmails.map(e => e.toLowerCase()))];\n        userPhones = [...new Set(userPhones)];\n\n        let devices = params.devices;\n        if (typeof devices === 'string') {\n            devices = devices.trim() === '' ? [] : JSON.parse(devices);\n        }\n\n        if (!Array.isArray(userEmails) || !Array.isArray(userPhones)) {\n            throw new Error('userEmails and userPhones must be arrays');\n        }\n\n        if (!Array.isArray(devices)) {\n            throw new Error('devices must be an array');\n        }\n\n        const usableDevices = devices.filter(device =>\n            device.status === 'ACTIVE' &&\n            device.lock?.status === 'UNLOCKED' &&\n            device.block?.status === 'UNBLOCKED'\n        );\n\n        const maskedUsableDevices = usableDevices.map(device => {\n            const maskedDevice = { ...device };\n\n            if (device.type === 'EMAIL' && device.email) {\n                maskedDevice.email = device.email.replace(\n                    /(.{2})([^@]*)(@.+)/,\n                    (_, a, b, c) => `${a}${'*'.repeat(b.length)}${c}`\n                );\n            }\n\n            if (['SMS', 'VOICE'].includes(device.type) && device.phone) {\n                maskedDevice.phone = `***-***-${device.phone.slice(-4)}`;\n            }\n\n            return maskedDevice;\n        });\n\n        const outOfSyncDevices = usableDevices.filter(device => {\n            if (device.type === 'EMAIL' && device.email) {\n                return !userEmails.includes(device.email.toLowerCase());\n            }\n            if (['SMS', 'VOICE'].includes(device.type) && device.phone) {\n                return !userPhones.includes(device.phone);\n            }\n            return false;\n        });\n\n        const updateRequired = outOfSyncDevices.length > 0;\n\n        const enrolledEmails = usableDevices\n            .filter(d => d.type === 'EMAIL' && d.email)\n            .map(d => d.email.toLowerCase());\n\n        const enrolledPhoneMethods = usableDevices\n            .filter(d => ['SMS', 'VOICE'].includes(d.type) && d.phone)\n            .map(d => `${d.type}|${d.phone}`);\n\n        const availableDevices = [];\n\n        userEmails.forEach(email => {\n            const normalizedEmail = email.toLowerCase();\n            if (!enrolledEmails.includes(normalizedEmail)) {\n                availableDevices.push({\n                    type: \"EMAIL\",\n                    email,\n                    maskedEmail: email && email.includes('@')\n                        ? email.replace(/(.{2})([^@]*)(@.+)/, (_, a, b, c) => `${a}${'*'.repeat(b.length)}${c}`)\n                        : email,\n                    buttonValue: `EMAIL|${email}`\n                });\n            }\n        });\n\n        userPhones.forEach(phone => {\n            ['SMS', 'VOICE'].forEach(method => {\n                const key = `${method}|${phone}`;\n                if (!enrolledPhoneMethods.includes(key)) {\n                    availableDevices.push({\n                        type: method,\n                        phone,\n                        maskedPhone: typeof phone === 'string' && phone.length >= 4\n                            ? `***-***-${phone.slice(-4)}`\n                            : phone,\n                        buttonValue: key\n                    });\n                }\n            });\n        });\n\n        const allowedEnrollmentMethods = Array.from(\n            new Set(availableDevices.map(device => device.type))\n        ).join(',');\n\n        const canChangeDevice = usableDevices.length > 1;\n\n        return {\n            usableDevices,\n            maskedUsableDevices,\n            count: usableDevices.length,\n            canChangeDevice,\n            additionalDevicesAvailable: availableDevices.length > 0,\n            updateRequired,\n            enrollmentRequired: usableDevices.length === 0,\n            allowedEnrollmentMethods,\n            availableDevices\n        };\n\n    } catch (error) {\n        console.error('Error: ', error.message);\n        throw new Error(error.message);\n    }\n}\n"
              },
              "outputSchema": {
                "value": "{\n  \"output\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"usableDevices\": {\n        \"type\": \"array\",\n        \"items\": { \"type\": \"object\" }\n      },\n      \"maskedUsableDevices\": {\n        \"type\": \"array\",\n        \"items\": { \"type\": \"object\" }\n      },\n      \"count\": { \"type\": \"number\" },\n      \"canChangeDevice\": { \"type\": \"boolean\" },\n      \"additionalDevicesAvailable\": { \"type\": \"boolean\" },\n      \"updateRequired\": { \"type\": \"boolean\" },\n      \"enrollmentRequired\": { \"type\": \"boolean\" },\n      \"allowedEnrollmentMethods\": { \"type\": \"string\" },\n      \"availableDevices\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"type\": { \"type\": \"string\" },\n            \"email\": { \"type\": \"string\" },\n            \"maskedEmail\": { \"type\": \"string\" },\n            \"phone\": { \"type\": \"string\" },\n            \"maskedPhone\": { \"type\": \"string\" },\n            \"buttonValue\": { \"type\": \"string\" }\n          },\n          \"required\": [\"type\", \"buttonValue\"]\n        }\n      }\n    }\n  }\n}\n"
              },
              "nodeTitle": {
                "value": "Filter Devices"
              },
              "nodeDescription": {
                "value": "Determine enrollment status & check for changes contact oints"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 1115,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "p9emw902h2",
            "nodeType": "EVAL",
            "properties": {
              "4ak3xz6y8l": {
                "value": "always"
              },
              "lgdgvvap71": {
                "value": "always"
              }
            }
          },
          "position": {
            "x": 1235,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "p3x9lo513k",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Message",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Your twofactor authentication method is locked due to multiple incorrect attempts. Please try again after 5 minutes.\"\n      }\n    ]\n  }\n]"
              },
              "errorDescription": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Single Device locked\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "xvxyaha18h",
            "isDisabled": true
          },
          "position": {
            "x": 2186,
            "y": 960
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "6ac6ya18fe",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"enrollmentRequired\",\n        \"data\": \"{{local.uuf6fcq882.payload.output.enrollmentRequired}}\",\n        \"tooltip\": \"{{local.uuf6fcq882.payload.output.enrollmentRequired}}\",\n        \"children\": [\n          {\n            \"text\": \"enrollmentRequired\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"false\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Enrollment Not Required?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "type": {
                "value": "boolean"
              }
            }
          },
          "position": {
            "x": 1385,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9knh4pb8kc",
            "nodeType": "EVAL",
            "properties": {
              "4o43yvdjan": {
                "value": "anyTriggersFalse"
              },
              "k0bpwctck8": {
                "value": "always"
              }
            }
          },
          "position": {
            "x": 1505,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "887186z6vi",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Restart"
              }
            }
          },
          "position": {
            "x": 845,
            "y": 690
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "k92m23e13k",
            "nodeType": "CONNECTION",
            "connectionId": "9cc3b40636413b49e075d5d066205804",
            "connectorId": "cookieConnector",
            "name": "Cookie",
            "label": "Cookie",
            "status": "configured",
            "capabilityName": "checkSessionCookieWithoutUser",
            "type": "action",
            "properties": {
              "cookieName": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"mvwMFA-\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"policyId\",\n        \"data\": \"{{global.policyId}}\",\n        \"tooltip\": \"{{global.policyId}}\",\n        \"children\": [\n          {\n            \"text\": \"policyId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "enforceClientIP": {
                "value": true
              },
              "nodeTitle": {
                "value": "Read Cookie"
              },
              "backgroundColor": {
                "value": "#4a90e2ff"
              },
              "enforceFlowIdMatch": {
                "value": true
              }
            },
            "isDisabled": false,
            "idUnique": "lsq2j81d2h"
          },
          "position": {
            "x": 1381,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "t3bieih033",
            "nodeType": "EVAL",
            "properties": {
              "xvuz8o1k57": {
                "value": "allTriggersTrue"
              },
              "mvr73w0sp7": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1501,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xvuz8o1k57",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "rememberMe",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{local.k92m23e13k.payload.output.claims.rememberMe}}\",\n        \"name\": \"rememberMe\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.3689370673733192,
                    "label": "rememberMe (boolean - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "Username",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{local.k92m23e13k.payload.output.claims.username}}\",\n        \"name\": \"username\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.9917222621398858,
                    "label": "Username (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "trustBrowserChecked",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"checked\"\n      }\n    ]\n  }\n]",
                    "key": 0.6587792191633164,
                    "label": "trustBrowserChecked (string - flowInstance)",
                    "type": "string"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Cookie Variables"
              }
            },
            "idUnique": "y3km0mdxnt"
          },
          "position": {
            "x": 1651,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "bsl94dkg7p",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1771,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "mvr73w0sp7",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "rememberMe",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.3689370673733192,
                    "label": "rememberMe (boolean - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "Username",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.9917222621398858,
                    "label": "Username (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "rememberMeChecked",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.28911782678082254,
                    "label": "rememberMeChecked (string - flowInstance)",
                    "type": "string"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Clear Cookie Variables"
              }
            },
            "idUnique": "ezrm8i919u"
          },
          "position": {
            "x": 1651,
            "y": 600
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "z7ujuxbyv0",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1771,
            "y": 480
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fdp8882bb2",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"RememberMe\",\n        \"data\": \"{{global.variables.RememberMe}}\",\n        \"tooltip\": \"{{global.variables.RememberMe}}\",\n        \"children\": [\n          {\n            \"text\": \"RememberMe\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "boolean"
              },
              "nodeTitle": {
                "value": "Trusted Browser?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "caseSensitive": {
                "value": false
              }
            }
          },
          "position": {
            "x": 1120,
            "y": 4290
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hcjjjsw39j",
            "nodeType": "EVAL",
            "properties": {
              "undefined": {
                "value": "anyTriggersFalse"
              },
              "9egn3c151i": {
                "value": "anyTriggersFalse"
              },
              "mhghtvg3re": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1240,
            "y": 4290
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "kla0txlyyn",
            "nodeType": "CONNECTION",
            "connectionId": "9cc3b40636413b49e075d5d066205804",
            "connectorId": "cookieConnector",
            "name": "Cookie",
            "label": "Cookie",
            "status": "configured",
            "idUnique": "beik77w16r",
            "capabilityName": "setCookieWithoutUser",
            "type": "action",
            "properties": {
              "cookieName": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"mvwMFA-\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"policyId\",\n        \"data\": \"{{global.policyId}}\",\n        \"tooltip\": \"{{global.policyId}}\",\n        \"children\": [\n          {\n            \"text\": \"policyId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "cookieExpiresInSeconds": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"2592000\"\n      }\n    ]\n  }\n]"
              },
              "useHttpOnlyCookie": {
                "value": false
              },
              "cookieSameSite": {
                "value": "none"
              },
              "signCookie": {
                "value": true
              },
              "setCookieClientSide": {
                "value": true
              },
              "claimsNameValuePairsSessionCookie": {
                "value": [
                  {
                    "name": "username",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"username\",\n        \"data\": \"{{local.w7ugweg769.payload.output.matchedUser.username}}\",\n        \"tooltip\": \"{{local.w7ugweg769.payload.output.matchedUser.username}}\",\n        \"children\": [\n          {\n            \"text\": \"username\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.5160418249491145,
                    "label": "username (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "username"
                  },
                  {
                    "name": "RememberMe",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]",
                    "key": 0.1392222248106172,
                    "label": "RememberMe (boolean - flowInstance)",
                    "type": "boolean"
                  }
                ]
              },
              "nodeDescription": {},
              "backgroundColor": {
                "value": "#4a90e2ff"
              },
              "nodeTitle": {
                "value": "Set Cookie"
              },
              "useSecureCookie": {
                "value": true
              }
            },
            "isDisabled": false
          },
          "position": {
            "x": 1390,
            "y": 4290
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "cjrazsmkqv",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"Username\",\n        \"data\": \"{{global.variables.Username}}\",\n        \"tooltip\": \"{{global.variables.Username}}\",\n        \"children\": [\n          {\n            \"text\": \"Username\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"username\",\n        \"data\": \"{{local.w7ugweg769.payload.output.matchedUser.username}}\",\n        \"tooltip\": \"{{local.w7ugweg769.payload.output.matchedUser.username}}\",\n        \"children\": [\n          {\n            \"text\": \"username\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "caseSensitive": {
                "value": false
              },
              "nodeTitle": {
                "value": "Trusted Browser?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 3296,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "trq8d76am8",
            "nodeType": "EVAL",
            "properties": {
              "z5qtctmid4": {
                "value": "allTriggersTrue"
              },
              "9iij76vcob": {
                "value": "anyTriggersFalse"
              },
              "y1nehizcqv": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 3416,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "z5qtctmid4",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "g819woyri7"
              },
              "authMethod": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Trusted Browser\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 3296,
            "y": 570
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "y1nehizcqv",
            "nodeType": "CONNECTION",
            "connectionId": "9cc3b40636413b49e075d5d066205804",
            "connectorId": "cookieConnector",
            "name": "Cookie",
            "label": "Cookie",
            "status": "configured",
            "idUnique": "gb201qwtyr",
            "capabilityName": "setCookieWithoutUser",
            "type": "action",
            "properties": {
              "cookieName": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"mvwMFA-\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"policyId\",\n        \"data\": \"{{global.policyId}}\",\n        \"tooltip\": \"{{global.policyId}}\",\n        \"children\": [\n          {\n            \"text\": \"policyId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "cookieExpiresInSeconds": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"1\"\n      }\n    ]\n  }\n]"
              },
              "useHttpOnlyCookie": {
                "value": false
              },
              "cookieSameSite": {
                "value": "none"
              },
              "signCookie": {
                "value": true
              },
              "setCookieClientSide": {
                "value": true
              },
              "claimsNameValuePairsSessionCookie": {
                "value": []
              },
              "nodeDescription": {},
              "backgroundColor": {
                "value": "#4a90e2ff"
              },
              "nodeTitle": {
                "value": "Expire Cookie"
              },
              "useSecureCookie": {
                "value": true
              }
            }
          },
          "position": {
            "x": 3566,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "0jig2pl769",
            "nodeType": "EVAL",
            "properties": {
              "9iij76vcob": {
                "value": "always"
              }
            }
          },
          "position": {
            "x": 695,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "no2gdudqlb",
            "nodeType": "CONNECTION",
            "connectionId": "94141bf2f1b9b59a5f5365ff135e02bb",
            "connectorId": "pingOneSSOConnector",
            "name": "PingOne",
            "label": "PingOne",
            "status": "configured",
            "capabilityName": "updateUser",
            "type": "action",
            "properties": {
              "additionalUserProperties": {
                "value": []
              },
              "identifier": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"p1UserId\",\n        \"data\": \"{{global.variables.p1UserId}}\",\n        \"tooltip\": \"{{global.variables.p1UserId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1UserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "username": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"username\",\n        \"data\": \"{{local.w7ugweg769.payload.output.matchedUser.username}}\",\n        \"tooltip\": \"{{local.w7ugweg769.payload.output.matchedUser.username}}\",\n        \"children\": [\n          {\n            \"text\": \"username\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "clearUserAttributes": {
                "value": [
                  "otpRetries"
                ]
              },
              "nodeTitle": {
                "value": "Clear otpRetries"
              },
              "matchAttribute": {
                "value": "id"
              }
            },
            "idUnique": "o5bik795ct"
          },
          "position": {
            "x": 3026,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "pdvisoyswi",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 3146,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wdn4q8gbrb",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Evaluate Error"
              },
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"code\",\n        \"data\": \"{{local.bsvt2nwelk.payload.error.code}}\",\n        \"tooltip\": \"{{local.bsvt2nwelk.payload.error.code}}\",\n        \"children\": [\n          {\n            \"text\": \"code\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"invalidOtp\"\n      }\n    ]\n  }\n]",
                    "id": "k8apl89lcp"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"tooManyOtpRetries\"\n      }\n    ]\n  }\n]",
                    "id": "94wnll28gc"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"otpSessionExpired\"\n      }\n    ]\n  }\n]",
                    "id": "9sv9cvy9i5"
                  }
                ]
              }
            }
          },
          "position": {
            "x": 1950,
            "y": 3210
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "bni51fanwq",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"You've reached the maximum number of verification attempts. Please refresh your browser, or choose a different verification method to continue.\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Device Locked Error"
              }
            },
            "idUnique": "9bywjh2hqv"
          },
          "position": {
            "x": 2220,
            "y": 3270
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "46h5alj2cp",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2070,
            "y": 3180
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "o9wkybrg5t",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2070,
            "y": 3270
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "p2kyxaxrs5",
            "nodeType": "CONNECTION",
            "connectionId": "94141bf2f1b9b59a5f5365ff135e02bb",
            "connectorId": "pingOneSSOConnector",
            "name": "PingOne",
            "label": "PingOne",
            "status": "configured",
            "capabilityName": "userLookup",
            "type": "action",
            "properties": {
              "matchAttributes": {
                "value": [
                  "id"
                ]
              },
              "userIdentifierForFindUser": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"userId\",\n        \"data\": \"{{local.m9ykx7xo0s.payload.output.userId}}\",\n        \"tooltip\": \"{{local.m9ykx7xo0s.payload.output.userId}}\",\n        \"children\": [\n          {\n            \"text\": \"userId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Get Current Resend Count"
              }
            }
          },
          "position": {
            "x": 1076,
            "y": 2130
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "idy9uw2jpn",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "c2kaajq734": {
                "value": "allTriggersTrue"
              }
            }
          },
          "position": {
            "x": 1196,
            "y": 2130
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "c2kaajq734",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "code": {
                "value": "module.exports = a = async ({params}) => {\n    console.log('params: ', params)\n\n    try {\n        const maxResends = params.maxResends\n        const deviceId = params.deviceId\n        let currentState = params.currentState\n\n        if (!deviceId || typeof maxResends !== 'number') {\n            throw new Error(\"Missing required parameters: deviceId or maxResends\")\n        }\n\n        // Normalize currentState\n        if (!currentState || currentState === '' || currentState === null) {\n            currentState = []\n        } else if (typeof currentState === 'string') {\n            try {\n                currentState = JSON.parse(currentState)\n            } catch {\n                throw new Error(\"Invalid currentState format; expected an array or JSON array string.\")\n            }\n        }\n\n        if (!Array.isArray(currentState)) {\n            throw new Error(\"currentState must be an array\")\n        }\n\n        let found = false\n        const updatedState = []\n\n        for (const entry of currentState) {\n            const [id, countStr] = entry.split('|')\n            const count = parseInt(countStr, 10)\n\n            if (id === deviceId) {\n                found = true\n                if (count >= maxResends) {\n                    throw new Error(\"maxResends Reached\")\n                }\n                updatedState.push(`${deviceId}|${count + 1}`)\n            } else {\n                updatedState.push(entry)\n            }\n        }\n\n        if (!found) {\n            updatedState.push(`${deviceId}|1`)\n        }\n\n        console.log('updatedState: ', updatedState)\n        return { updatedState }\n    } catch (error) {\n        console.error('Error in MFA resend counter:', error.message)\n        throw error\n    }\n}\n"
              },
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"updatedState\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"items\": {\n\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "maxResends",
                    "preferredDataType": "number",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"5\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "currentState",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"{{local.p2kyxaxrs5.payload.output.rawResponse.matchedUsers._embedded.users[0].otpRetries}}\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "deviceId",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceId\",\n        \"data\": \"{{local.m9ykx7xo0s.payload.output.deviceId}}\",\n        \"tooltip\": \"{{local.m9ykx7xo0s.payload.output.deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Limit Resend Number"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 1346,
            "y": 2130
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "r23k33t5x0",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "eck2pyam6h": {
                "value": "anyTriggersFalse"
              },
              "vz4bpud7ha": {
                "value": "allTriggersTrue"
              },
              "acfgvblgso": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1466,
            "y": 2130
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "vz4bpud7ha",
            "nodeType": "CONNECTION",
            "connectionId": "94141bf2f1b9b59a5f5365ff135e02bb",
            "connectorId": "pingOneSSOConnector",
            "name": "PingOne",
            "label": "PingOne",
            "status": "configured",
            "capabilityName": "updateUser",
            "type": "action",
            "properties": {
              "additionalUserProperties": {
                "value": [
                  {
                    "name": "otpRetries",
                    "preferredDataType": "object",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"updatedState\",\n        \"data\": \"{{local.c2kaajq734.payload.output.updatedState}}\",\n        \"tooltip\": \"{{local.c2kaajq734.payload.output.updatedState}}\",\n        \"children\": [\n          {\n            \"text\": \"updatedState\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "identifier": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"userId\",\n        \"data\": \"{{local.m9ykx7xo0s.payload.output.userId}}\",\n        \"tooltip\": \"{{local.m9ykx7xo0s.payload.output.userId}}\",\n        \"children\": [\n          {\n            \"text\": \"userId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "username": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"username\",\n        \"data\": \"{{local.p2kyxaxrs5.payload.output.matchedUser.username}}\",\n        \"tooltip\": \"{{local.p2kyxaxrs5.payload.output.matchedUser.username}}\",\n        \"children\": [\n          {\n            \"text\": \"username\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Update Resend Count"
              },
              "matchAttribute": {
                "value": "id"
              }
            }
          },
          "position": {
            "x": 2040,
            "y": 2130
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "eck2pyam6h",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Message",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"You have reached the resend limit. Please try with another device or try again later.\"\n      }\n    ]\n  }\n]"
              }
            },
            "isDisabled": true
          },
          "position": {
            "x": 1350,
            "y": 2280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "m9ykx7xo0s",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Limit Resends"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"deviceId\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Device Id\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"deviceId\"\n\t\t},\n\t\t\"userId\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Ping One User ID\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"userId\"\n\t\t}\n\t}\n}"
              }
            }
          },
          "position": {
            "x": 806,
            "y": 2130
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "rfqanw2eaq",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 926,
            "y": 2130
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "82nevm7vuw",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f7f7adff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Input Schema: deviceId"
              },
              "width": {
                "value": 400
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": false
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "0vc9rsyaah"
          },
          "position": {
            "x": 716,
            "y": 2010
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "mm1ch5ciil",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5D00D6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Limit Resends"
              },
              "width": {
                "value": 1750
              },
              "fontStyle": {
                "value": "bold"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              }
            },
            "status": "configured",
            "idUnique": "tfqxapb06s"
          },
          "position": {
            "x": 716,
            "y": 1950
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wx2n0gjnhy",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 2160,
            "y": 2130
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "01cx015l8l",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "returnBackToCallingNode",
            "type": "trigger",
            "properties": {}
          },
          "position": {
            "x": 2310,
            "y": 2130
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "cfwpxpoes0",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "m9ykx7xo0s"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceId\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.deviceId}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"p1UserId\",\n        \"data\": \"{{global.variables.p1UserId}}\",\n        \"tooltip\": \"{{global.variables.p1UserId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1UserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1675,
            "y": 3570
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "zm6w6g0n7m",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 695,
            "y": 810
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "3fs2u5p346",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"An error has occurred. Please contact owner services for assistance.\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Catch All Error"
              }
            },
            "idUnique": "9hxq8jn41u"
          },
          "position": {
            "x": 2220,
            "y": 3450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "bkoyc4xiuh",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2070,
            "y": 3450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "gdqx6uaync",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<div class=\"end-user-nano\">\n    <div\n        class=\"bg-light d-flex flex-column justify-content-center align-items-center position-absolute top-0 start-0 bottom-0 end-0 overflow-auto\">\n        <div class=\"d-none\" \n            data-skcomponent=\"skpolling\" \n            data-skpollInterval=\"10\" \n            data-skpollRetries=\"1\"\n            data-skpollChallengeStatus=\"false\"></div>\n    </div>\n</div>"
              },
              "customCSS": {},
              "customScript": {},
              "nodeTitle": {
                "value": "NOP UI Page"
              },
              "formFieldsList": {
                "value": []
              },
              "nodeDescription": {
                "value": "Needed in the event no UI has been displayed"
              }
            },
            "idUnique": "tsosptd6hk",
            "isDisabled": true
          },
          "position": {
            "x": 2910,
            "y": 3360
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "w7rff28bha",
            "nodeType": "CONNECTION",
            "connectionId": "2581eb287bb1d9bd29ae9886d675f89f",
            "connectorId": "flowConnector",
            "name": "Flow Connector",
            "label": "Flow Connector",
            "status": "configured",
            "capabilityName": "startSubFlow",
            "type": "action",
            "properties": {
              "subFlowId": {
                "value": {
                  "label": "d1fe177b8546f67fa5043d07dab8ab52",
                  "value": "d1fe177b8546f67fa5043d07dab8ab52"
                }
              },
              "subFlowVersionId": {
                "value": -1
              },
              "username": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"username\",\n        \"data\": \"{{local.w7ugweg769.payload.output.matchedUser.username}}\",\n        \"tooltip\": \"{{local.w7ugweg769.payload.output.matchedUser.username}}\",\n        \"children\": [\n          {\n            \"text\": \"username\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Remove Invalid Emails from MFA"
              },
              "backgroundColor": {
                "value": "#f8e71cff"
              }
            }
          },
          "position": {
            "x": 2191,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "jinaxm8lk8",
            "nodeType": "EVAL",
            "properties": {
              "no2gdudqlb": {
                "value": "allTriggersComplete"
              }
            }
          },
          "position": {
            "x": 2311,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "chi45050r2",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "variableInputList": {
                "value": [
                  {
                    "name": "email",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{local.w7ugweg769.payload.output.matchedUser.email}}\",\n        \"tooltip\": \"{{local.w7ugweg769.payload.output.matchedUser.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "emailList",
                    "preferredDataType": "object",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{local.w7ugweg769.payload.output.matchedUser.emailList}}\",\n        \"name\": \"emailList\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "domains",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"invalidEmailDomains\",\n        \"data\": \"{{global.company.variables.invalidEmailDomains}}\",\n        \"tooltip\": \"{{global.company.variables.invalidEmailDomains}}\",\n        \"children\": [\n          {\n            \"text\": \"invalidEmailDomains\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "code": {
                "value": "module.exports = a = async ({ params }) => {\n    console.log('params: ', params)\n\n    try {\n        if (!params.domains || typeof params.domains !== 'string') {\n            throw new Error(\"Missing or invalid 'domains' input\");\n        }\n\n        const domainList = params.domains\n            .split(',')\n            .map(d => d.trim().toLowerCase())\n            .filter(d => d.length > 0);\n\n        let emailResult = \"\";\n        let filteredEmailList = [];\n\n        if (params.email && typeof params.email === 'string') {\n            const emailDomain = params.email.split('@')[1]?.toLowerCase();\n            if (emailDomain && domainList.includes(emailDomain)) {\n                emailResult = params.email;\n            }\n        }\n\n        if (Array.isArray(params.emailList)) {\n            filteredEmailList = params.emailList.filter(email => {\n                if (typeof email !== 'string') return false;\n                const domain = email.split('@')[1]?.toLowerCase();\n                return domain && domainList.includes(domain);\n            });\n        }\n\n        return {\n            email: emailResult,\n            emailList: filteredEmailList\n        };\n\n    } catch (err) {\n        console.error('Error:', err.message);\n        throw new Error(`Email domain filtering failed: ${err.message}`);\n    }\n}\n"
              },
              "outputSchema": {
                "value": "{\n  \"output\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\"\n      },\n      \"emailList\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"string\"\n        }\n      }\n    }\n  }\n}\n"
              },
              "backgroundColor": {
                "value": "#f8e71cff"
              },
              "nodeTitle": {
                "value": "Remove Invalid EMail Domains"
              }
            },
            "idUnique": "yd2zs9esg6"
          },
          "position": {
            "x": 2191,
            "y": 570
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ayk9nag3un",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2311,
            "y": 570
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8uwwq05c63",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Secure your Account"
              },
              "customHTML": {
                "value": "<html lang=\"en\">\r\n\r\n<head>\r\n  <meta charset=\"UTF-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n  <title>Secure Your Account</title>\r\n  <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\r\n  <link rel=\"stylesheet\" href=\"secure-Account-Modal.css\">\r\n</head>\r\n\r\n<body>\r\n\r\n  <div id=\"selectDeviceModal\" class=\"modal\">\r\n    <div class=\"modal-content\">\r\n      <h1>Register for Two-Factor Authentication</h1>\r\n      <p>\r\n       We're implementing two-factor authentication (2FA) to make your account safer and more secure. Two-factor authentication adds an extra layer of protection, making it harder for unauthorized users to access your account. Two-factor authentication helps to improve security and prevent unauthorized access.\r\n      </p>\r\n\r\n            <p>\r\n        Securing your account will be optional for \"<span id=\"remainingSkipCount\"></span>\" login attempts. After exceeding this limit, you will be required\r\n        to validate your email and phone number before you can log in. We will send occasional reminders until your\r\n        account information is validated.\r\n      </p>\r\n\r\n      <div class=\"btn\">\r\n        <button id=\"secureAccountBtn\" type=\"button\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\r\n          data-skbuttonvalue=\"SECURE\" data-skform=\"frmCode\">\r\n         Register\r\n        </button>\r\n        <button id=\"skipBtn\" type=\"button\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\r\n          data-skbuttonvalue=\"SKIP\" data-skform=\"frmCode\">\r\n          Skip\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</body>\r\n\r\n</html>\r\n<script src=\"secure-Account-Modal.js\"></script>"
              },
              "customScript": {
                "value": "\r\n\r\nconst modal = document.getElementById(\"selectDeviceModal\");\r\nconst secureAccountBtn = document.getElementById(\"secureAccountBtn\");\r\nconst skipBtn = document.getElementById(\"skipBtn\");\r\nconst remainingCountDisplay = document.getElementById(\"remainingSkipCount\"); // Element to show remaining count\r\nconst domain = \"{{global.variables.domain}}\";\r\nconsole.log(\"domain  is:\", domain);\r\n\r\n// function getMoxieKey(domain) {\r\n//   switch (domain) {\r\n//     case \"marriottvacationclub.com\":\r\n//       return \"{{global.company.variables.moxieKeyMVC}}\";\r\n//     case \"vacationclubap.com\":\r\n//       return \"{{global.company.variables.moxieKeyVCAP}}\";\r\n//     default:\r\n//       // console.warn(`Unknown domain '${domain}'. Falling back to MVC key.`);\r\n//       console.warn(`Unknown domain '${domain}'. Moxie key left empty.`);\r\n//       return \"\";\r\n\r\n//   }\r\n// }\r\n// const MOXIE_SCRIPT_ID = 'moxie-translation-script';\r\n// const moxieKey = getMoxieKey(domain);\r\n// console.log(\"Moxie Key is:\", moxieKey);\r\n\r\n\r\n\r\n//const expiryDate = \"{{global.company.variables.skipPeriodEndDate}}\";\r\nlet skipByCount = Number(\"{{global.variables.skipByCount}}\");\r\nlet maxSkipCount = Number(\"{{global.company.variables.maxSkipCount}}\");\r\n\r\nremainingCountDisplay.textContent = `${maxSkipCount - skipByCount}`;\r\n\r\n// Show or hide the skip button based on expiry date\r\nfunction showSkipButton(skipByCount, maxSkipCount) {\r\n  console.log(\"Skip By count \", skipByCount);\r\n  console.log(\"Max Skip count \", maxSkipCount);\r\n\r\n  const skipButton = document.getElementById(\"skipBtn\");\r\n  if (!skipButton) return; // Exit if button not found\r\n\r\n  // const expiry = new Date(expiryDate);\r\n  // const now = new Date();\r\n\r\n  if ( maxSkipCount  > skipByCount) {\r\n    skipButton.style.display = \"inline-block\"; // Show\r\n  } else {\r\n     skipButton.style.display = \"none\"; // Hide\r\n\r\n   \r\n  }\r\n}\r\n\r\nfunction handleButtonClick(event) {\r\n  const buttonType = event.target.getAttribute(\"data-skbuttonvalue\");\r\n  console.log(\"Button clicked:\", buttonType);\r\n  // Only handle skip logic if skip button is clicked\r\n  if (buttonType === \"SKIP\") {\r\n    skipByCount += 1; // Increase skip count\r\n    const remaining = maxSkipCount - skipByCount;\r\n\r\n    console.log(\"Remaining skips:\", remaining);\r\n\r\n    // Update remaining count in UI\r\n    if (remainingCountDisplay) {\r\n      remainingCountDisplay.textContent = remaining;\r\n      console.log(\"Remainng skips\", remainingCountDisplay.textContent);\r\n    }\r\n\r\n    // Re-evaluate skip button visibility\r\n    showSkipButton(skipByCount, maxSkipCount);\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n// Initial call to show/hide button\r\nshowSkipButton(skipByCount, maxSkipCount);\r\n\r\n// Attach click handlers\r\nif (secureAccountBtn) secureAccountBtn.addEventListener(\"click\", handleButtonClick);\r\nif (skipBtn) skipBtn.addEventListener(\"click\", handleButtonClick);\r\n\r\n\r\n\r\n\r\n\r\n\r\n// ------------------ Config ------------------\r\n\r\n\r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n  // Create the dimming overlay\r\n  const overlay = document.createElement('div');\r\n  overlay.id = BACKGROUND_OVERLAY_ID;\r\n  overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n  // Create the iframe\r\n  const iframe = document.createElement('iframe');\r\n  iframe.id = BACKGROUND_IFRAME_ID;\r\n  iframe.src = url;\r\n  iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n  // Add them to the page\r\n  document.body.insertBefore(overlay, document.body.firstChild);\r\n  document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n  console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\n\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n  const modal = document.getElementById('selectDeviceModal');\r\n\r\n  if (modal && !backgroundVisible) {\r\n\r\n    if (domain.includes(\"grandresidenceclub.com\")) {\r\n\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\r\n      backgroundVisible = true;\r\n\r\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n    else {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n  }\r\n  // else if (!modal && backgroundVisible) {\r\n  //   removeBackgroundSiteDimmed();\r\n  //   backgroundVisible = false;\r\n  // }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// --- 5. Handle Moxie Script Injection ---\r\n// function initLanguageOnLoad() {\r\n\r\n//   console.log(\"PRODUCTION MODE: Injecting Moxie translation script.\");\r\n//   const moxieScript = document.createElement(\"script\");\r\n//   moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n//   moxieScript.type = \"text/javascript\";\r\n//   moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n//   document.head.appendChild(moxieScript);\r\n// }\r\n\r\n// initLanguageOnLoad();"
              },
              "customCSS": {
                "value": "* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  font-family: Roboto;\r\n}\r\n\r\n.modal {\r\n  position: fixed;\r\n  z-index: 999;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  /* background-color: rgba(0, 0, 0, 0.85); */\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 20px;\r\n  /* opacity: 0.7; */\r\n}\r\n\r\n.modal::before {\r\n  content: \"\";\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  /* background: rgba(0, 0, 0, 85); */\r\n  z-index: -1;\r\n  /* opacity: 0.7; */\r\n}\r\n\r\n.modal-content {\r\n\r\n  background-color: white;\r\n  padding: 48px;\r\n  border-radius: 10px;\r\n  max-width: 600px;\r\n  min-width: 352px;\r\n  max-width: 760px;\r\n  width: 100%;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\r\n\r\n}\r\n\r\nh1 {\r\n  font-size: 24px;\r\n  margin-top: 0;\r\n}\r\n\r\np {\r\n  font-size: 16px;\r\n  line-height: 1.5;\r\n  margin: 16px 0;\r\n}\r\n\r\nul {\r\n  margin: 0 0 16px 20px;\r\n  padding: 5px;\r\n}\r\n\r\nli {\r\n  margin-bottom: 8px;\r\n  font-size: 16px;\r\n  padding: 2px;\r\n}\r\n\r\n.btn {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n  margin-top: 24px;\r\n}\r\n\r\nbutton {\r\n  font-size: 16px;\r\n  padding: 12px 24px;\r\n  border-radius: 25px;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: 0.2s ease-in-out;\r\n}\r\n\r\n#secureAccountBtn {\r\n  background-color: #000;\r\n  /* color: #fff; */\r\n  color: white;\r\n  font-size: 16px;\r\n  font-family: Roboto;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n  word-wrap: break-word\r\n}\r\n\r\n#secureAccountBtn:hover {\r\n  opacity: 0.9;\r\n}\r\n\r\n#skipBtn {\r\n  background-color: #fff;\r\n  /* color: #000;\r\n        font-weight: bold; */\r\n  border: 2px solid black;\r\n  color: black;\r\n  font-size: 16px;\r\n  font-family: Roboto;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n  word-wrap: break-word\r\n}\r\n\r\n#skipBtn:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .modal-content {\r\n    padding: 20px;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 20px;\r\n  }\r\n\r\n  p,\r\n  li {\r\n    font-size: 15px;\r\n  }\r\n\r\n  .btn {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n\r\n  button {\r\n    width: 100%;\r\n  }\r\n}"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              }
            }
          },
          "position": {
            "x": 1380,
            "y": 1110
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "3e5udcu5s5",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 1500,
            "y": 1110
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "pbyt5gnn18",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.8uwwq05c63.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.8uwwq05c63.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.5amlnuzbht.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.5amlnuzbht.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"skip\"\n      }\n    ]\n  }\n]"
              },
              "caseSensitive": {
                "value": false
              },
              "nodeTitle": {
                "value": "Skip Button Pressed?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 1650,
            "y": 1110
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "7o0bsj3f8z",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "4o43yvdjan": {
                "value": "anyTriggersFalse"
              },
              "ta0r9qp7tb": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1800,
            "y": 1110
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "j92491fap9",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "g819woyri7"
              },
              "authMethod": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"skip\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2460,
            "y": 1110
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "rqxufafbwd",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1510,
            "y": 4290
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "gdva263hgy",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\r\n    <title>Document</title>\r\n    \r\n  </head>\r\n  <body>\r\n \r\n    <div class=\"parent-Auth\" id=\"authSucessModal\">\r\n      <div class=\"standard-modal modal-secure-authentication-mobile\">\r\n        <div class=\"frame-57 top-row\">\r\n          <div class=\"authentication-successful\">Authentication Successful</div>\r\n          <div class=\"frame-53 frame-96\">\r\n            <div\r\n              class=\"you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future\"\r\n            >\r\n              You have successfully authenticated your account.Select<strong> Manage Account/Security Settings </strong> if you wish to update your credentials.\r\n              For added security, we recommend setting up a secondary backup method such as an alternate email or phone number\r\n            </div>\r\n            <div class=\"frame-44525\">\r\n              <div class=\"frame-114\">\r\n                <div class=\"omvc-buttons-text-links\">\r\n                 <div class=\"submit\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"Continue\">Continue</div>\r\n                   <div id=\"continueBtn\" class=\"submit-to-continue\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"Continue\">Continue</div> \r\n                </div>\r\n              </div>\r\n              <div class=\"omvc-buttons-text-links2\">\r\n                <div class=\"frame\">\r\n                  <a id=\"seciritySettingLink\" class=\"link-text\"  data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"emailandphone\">Security Settings</a>\r\n                </div>\r\n               \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </body>\r\n</html>"
              },
              "customCSS": {
                "value": ".standard-modal,\r\n.standard-modal * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n.standard-modal {\r\n  background: var(--surface-primary, #ffffff);\r\n  border-radius: var(--corner-radii-10px, 10px);\r\n  padding: var(--spacing-48px, 48px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-24px, 24px);\r\n  align-items: flex-end;\r\n  justify-content: flex-start;\r\n  height: 272px;\r\n  min-width: 352px;\r\n  max-width: 760px;\r\n  position: relative;\r\n  box-shadow: var(--drop-shadows-standard-box-shadow,\r\n      0px 3px 5px 0px rgba(0, 0, 0, 0.3));\r\n  overflow: hidden;\r\n}\r\n\r\n.frame-57 {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  align-self: stretch;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.authentication-successful {\r\n  color: #000000;\r\n  text-align: left;\r\n  font-family: var(--headline-subhead-font-family,\r\n      \"Roboto-SemiBold\",\r\n      sans-serif);\r\n  font-size: var(--headline-subhead-font-size, 20px);\r\n  line-height: var(--headline-subhead-line-height, 30px);\r\n  font-weight: var(--headline-subhead-font-weight, 600);\r\n  position: relative;\r\n  align-self: stretch;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.frame-53 {\r\n  flex-shrink: 0;\r\n  width: 604px;\r\n  height: 128px;\r\n  position: relative;\r\n}\r\n/* .mange-bold{\r\n  font-weight: 700;\r\n} */\r\n\r\n.you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future {\r\n  /* color: #000000;\r\n  text-align: left;\r\n  font-family: var(--body-body-default-font-family,\r\n      \"Roboto-Regular\",\r\n      sans-serif);\r\n  font-size: var(--body-body-default-font-size, 16px);\r\n  line-height: var(--body-body-default-line-height, 24px);\r\n  font-weight: var(--body-body-default-font-weight, 400);\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  width: 604px;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: flex-start; */\r\n    position: static;\r\n     font-family: var(--body-body-default-font-family,\r\n      \"Roboto-Regular\",\r\n      sans-serif);\r\n  font-size: var(--body-body-default-font-size, 16px);\r\n    width: 100%;\r\n    display: block;\r\n    align-items: initial;\r\n    justify-content: initial;\r\n    margin: 0;\r\n}\r\n\r\n.frame-44525 {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 24px;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 80px;\r\n}\r\n\r\n.frame-114 {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 32px;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.omvc-buttons-text-links {\r\n  background: var(--ink-black, #000000);\r\n  border-radius: var(--components-button-radius, 1000px);\r\n  padding: 0px var(--spacing-24px, 24px) 0px var(--spacing-24px, 24px);\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: var(--spacing-12px, 12px);\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  height: 48px;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n/* .submit {\r\n        color: var(--components-button-primary-text, #ffffff);\r\n        text-align: center;\r\n        font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n        font-size: 16px;\r\n        line-height: 24px;\r\n        font-weight: 600;\r\n        position: relative;\r\n        display: flex;\r\n        align-items: flex-end;\r\n        justify-content: center;\r\n      } */\r\n.submit {\r\n  border: none;\r\n  background: none;\r\n  color: var(--components-button-primary-text, #ffffff);\r\n  text-align: center;\r\n  font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  font-weight: 600;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: center;\r\n}\r\n\r\n.omvc-buttons-text-links2 {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 4px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.frame {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.link-text {\r\n  color: var(--ink-black, #000000);\r\n  text-align: left;\r\n  font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  font-weight: 600;\r\n  text-decoration: underline;\r\n  position: relative;\r\n  border:none;\r\n  background-color: white;\r\n}\r\n\r\n.parent-Auth {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100vh;\r\n  /* background: rgba(0, 0, 0, 0.85); */\r\n}\r\n\r\n.submit-to-continue {\r\n  display: none;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .standard-modal {\r\n    width: 90%;\r\n    /* Take most of screen width */\r\n    max-width: 400px;\r\n    /* Prevent it from getting too wide */\r\n    min-width: auto;\r\n    /* Override desktop min-width */\r\n    padding: 24px;\r\n    /* Smaller padding */\r\n    height: auto;\r\n    /* Adjust height automatically */\r\n    border-radius: 12px;\r\n  }\r\n\r\n  .frame-53 {\r\n    width: 100%;\r\n    /* Fill available space */\r\n    height: auto;\r\n    position: relative;\r\n  }\r\n\r\n  .you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future {\r\n    width: 100%;\r\n    /* Wrap text properly */\r\n    font-size: 14px;\r\n    /* Slightly smaller text */\r\n    line-height: 20px;\r\n    position: relative;\r\n    /* Remove absolute positioning */\r\n  }\r\n\r\n  .frame-44525 {\r\n    flex-direction: column;\r\n    /* Stack buttons vertically */\r\n    gap: 12px;\r\n    width: 100%;\r\n    position: relative;\r\n    top: auto;\r\n    left: auto;\r\n    margin-top: 16px;\r\n  }\r\n\r\n  .omvc-buttons-text-links {\r\n    width: 100%;\r\n    /* Full-width button */\r\n    height: 44px;\r\n  }\r\n\r\n  .omvc-buttons-text-links2 {\r\n    flex-direction: column;\r\n    /* Stack link + secondary button */\r\n    gap: 8px;\r\n    width: 100%;\r\n  }\r\n\r\n  .submit-to-continue {\r\n    color: var(--components-button-primary-text, #ffffff);\r\n    text-align: center;\r\n    font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    font-weight: 600;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    justify-content: center;\r\n    background: none;\r\n    border: none;\r\n  }\r\n\r\n  .submit {\r\n    display: none;\r\n  }\r\n\r\n  .frame .link-text {\r\n    /* font-size: 14px; */\r\n    /* display: none; */\r\n  }\r\n\r\n  .authentication-successful {\r\n    font-size: 18px;\r\n    line-height: 26px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .standard-modal {\r\n    width: 95%;\r\n    padding: 16px;\r\n  }\r\n\r\n  .authentication-successful {\r\n    font-size: 16px;\r\n    line-height: 22px;\r\n  }\r\n\r\n  .omvc-buttons-text-links {\r\n    background: var(--ink-black, #000000);\r\n    border-radius: var(--components-button-radius, 1000px);\r\n    padding: 0px var(--spacing-24px, 24px) 0px var(--spacing-24px, 24px);\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: var(--spacing-12px, 12px);\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-shrink: 0;\r\n    width: 304px;\r\n    height: 48px;\r\n    position: relative;\r\n    overflow: hidden;\r\n\r\n  }\r\n\r\n  .omvc-buttons-text-links2 {\r\n\r\n    display: block;\r\n  }\r\n\r\n  .submit-to-continue {\r\n    color: var(--components-button-primary-text, #ffffff);\r\n    text-align: center;\r\n    font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    font-weight: 600;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    justify-content: center;\r\n    border: none;\r\n    background: none;\r\n  }\r\n\r\n  .submit {\r\n    display: none;\r\n  }\r\n\r\n  .frame .link-text {\r\n    display: block;\r\n  }\r\n}"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "nodeTitle": {
                "value": "Authentication Successful Message"
              },
              "customScript": {
                "value": "\r\n\r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n\r\n// function getMoxieKey(domain) {\r\n//   switch (domain) {\r\n//     case \"marriottvacationclub.com\":\r\n//       return \"{{global.company.variables.moxieKeyMVC}}\";\r\n//     case \"vacationclubap.com\":\r\n//       return \"{{global.company.variables.moxieKeyVCAP}}\";\r\n//     default:\r\n//       // console.warn(`Unknown domain '${domain}'. Falling back to MVC key.`);\r\n//       console.warn(`Unknown domain '${domain}'. Moxie key left empty.`);\r\n//       return \"\";\r\n\r\n//   }\r\n// }\r\nconst domain = \"{{global.variables.domain}}\";\r\nconsole.log(\"Domain  is:\", domain);\r\n// const MOXIE_SCRIPT_ID = 'moxie-translation-script';\r\n// const moxieKey = getMoxieKey(domain);\r\n// console.log(\"Moxie Key is:\", moxieKey);\r\n\r\n\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n  // Create the dimming overlay\r\n  const overlay = document.createElement('div');\r\n  overlay.id = BACKGROUND_OVERLAY_ID;\r\n  overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n  // Create the iframe\r\n  const iframe = document.createElement('iframe');\r\n  iframe.id = BACKGROUND_IFRAME_ID;\r\n  iframe.src = url;\r\n  iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n  // Add them to the page\r\n  document.body.insertBefore(overlay, document.body.firstChild);\r\n  document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n  console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\nfunction removeBackgroundSiteDimmed() {\r\n    const iframe = document.getElementById(BACKGROUND_IFRAME_ID);\r\n    const overlay = document.getElementById(BACKGROUND_OVERLAY_ID);\r\n\r\n    if (iframe) iframe.remove();\r\n    if (overlay) overlay.remove();\r\n\r\n    console.log(\"Dimmed background and iframe have been removed.\");\r\n}\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n  const modal = document.getElementById('authSucessModal');\r\n\r\n  if (modal && !backgroundVisible) {\r\n\r\n    if (domain.includes(\"grandresidenceclub.com\")) {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\r\n      backgroundVisible = true;\r\n\r\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\r\n\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n    else {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n  } else if (!modal && backgroundVisible) {\r\n    removeBackgroundSiteDimmed();\r\n    backgroundVisible = false;\r\n  }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n\r\n\r\n\r\n\r\n\r\n// function applyMoxieTranslations() {\r\n\r\n//   const existingScript = document.getElementById(MOXIE_SCRIPT_ID);\r\n\r\n//   if (existingScript) existingScript.remove();\r\n\r\n//   const moxieScript = document.createElement(\"script\");\r\n\r\n//   moxieScript.id = MOXIE_SCRIPT_ID;\r\n\r\n//   moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n\r\n//   moxieScript.type = \"text/javascript\";\r\n\r\n//   moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n\r\n//   moxieScript.onerror = () => console.error(\"CRITICAL: Moxie script failed to load.\");\r\n\r\n//   document.head.appendChild(moxieScript);\r\n\r\n// }\r\n\r\n// applyMoxieTranslations();\r\n"
              }
            },
            "idUnique": "nnv1900skh"
          },
          "position": {
            "x": 2455,
            "y": 2940
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fri4c3y0ej",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2549,
            "y": 3062.000015992963
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "pqxheh6isj",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "RememberMe",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"rememberMe\",\n        \"data\": \"{{local.vphozwida3.payload.output.rememberMe}}\",\n        \"tooltip\": \"{{local.vphozwida3.payload.output.rememberMe}}\",\n        \"children\": [\n          {\n            \"text\": \"rememberMe\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.7192477543059008,
                    "label": "RememberMe (boolean - flowInstance)",
                    "type": "boolean",
                    "nameDefault": "rememberMe"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Trusted Browser?"
              }
            }
          },
          "position": {
            "x": 2725,
            "y": 3210
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wcsqnfhgpv",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2819,
            "y": 3062.000015992963
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "oplf2mbb17",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "skipByCount",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"{{local.w7ugweg769.payload.output.rawResponse.matchedUsers._embedded.users[0].skipByCount}}\"\n      }\n    ]\n  }\n]",
                    "key": 0.23760594510581867,
                    "label": "skipByCount (number - flowInstance)",
                    "type": "number",
                    "nameDefault": "newValue"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set skipByCount"
              }
            }
          },
          "position": {
            "x": 2756,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "j7xl1o9fhl",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2876,
            "y": 450
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9b8o5cz1rs",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "incrementByN",
            "type": "action",
            "properties": {
              "variable": {
                "value": "skipByCount"
              },
              "incrementCounter": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"1\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Increment skipByCount"
              }
            }
          },
          "position": {
            "x": 1920,
            "y": 1110
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "s1dignx4g8",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 2040,
            "y": 1110
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "z8euhhsnk7",
            "nodeType": "CONNECTION",
            "connectionId": "94141bf2f1b9b59a5f5365ff135e02bb",
            "connectorId": "pingOneSSOConnector",
            "name": "PingOne",
            "label": "PingOne",
            "status": "configured",
            "capabilityName": "updateUser",
            "type": "action",
            "properties": {
              "additionalUserProperties": {
                "value": [
                  {
                    "name": "skipByCount",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"skipByCount\",\n        \"data\": \"{{global.variables.skipByCount}}\",\n        \"tooltip\": \"{{global.variables.skipByCount}}\",\n        \"children\": [\n          {\n            \"text\": \"skipByCount\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "identifier": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.w7ugweg769.payload.output.matchedUser.id}}\",\n        \"tooltip\": \"{{local.w7ugweg769.payload.output.matchedUser.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "username": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"username\",\n        \"data\": \"{{local.w7ugweg769.payload.output.matchedUser.username}}\",\n        \"tooltip\": \"{{local.w7ugweg769.payload.output.matchedUser.username}}\",\n        \"children\": [\n          {\n            \"text\": \"username\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Update skipByCount"
              }
            }
          },
          "position": {
            "x": 2190,
            "y": 1110
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "2vewum7b8r",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2310,
            "y": 1110
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "q2msvkbio0",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AGreaterThanEqualToB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"skipByCount\",\n        \"data\": \"{{global.variables.skipByCount}}\",\n        \"tooltip\": \"{{global.variables.skipByCount}}\",\n        \"children\": [\n          {\n            \"text\": \"skipByCount\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"maxSkipCount\",\n        \"data\": \"{{global.company.variables.maxSkipCount}}\",\n        \"tooltip\": \"{{global.company.variables.maxSkipCount}}\",\n        \"children\": [\n          {\n            \"text\": \"maxSkipCount\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "number"
              },
              "nodeTitle": {
                "value": "Check Max Skip Count Reached ??"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "isDisabled": false
          },
          "position": {
            "x": 1110,
            "y": 1110
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "dgyp85jevl",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<!-- v1.0 -->\r\n<!-- 2025-08-26 updated by Tony Kroukamp -->\r\n<!-- used input 'spinTime' to control delay for button click -->\r\n\r\n<div id=\"spinner-container\">\r\n  <div class=\"spinner\"></div>\r\n</div>\r\n\r\n<button\r\n  type=\"button\"\r\n  data-skcomponent=\"skbutton\"\r\n  id=\"nextEventBtn\"\r\n  class=\"hidden\"\r\n  data-skbuttontype=\"next-event\"\r\n  data-skbuttonvalue=\"proceed\"\r\n>\r\n  Next\r\n</button>\r\n"
              },
              "customCSS": {
                "value": "#spinner-container {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 9999;\r\n}\r\n\r\n.spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 4px solid #ccc;\r\n  border-top-color: #333;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n\r\n@keyframes spin {\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n"
              },
              "customScript": {
                "value": "// Parse the input value 'spinTime' and use it for delay\r\nconst spinDelay = parseInt(\"{{spinTime}}\", 10) || 15;\r\n\r\nsetTimeout(function () {\r\n  document.getElementById(\"nextEventBtn\").click();\r\n}, spinDelay);\r\n"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "nodeTitle": {
                "value": "Spinner"
              },
              "inputSchema": {
                "value": "{\r\n  \"type\": \"object\",\r\n  \"properties\": {\r\n    \"spinTime\": {\r\n      \"type\": \"integer\",\r\n      \"title\": \"Spinner Delay Time (ms)\",\r\n      \"description\": \"Time in milliseconds before the next-event button is triggered.\",\r\n      \"minimum\": 0,\r\n      \"default\": 15\r\n    }\r\n  },\r\n  \"required\": [\"spinTime\"]\r\n}\r\n"
              },
              "spinTime": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"500\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "9ozbxgvge3",
            "isDisabled": true
          },
          "position": {
            "x": 2670,
            "y": 3390
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ta0r9qp7tb",
            "nodeType": "CONNECTION",
            "connectionId": "2581eb287bb1d9bd29ae9886d675f89f",
            "connectorId": "flowConnector",
            "name": "Flow Connector",
            "label": "Flow Connector",
            "status": "configured",
            "capabilityName": "startUiSubFlow",
            "type": "trigger",
            "properties": {
              "subFlowId": {
                "value": {
                  "label": "57340de12323ae9cb4f771fc56531efe",
                  "value": "57340de12323ae9cb4f771fc56531efe"
                }
              },
              "pingOneUserId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"p1UserId\",\n        \"data\": \"{{global.parameters.p1UserId}}\",\n        \"tooltip\": \"{{global.parameters.p1UserId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1UserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "allowCancel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "passwordlessRequired": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"false\"\n      }\n    ]\n  }\n]"
              },
              "allowedDeviceTypes": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"allowedEnrollmentMethods\",\n        \"data\": \"{{local.uuf6fcq882.payload.output.allowedEnrollmentMethods}}\",\n        \"tooltip\": \"{{local.uuf6fcq882.payload.output.allowedEnrollmentMethods}}\",\n        \"children\": [\n          {\n            \"text\": \"allowedEnrollmentMethods\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "fidoRegistrationRequired": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"false\"\n      }\n    ]\n  }\n]"
              },
              "email": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{local.chi45050r2.payload.output.email}}\",\n        \"tooltip\": \"{{local.chi45050r2.payload.output.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "phone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"mobilePhone\",\n        \"data\": \"{{local.w7ugweg769.payload.output.matchedUser.mobilePhone}}\",\n        \"tooltip\": \"{{local.w7ugweg769.payload.output.matchedUser.mobilePhone}}\",\n        \"children\": [\n          {\n            \"text\": \"mobilePhone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "MFA Enrollment"
              },
              "subFlowVersionId": {
                "value": -1
              },
              "mfaEnabled": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"mfaEnabled\",\n        \"data\": \"{{local.w7ugweg769.payload.output.matchedUser.mfaEnabled}}\",\n        \"tooltip\": \"{{local.w7ugweg769.payload.output.matchedUser.mfaEnabled}}\",\n        \"children\": [\n          {\n            \"text\": \"mfaEnabled\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "availableDevices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"availableDevices\",\n        \"data\": \"{{local.uuf6fcq882.payload.output.availableDevices}}\",\n        \"tooltip\": \"{{local.uuf6fcq882.payload.output.availableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"availableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "test": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"testValue\"\n      }\n    ]\n  }\n]"
              },
              "domain friendly name": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"friendlyName\",\n        \"data\": \"{{local.619yvb4dnp.payload.output.friendlyName}}\",\n        \"tooltip\": \"{{local.619yvb4dnp.payload.output.friendlyName}}\",\n        \"children\": [\n          {\n            \"text\": \"friendlyName\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "domain name": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"abbreviation\",\n        \"data\": \"{{local.619yvb4dnp.payload.output.abbreviation}}\",\n        \"tooltip\": \"{{local.619yvb4dnp.payload.output.abbreviation}}\",\n        \"children\": [\n          {\n            \"text\": \"abbreviation\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "skipByCount": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1830,
            "y": 1290
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "juqaosd8af",
            "nodeType": "EVAL",
            "properties": {
              "mwmn3q4dta": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1950,
            "y": 1290
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "pms9ufpjzn",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "g819woyri7"
              },
              "authMethod": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"flow-connector.svg\",\n        \"url\": \"ciam_authMethod\",\n        \"data\": \"{{local.ta0r9qp7tb.payload.output.ciam_authMethod}}\",\n        \"tooltip\": \"{{local.ta0r9qp7tb.payload.output.ciam_authMethod}}\",\n        \"children\": [\n          {\n            \"text\": \"ciam_authMethod\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2100,
            "y": 1410
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "mwmn3q4dta",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "887186z6vi"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"flow-connector.svg\",\n        \"url\": \"message\",\n        \"data\": \"{{local.ta0r9qp7tb.payload.error.message}}\",\n        \"tooltip\": \"{{local.ta0r9qp7tb.payload.error.message}}\",\n        \"children\": [\n          {\n            \"text\": \"message\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1830,
            "y": 1410
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9dqb4yt2x5",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "RememberMe",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"flow-connector.svg\",\n        \"url\": \"RememberMe\",\n        \"data\": \"{{local.ta0r9qp7tb.payload.output.RememberMe}}\",\n        \"tooltip\": \"{{local.ta0r9qp7tb.payload.output.RememberMe}}\",\n        \"children\": [\n          {\n            \"text\": \"RememberMe\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.14583620791981167,
                    "label": "RememberMe (boolean - flowInstance)",
                    "type": "boolean",
                    "nameDefault": "RememberMe"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Trusted Browser?"
              }
            }
          },
          "position": {
            "x": 2100,
            "y": 1290
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wvvxj16elt",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1950,
            "y": 1410
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "r7cfrtc0gk",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "undefined": {
                "value": null
              },
              "nodeTitle": {
                "value": "Select Authentication Device-08Sep2025"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"array\",\n\t\"properties\": {\n\t\t\"devices\": {\n\t\t\t\"type\": \"object\",\n\t\t\t\"properties\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"displayName\": \"id\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t},\n\t\t\t\t\"type\": {\n\t\t\t\t\t\"displayName\": \"type\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t},\n\t\t\t\t\"status\": {\n\t\t\t\t\t\"displayName\": \"status\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"title\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Title\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"title\"\n\t\t},\n\t\t\"text\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Text\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"text\"\n\t\t},\n\t\t\"EnrollButtonEnable\": {\n\t\t\t\"type\": \"boolean\",\n\t\t\t\"displayName\": \"Enroll Button Enable\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"enrollButtonEnable\"\n\t\t},\n\t\t\"enrollButtonLabel\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Enroll Button Label\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"enrollButtonLabel\"\n\t\t}\n\t}\n}"
              },
              "outputSchema": {
                "value": {}
              },
              "customHTML": {
                "value": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <meta name=\"description\" content=\"Secure your account using email, text, or voice authentication.\" />\n  <meta name=\"author\" content=\"Kanchan\" />\n  <meta name=\"created\" content=\"2025-08-05\" />\n  <meta name=\"created\" content=\"2025-08-06\" />\n  <title>Secure Your Account</title>\n  <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\n\n</head>\n\n<body>\n   <!-- <div class=\"overlay\"></div> -->\n\n  <div id=\"selectDeviceModal\" class=\"container\">\n    <div class=\"modal\">\n      <div class=\"secure-your-account\">Secure Your Account</div>\n      <!-- Dev translation message container -->\n      <!-- <div id=\"dev-translation-container\" style=\"margin-bottom: 12px;\">\n        <p id=\"dev-translation-msg\" style=\"font-weight: bold; color: green; margin: 0;\">\n          Translation text will be injected here by applyDevTranslation \n        </p>\n      </div> -->\n      \n      <p class=\"secure-your-account-description\">\n        Select a method to authenticate and secure your account. If you don't see your preferred method,\n        select to add or edit your information in your account.\n      </p>\n\n      <form id=\"authForm\">\n        <div id=\"output\"></div>\n\n        <div class=\"buttons\">\n          <button id=\"sendcode\" type=\"submit\" class=\"primary\" aria-label=\"click the button to Send code\"\n            data-skcomponent=\"skbutton\" data-skform=\"authForm\" data-skbuttontype=\"form-submit\"\n            data-skbuttonvalue=\"SendCode\">Send Code</button>\n\n          <!-- NOTE- Removing Skip Button, As per confrimation Skip button is not needed for Enrolled User-->\n\n          <!-- <button id=\"skip\" type=\"submit\" class=\"link\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\n            data-skbuttonvalue=\"Skip\">Skip</button> -->\n\n\n        </div>\n      </form>\n    </div>\n  </div>\n\n\n</body>\n\n</html>\n\n\n"
              },
              "customCSS": {
                "value": "\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n    height: 100%;\r\n    font-family: Arial, sans-serif;\r\n    background-color: skyblue;\r\n  }\r\n\r\n  .overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    /* background-color: rgba(0, 0, 0, 0.85); */\r\n    opacity: 0.7;\r\n    z-index: 1;\r\n  }\r\n\r\n  .container {\r\n    position: fixed;\r\n    inset: 0;\r\n    z-index: 2;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .container::before {\r\n    content: \"\";\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    /* background: rgba(0, 0, 0, 85); */\r\n    z-index: -1;\r\n    opacity: 0.7;\r\n  }\r\n\r\n\r\n  .modal {\r\n    background: white;\r\n    border-radius: 1rem;\r\n    padding: 38px;\r\n    max-width: 500px;\r\n    width: 100%;\r\n    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);\r\n  }\r\n\r\n  .modal h2 {\r\n    margin-top: 0;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n\r\n  .modal p {\r\n    font-size: 0.95rem;\r\n    color: #333;\r\n    margin-top: 0;\r\n  }\r\n\r\n  .option {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 1rem;\r\n  }\r\n\r\n  /* .option input[type=\"radio\"] {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 0.75rem;\r\n    accent-color: black;\r\n    cursor: pointer;\r\n    border-radius: 50%;\r\n} */\r\n\r\n#selectDeviceModal .option input[type=\"radio\"] {\r\n  /* Resetting conflicting properties from the global style */\r\n  -webkit-appearance: revert !important;\r\n  -moz-appearance: revert !important;\r\n  appearance: revert !important;\r\n  position: revert !important;\r\n  background-color: revert !important;\r\n  color: revert !important;\r\n  top: revert !important;\r\n  border: revert !important;\r\n  outline: revert !important;\r\n\r\n  /* PING styles, now with !important to be safe */\r\n  width: 20px !important;\r\n  height: 20px !important;\r\n  margin-right: 0.75rem !important;\r\n  accent-color: black !important;\r\n  cursor: pointer !important;\r\n  border-radius: 50% !important;\r\n}\r\n\r\n  .option label {\r\n    cursor: pointer;\r\n    font-size: 0.95rem;\r\n  }\r\n\r\n  .buttons {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    margin-top: 2rem;\r\n    gap: 1rem;\r\n    flex-wrap: wrap;\r\n  }\r\n\r\nbutton.primary {\r\n  color: white;\r\n  font-size: 16px;\r\n  font-family: Roboto;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n  word-wrap: break-word;\r\n  display: flex;\r\n  height: 48px;\r\n  padding: 0 var(--spacing-24px, 24px);\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: var(--spacing-12px, 12px);\r\n  border-radius: var(--components-button-radius, 1000px);\r\n  background: var(--INK-Black, #000);\r\n}\r\n\r\n  button.primary:disabled {\r\n    background-color: #888;\r\n    cursor: not-allowed;\r\n  }\r\n\r\nbutton.link {\r\n  background: none;\r\n  border: none;\r\n  color: #000;\r\n  font-size: 0.95rem;\r\n  cursor: pointer;\r\n  text-decoration: underline;\r\n  padding: 0;\r\n  font-size: 16px;\r\n  font-family: Roboto;\r\n  font-weight: 600;\r\n}\r\n\r\n  @media screen and (max-width: 500px) {\r\n    .modal {\r\n      margin: 1rem;\r\n    }\r\n\r\n    .buttons {\r\n      flex-direction: column;\r\n      align-items: stretch;\r\n    }\r\n\r\n    button.primary,\r\n    button.link {\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  /* .radio-div {\r\n\r\n       width: 20px;\r\n      height: 20px;\r\n      margin-right: 0.75rem;\r\n      accent-color: black;\r\n      cursor: pointer;\r\n      border-radius: 50%;\r\n\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 10px 20px;\r\n      color: var(--Black, #000);\r\n      cursor: pointer;\r\n      font-size: 16px;\r\n      border-radius: 5px;\r\n      text-align: center;\r\n      transition: 0.3s;\r\n      position: relative;\r\n    }\r\n\r\n    .radio-div.active {\r\n      background: #007bff;\r\n      color: white;\r\n    }\r\n\r\n    .radio-div.active .radio-icon {\r\n      background: #007bff;\r\n    } */\r\n\r\n  .radio-container {\r\n    gap: 10px;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .secure-your-account {\r\n    align-self: stretch;\r\n    color: #000;\r\n\r\n    /* Headline/Subhead */\r\n    font-family: var(--text-font-subhead-font, Roboto);\r\n    font-size: var(--Font-Size-Subhead, 20px);\r\n    font-style: normal;\r\n    font-weight: 600;\r\n    line-height: var(--Font-Line-Height-Subhead, 30px);\r\n    /* 150% */\r\n  }\r\n\r\n  .secure-your-account-description {\r\n    align-self: stretch;\r\n    color: #000;\r\n\r\n    /* Body/Body (Default) */\r\n    font-family: var(--text-font-body-font, Roboto);\r\n    font-size: var(--Font-Size-Body-Default, 16px);\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: var(--Font-Line-Height-Body-Default, 24px);\r\n    /* 150% */\r\n  }\r\n"
              },
              "customScript": {
                "value": "\r\n\r\n// =============================================================================================================new js====\r\n  // ------------------ Config ------------------\r\n  //const dev = true; // set to false in production\r\n  //const moxieKey = \"PEE47-327B-3359-EAD0\"; // replace with your OLJS key\r\n  const moxieKey =\"{{global.company.variables.moxieKeyMVC}}\";\r\n   const MOXIE_SCRIPT_ID = 'moxie-translation-script';\r\n\r\n  // --- NEW: Unique IDs for our dynamic elements ---\r\n  const BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\n  const BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n  \r\n\r\n  // Track whether background is currently active\r\n  let backgroundVisible = false;\r\n\r\n  // ------------------ Device renderer ------------------\r\n  function displayData(data, container) {\r\n    container.innerHTML = \"\"; // Clear existing content\r\n    const groupName = \"selectedDevice\";\r\n\r\n    for (const key in data) {\r\n      const item = data[key];\r\n      const div = document.createElement(\"div\");\r\n      div.classList.add(\"option\");\r\n\r\n      const radio = document.createElement(\"input\");\r\n      radio.type = \"radio\";\r\n      radio.name = groupName;\r\n      radio.id = `mfa-${key}`;\r\n      //const unmasked = item.unmasked || \"\";\r\n      if (item.type === \"EMAIL\") {\r\n        radio.value = `${item.id}`;\r\n      }\r\n      else {\r\n        radio.value = `${item.id}`;\r\n      }\r\n\r\n      radio.addEventListener(\"change\", () => {\r\n        document.getElementById(\"sendcode\").disabled = false;\r\n      });\r\n\r\n      const label = document.createElement(\"label\");\r\n      label.htmlFor = radio.id;\r\n      label.className = \"transparent-btn\";\r\n      //label.textContent = item.type + \" \";\r\n      if (item.type === \"EMAIL\") {\r\n        label.textContent += \"Email \" + item.email;\r\n      } else if (item.type === \"SMS\") {\r\n        label.textContent += \"Text \" + item.phone;\r\n      } else {\r\n        label.textContent += \"Call \" + item.phone;\r\n      }\r\n\r\n      div.appendChild(radio)\r\n      div.appendChild(label);\r\n      container.appendChild(div);\r\n    }\r\n  }\r\n\r\n  // ------------------ Example data ------------------\r\n  const jsonData = {{global.variables.maskedUsableDevices}};\r\n\r\n  // ------------------ Direct execution (no DOMContentLoaded) ------------------\r\n  //document.getElementById(\"sendcode\").disabled = true;\r\n\r\n  const outputDiv = document.getElementById(\"output\");\r\n  outputDiv.classList.add(\"radio-container\");\r\n\r\n  displayData(jsonData, outputDiv);\r\n\r\n\r\n\r\n  /**\r\n   * Creates and injects a dimmed, full-screen iframe background.\r\n   * Checks if elements already exist to avoid duplicates.\r\n   * @param {string} url - The URL for the background website.\r\n   */\r\n  function insertBackgroundSiteDimmed(url) {\r\n    if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n    // Create the dimming overlay\r\n    const overlay = document.createElement('div');\r\n    overlay.id = BACKGROUND_OVERLAY_ID;\r\n    overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n    // Create the iframe\r\n    const iframe = document.createElement('iframe');\r\n    iframe.id = BACKGROUND_IFRAME_ID;\r\n    iframe.src = url;\r\n    iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n    iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n    // Add them to the page\r\n    document.body.insertBefore(overlay, document.body.firstChild);\r\n    document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n    console.log(\"Dimmed background and iframe have been injected.\");\r\n  }\r\n\r\n\r\n  // --- 1. Main Logic to Control the Background ---\r\n  const manageBackgroundVisibility = () => {\r\n    const modal = document.getElementById('selectDeviceModal');\r\n\r\n    if (modal && !backgroundVisible) {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.BackgroundImageUrl}}\");\r\n      backgroundVisible = true;\r\n    } \r\n    // else if (!modal && backgroundVisible) {\r\n    //   removeBackgroundSiteDimmed();\r\n    //   backgroundVisible = false;\r\n    // }\r\n  };\r\n\r\n  // --- 2. Watch for Page Changes in the SPA ---\r\n  const observer = new MutationObserver(manageBackgroundVisibility);\r\n  observer.observe(document.body, { childList: true, subtree: true });\r\n\r\n  // --- 3. Initial Setup ---\r\n  manageBackgroundVisibility();\r\n\r\n  // --- 4. Language Preference Helper ---\r\n  function getLanguagePreference() {\r\n    const langCookie = document.cookie.split('; ')\r\n      .find(row => row.startsWith('langPref='));\r\n    return langCookie ? langCookie.split('=')[1] : 'en';\r\n  }\r\n\r\n  // // --- 5. Handle Moxie Script Injection ---\r\n  // function initLanguageOnLoad() {\r\n  //   if (!dev) {\r\n  //     console.log(\"PRODUCTION MODE: Injecting Moxie translation script.\");\r\n  //     const moxieScript = document.createElement(\"script\");\r\n  //     moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n  //     moxieScript.type = \"text/javascript\";\r\n  //     moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n  //     document.head.appendChild(moxieScript);\r\n  //   } else {\r\n  //     console.log('Language pref is: ', getLanguagePreference());\r\n  //   }\r\n  // }\r\n\r\n  //  initLanguageOnLoad();\r\n\r\n\r\nfunction applyMoxieTranslations() {\r\n    const existingScript = document.getElementById(MOXIE_SCRIPT_ID);\r\n    if (existingScript) existingScript.remove();\r\n\r\n    const moxieScript = document.createElement(\"script\");\r\n    moxieScript.id = MOXIE_SCRIPT_ID;\r\n    moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n    moxieScript.type = \"text/javascript\";\r\n    moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n    moxieScript.onerror = () => console.error(\"CRITICAL: Moxie script failed to load.\");\r\n    document.head.appendChild(moxieScript);\r\n}\r\napplyMoxieTranslations();\r\n"
              },
              "validationRules": {
                "value": []
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "propertyName": "selectedDevice",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  }
                ]
              },
              "devices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"maskedUsableDevices\",\n        \"data\": \"{{global.variables.maskedUsableDevices}}\",\n        \"tooltip\": \"{{global.variables.maskedUsableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedUsableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "title": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Select Method\"\n      }\n    ]\n  }\n]"
              },
              "text": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Select an MFA method to use to sign on to your account.\"\n      }\n    ]\n  }\n]"
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "enrollButtonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Add additional Device?\"\n      }\n    ]\n  }\n]"
              },
              "enrollButtonEnable": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"additionalDevicesAvailable\",\n        \"data\": \"{{local.uuf6fcq882.payload.output.additionalDevicesAvailable}}\",\n        \"tooltip\": \"{{local.uuf6fcq882.payload.output.additionalDevicesAvailable}}\",\n        \"children\": [\n          {\n            \"text\": \"additionalDevicesAvailable\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "5b432vkp1u",
            "isDisabled": true
          },
          "position": {
            "x": 277,
            "y": 1462.9998779296875
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "qv5m1ffwit",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\r\n    <title>Document</title>\r\n    \r\n  </head>\r\n  <body>\r\n \r\n    <div class=\"parent-Auth\" id=\"authSucessModal\">\r\n      <div class=\"standard-modal modal-secure-authentication-mobile\">\r\n        <div class=\"frame-57 top-row\">\r\n          <div class=\"authentication-successful\">Authentication Successful</div>\r\n          <div class=\"frame-53 frame-96\">\r\n            <div\r\n              class=\"you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future\"\r\n            >\r\n              You have successfully authenticated your account. Select Edit\r\n              Account Information if you wish to authenticate with a different\r\n              email or phone number in the future.\r\n            </div>\r\n            <div class=\"frame-44525\">\r\n              <div class=\"frame-114\">\r\n                <div class=\"omvc-buttons-text-links\">\r\n                  <div class=\"submit\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"Continue\">Continue</div>\r\n                   <div class=\"submit-to-continue\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"Continue\">Continue to Homepage</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"omvc-buttons-text-links2\">\r\n                <div class=\"frame\">\r\n                  <div class=\"link-text\" data-skcomponent=\"sk-link\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"emailandphone\">Edit Email and Phone Number</div>\r\n                </div>\r\n               \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </body>\r\n</html>"
              },
              "customCSS": {
                "value": ".standard-modal,\r\n      .standard-modal * {\r\n        box-sizing: border-box;\r\n      }\r\n      .standard-modal {\r\n        background: var(--surface-primary, #ffffff);\r\n        border-radius: var(--corner-radii-10px, 10px);\r\n        padding: var(--spacing-48px, 48px);\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: var(--spacing-24px, 24px);\r\n        align-items: flex-end;\r\n        justify-content: flex-start;\r\n        height: 272px;\r\n        min-width: 352px;\r\n        max-width: 760px;\r\n        position: relative;\r\n        box-shadow: var(\r\n          --drop-shadows-standard-box-shadow,\r\n          0px 3px 5px 0px rgba(0, 0, 0, 0.3)\r\n        );\r\n        overflow: hidden;\r\n      }\r\n      .frame-57 {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 16px;\r\n        align-items: flex-start;\r\n        justify-content: flex-start;\r\n        align-self: stretch;\r\n        flex-shrink: 0;\r\n        position: relative;\r\n      }\r\n      .authentication-successful {\r\n        color: #000000;\r\n        text-align: left;\r\n        font-family: var(\r\n          --headline-subhead-font-family,\r\n          \"Roboto-SemiBold\",\r\n          sans-serif\r\n        );\r\n        font-size: var(--headline-subhead-font-size, 20px);\r\n        line-height: var(--headline-subhead-line-height, 30px);\r\n        font-weight: var(--headline-subhead-font-weight, 600);\r\n        position: relative;\r\n        align-self: stretch;\r\n        display: flex;\r\n        align-items: flex-end;\r\n        justify-content: flex-start;\r\n      }\r\n      .frame-53 {\r\n        flex-shrink: 0;\r\n        width: 604px;\r\n        height: 128px;\r\n        position: relative;\r\n      }\r\n      .you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future {\r\n        color: #000000;\r\n        text-align: left;\r\n        font-family: var(\r\n          --body-body-default-font-family,\r\n          \"Roboto-Regular\",\r\n          sans-serif\r\n        );\r\n        font-size: var(--body-body-default-font-size, 16px);\r\n        line-height: var(--body-body-default-line-height, 24px);\r\n        font-weight: var(--body-body-default-font-weight, 400);\r\n        position: absolute;\r\n        left: 0px;\r\n        top: 0px;\r\n        width: 604px;\r\n        display: flex;\r\n        align-items: flex-end;\r\n        justify-content: flex-start;\r\n      }\r\n      .frame-44525 {\r\n        display: flex;\r\n        flex-direction: row;\r\n        gap: 24px;\r\n        align-items: center;\r\n        justify-content: flex-start;\r\n        position: absolute;\r\n        left: 0px;\r\n        top: 80px;\r\n      }\r\n      .frame-114 {\r\n        display: flex;\r\n        flex-direction: row;\r\n        gap: 32px;\r\n        align-items: center;\r\n        justify-content: flex-start;\r\n        flex-shrink: 0;\r\n        position: relative;\r\n      }\r\n      .omvc-buttons-text-links {\r\n        background: var(--ink-black, #000000);\r\n        border-radius: var(--components-button-radius, 1000px);\r\n        padding: 0px var(--spacing-24px, 24px) 0px var(--spacing-24px, 24px);\r\n        display: flex;\r\n        flex-direction: row;\r\n        gap: var(--spacing-12px, 12px);\r\n        align-items: center;\r\n        justify-content: center;\r\n        flex-shrink: 0;\r\n        height: 48px;\r\n        position: relative;\r\n        overflow: hidden;\r\n      }\r\n      /* .submit {\r\n        color: var(--components-button-primary-text, #ffffff);\r\n        text-align: center;\r\n        font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n        font-size: 16px;\r\n        line-height: 24px;\r\n        font-weight: 600;\r\n        position: relative;\r\n        display: flex;\r\n        align-items: flex-end;\r\n        justify-content: center;\r\n      } */\r\n      .submit {\r\n    border: none;\r\n    background: none;\r\n    color: var(--components-button-primary-text, #ffffff);\r\n    text-align: center;\r\n    font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    font-weight: 600;\r\n    position: relative;\r\n    display: flex\r\n;\r\n    align-items: flex-end;\r\n    justify-content: center;\r\n}\r\n      .omvc-buttons-text-links2 {\r\n        display: flex;\r\n        flex-direction: row;\r\n        gap: 4px;\r\n        align-items: center;\r\n        justify-content: center;\r\n        flex-shrink: 0;\r\n        position: relative;\r\n      }\r\n      .frame {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 0px;\r\n        align-items: center;\r\n        justify-content: center;\r\n        flex-shrink: 0;\r\n        position: relative;\r\n      }\r\n      .link-text {\r\n        color: var(--ink-black, #000000);\r\n        text-align: left;\r\n        font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n        font-size: 16px;\r\n        line-height: 24px;\r\n        font-weight: 600;\r\n        text-decoration: underline;\r\n        position: relative;\r\n      }\r\n      .parent-Auth {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        height: 100vh;\r\n        background: rgba(0, 0, 0, 0.85);\r\n      }\r\n      .submit-to-continue {\r\n        display: none;\r\n      }\r\n\r\n      @media (max-width: 768px) {\r\n        .standard-modal {\r\n          width: 90%; /* Take most of screen width */\r\n          max-width: 400px; /* Prevent it from getting too wide */\r\n          min-width: auto; /* Override desktop min-width */\r\n          padding: 24px; /* Smaller padding */\r\n          height: auto; /* Adjust height automatically */\r\n          border-radius: 12px;\r\n        }\r\n\r\n        .frame-53 {\r\n          width: 100%; /* Fill available space */\r\n          height: auto;\r\n          position: relative;\r\n        }\r\n\r\n        .you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future {\r\n          width: 100%; /* Wrap text properly */\r\n          font-size: 14px; /* Slightly smaller text */\r\n          line-height: 20px;\r\n          position: relative; /* Remove absolute positioning */\r\n        }\r\n\r\n        .frame-44525 {\r\n          flex-direction: column; /* Stack buttons vertically */\r\n          gap: 12px;\r\n          width: 100%;\r\n          position: relative;\r\n          top: auto;\r\n          left: auto;\r\n          margin-top: 16px;\r\n        }\r\n\r\n        .omvc-buttons-text-links {\r\n          width: 100%; /* Full-width button */\r\n          height: 44px;\r\n        }\r\n\r\n        .omvc-buttons-text-links2 {\r\n          flex-direction: column; /* Stack link + secondary button */\r\n          gap: 8px;\r\n          width: 100%;\r\n        }\r\n        .submit-to-continue {\r\n          color: var(--components-button-primary-text, #ffffff);\r\n          text-align: center;\r\n          font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n          font-size: 16px;\r\n          line-height: 24px;\r\n          font-weight: 600;\r\n          position: relative;\r\n          display: flex;\r\n          align-items: flex-end;\r\n          justify-content: center;\r\n        }\r\n        .submit {\r\n          display: none;\r\n        }\r\n\r\n        .frame .link-text {\r\n          /* font-size: 14px; */\r\n          display: none;\r\n        }\r\n\r\n        .authentication-successful {\r\n          font-size: 18px;\r\n          line-height: 26px;\r\n        }\r\n      }\r\n\r\n      @media (max-width: 480px) {\r\n        .standard-modal {\r\n          width: 95%;\r\n          padding: 16px;\r\n        }\r\n\r\n        .authentication-successful {\r\n          font-size: 16px;\r\n          line-height: 22px;\r\n        }\r\n\r\n        .omvc-buttons-text-links {\r\n          background: var(--ink-black, #000000);\r\n          border-radius: var(--components-button-radius, 1000px);\r\n          padding: 0px var(--spacing-24px, 24px) 0px var(--spacing-24px, 24px);\r\n          display: flex;\r\n          flex-direction: row;\r\n          gap: var(--spacing-12px, 12px);\r\n          align-items: center;\r\n          justify-content: center;\r\n          flex-shrink: 0;\r\n          width: 304px;\r\n          height: 48px;\r\n          position: relative;\r\n          overflow: hidden;\r\n          \r\n        }\r\n        .omvc-buttons-text-links2 {\r\n       \r\n          display: none;\r\n        }\r\n        .submit-to-continue {\r\n          color: var(--components-button-primary-text, #ffffff);\r\n          text-align: center;\r\n          font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n          font-size: 16px;\r\n          line-height: 24px;\r\n          font-weight: 600;\r\n          position: relative;\r\n          display: flex;\r\n          align-items: flex-end;\r\n          justify-content: center;\r\n        }\r\n        .submit {\r\n          display: none;\r\n        }\r\n\r\n        .frame .link-text {\r\n          display: none;\r\n        }\r\n      }"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "nodeTitle": {
                "value": "Authentication Successful Message-08Sep2025"
              },
              "customScript": {
                "value": "\r\n  // ------------------ Config ------------------\r\n  // const dev = true; // set to false in production\r\n  // const moxieKey = \"PEE47-327B-3359-EAD0\"; // replace with your OLJS key\r\n const moxieKey =\"{{global.company.variables.moxieKeyMVC}}\";\r\n\r\n  // --- NEW: Unique IDs for our dynamic elements ---\r\n  const BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\n  const BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n  const MOXIE_SCRIPT_ID = 'moxie-translation-script';\r\n\r\n  // Track whether background is currently active\r\n  let backgroundVisible = false;\r\n\r\n  /**\r\n   * Creates and injects a dimmed, full-screen iframe background.\r\n   * Checks if elements already exist to avoid duplicates.\r\n   * @param {string} url - The URL for the background website.\r\n   */\r\n  function insertBackgroundSiteDimmed(url) {\r\n    if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n    // Create the dimming overlay\r\n    const overlay = document.createElement('div');\r\n    overlay.id = BACKGROUND_OVERLAY_ID;\r\n    overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n    // Create the iframe\r\n    const iframe = document.createElement('iframe');\r\n    iframe.id = BACKGROUND_IFRAME_ID;\r\n    iframe.src = url;\r\n    iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n    iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n    // Add them to the page\r\n    document.body.insertBefore(overlay, document.body.firstChild);\r\n    document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n    console.log(\"Dimmed background and iframe have been injected.\");\r\n  }\r\n\r\n\r\n  // --- 1. Main Logic to Control the Background ---\r\n  const manageBackgroundVisibility = () => {\r\n    const modal = document.getElementById('selectDeviceModal');\r\n\r\n    if (modal && !backgroundVisible) {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.BackgroundImageUrl}}\");\r\n      backgroundVisible = true;\r\n    } else if (!modal && backgroundVisible) {\r\n      removeBackgroundSiteDimmed();\r\n      backgroundVisible = false;\r\n    }\r\n  };\r\n\r\n  // --- 2. Watch for Page Changes in the SPA ---\r\n  const observer = new MutationObserver(manageBackgroundVisibility);\r\n  observer.observe(document.body, { childList: true, subtree: true });\r\n\r\n  // --- 3. Initial Setup ---\r\n  manageBackgroundVisibility();\r\n\r\n  // --- 4. Language Preference Helper ---\r\n  // function getLanguagePreference() {\r\n  //   const langCookie = document.cookie.split('; ')\r\n  //     .find(row => row.startsWith('langPref='));\r\n  //   return langCookie ? langCookie.split('=')[1] : 'en';\r\n  // }\r\n\r\n  // --- 5. Handle Moxie Script Injection ---\r\n  // function initLanguageOnLoad() {\r\n  \r\n  //     console.log(\"PRODUCTION MODE: Injecting Moxie translation script.\");\r\n  //     const moxieScript = document.createElement(\"script\");\r\n  //     moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n  //     moxieScript.type = \"text/javascript\";\r\n  //     moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n  //     document.head.appendChild(moxieScript);\r\n    \r\n  // }\r\n\r\n  // initLanguageOnLoad();\r\n\r\n  function applyMoxieTranslations() {\r\n\r\n    const existingScript = document.getElementById(MOXIE_SCRIPT_ID);\r\n\r\n    if (existingScript) existingScript.remove();\r\n \r\n    const moxieScript = document.createElement(\"script\");\r\n\r\n    moxieScript.id = MOXIE_SCRIPT_ID;\r\n\r\n    moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n\r\n    moxieScript.type = \"text/javascript\";\r\n\r\n    moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n\r\n    moxieScript.onerror = () => console.error(\"CRITICAL: Moxie script failed to load.\");\r\n\r\n    document.head.appendChild(moxieScript);\r\n\r\n}\r\n \r\napplyMoxieTranslations();\r\n"
              }
            },
            "idUnique": "z869diodd4",
            "isDisabled": true
          },
          "position": {
            "x": 3019.7999267578125,
            "y": 3204.999755859375
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "v73vid9vdt",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 816,
            "y": 433.5
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "q4wqzgrmlf",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "companyName",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Vistana\"\n      }\n    ]\n  }\n]",
                    "key": 0.8558926100565449,
                    "label": "companyName (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "companyLogo",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"https://upload.wikimedia.org/wikipedia/en/4/48/Blank.JPG\"\n      }\n    ]\n  }\n]",
                    "key": 0.39163997835833153,
                    "label": "companyLogo (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "rpid",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"auth.pingone.com\"\n      }\n    ]\n  }\n]",
                    "key": 0.10591689908436841,
                    "label": "rpid (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "origin",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"https://auth.pingone.com\"\n      }\n    ]\n  }\n]",
                    "key": 0.1334072925178882,
                    "label": "origin (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "domain",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"domain\",\n        \"data\": \"{{local.619yvb4dnp.payload.output.domain}}\",\n        \"tooltip\": \"{{local.619yvb4dnp.payload.output.domain}}\",\n        \"children\": [\n          {\n            \"text\": \"domain\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.12154563615777003,
                    "label": "domain (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "domain"
                  },
                  {
                    "name": "baseUrl",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"baseUrl\",\n        \"data\": \"{{local.619yvb4dnp.payload.output.baseUrl}}\",\n        \"tooltip\": \"{{local.619yvb4dnp.payload.output.baseUrl}}\",\n        \"children\": [\n          {\n            \"text\": \"baseUrl\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.8578859481908947,
                    "label": "baseUrl (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "baseUrl"
                  },
                  {
                    "name": "abbreviation",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"abbreviation\",\n        \"data\": \"{{local.619yvb4dnp.payload.output.abbreviation}}\",\n        \"tooltip\": \"{{local.619yvb4dnp.payload.output.abbreviation}}\",\n        \"children\": [\n          {\n            \"text\": \"abbreviation\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.34972997254112403,
                    "label": "abbreviation (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "abbreviation"
                  },
                  {
                    "name": "friendlyName",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"friendlyName\",\n        \"data\": \"{{local.619yvb4dnp.payload.output.friendlyName}}\",\n        \"tooltip\": \"{{local.619yvb4dnp.payload.output.friendlyName}}\",\n        \"children\": [\n          {\n            \"text\": \"friendlyName\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.32171048831671833,
                    "label": "friendlyName (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "friendlyName"
                  },
                  {
                    "name": "contactUsLink",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"contactUsLink\",\n        \"data\": \"{{local.619yvb4dnp.payload.output.contactUsLink}}\",\n        \"tooltip\": \"{{local.619yvb4dnp.payload.output.contactUsLink}}\",\n        \"children\": [\n          {\n            \"text\": \"contactUsLink\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.8198166970985717,
                    "label": "contactUsLink (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "contactUsLink"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set flow instance variables"
              },
              "nodeDescription": {}
            },
            "idUnique": "zyvcc0ssnv"
          },
          "position": {
            "x": 674,
            "y": 396
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "619yvb4dnp",
            "nodeType": "CONNECTION",
            "connectionId": "c1fb1305c68853e6894536e49ffbd0d1",
            "connectorId": "codeSnippetConnector",
            "name": "Name by Domain",
            "label": "Name by Domain",
            "status": "configured",
            "capabilityName": "snippet",
            "type": "trigger",
            "properties": {
              "functionArgumentList": {
                "value": {
                  "input": {
                    "type": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"origin\",\n        \"data\": \"{{global.origin}}\",\n        \"tooltip\": \"{{global.origin}}\",\n        \"children\": [\n          {\n            \"text\": \"origin\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                }
              }
            }
          },
          "position": {
            "x": 404,
            "y": 396
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "5ojhqamfqf",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 524,
            "y": 396
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "znp8h3xt42",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "createDeviceAuthentication",
            "type": "action",
            "properties": {
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"p1UserId\",\n        \"data\": \"{{global.parameters.p1UserId}}\",\n        \"tooltip\": \"{{global.parameters.p1UserId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1UserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rpId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"rpid\",\n        \"data\": \"{{global.variables.rpid}}\",\n        \"tooltip\": \"{{global.variables.rpid}}\",\n        \"children\": [\n          {\n            \"text\": \"rpid\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "fidoCompatibility": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"webAuthenSupport\",\n        \"data\": \"{{local.ek0byr7ikw.payload.output.webAuthenSupport}}\",\n        \"tooltip\": \"{{local.ek0byr7ikw.payload.output.webAuthenSupport}}\",\n        \"children\": [\n          {\n            \"text\": \"webAuthenSupport\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "authTemplateName": {},
              "customNotificationPolicyId": {
                "value": "{}"
              },
              "customTemplateVariant": {
                "value": "{}"
              },
              "customApplicationId": {
                "value": "{}"
              },
              "nodeTitle": {
                "value": "Create TEST Auth"
              },
              "selectedDevice": {
                "value": "oneTime"
              },
              "selectedDeviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"selectedDevice\",\n        \"data\": \"{{local.k45so0nmwp.payload.output.selectedDevice}}\",\n        \"tooltip\": \"{{local.k45so0nmwp.payload.output.selectedDevice}}\",\n        \"children\": [\n          {\n            \"text\": \"selectedDevice\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "templateVariables": {
                "value": [
                  {
                    "name": "codeValidityDuration",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"codeValidityDuration\",\n        \"data\": \"{{global.company.variables.codeValidityDuration}}\",\n        \"tooltip\": \"{{global.company.variables.codeValidityDuration}}\",\n        \"children\": [\n          {\n            \"text\": \"codeValidityDuration\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "oneTimeDeviceType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"EMAIL\"\n      }\n    ]\n  }\n]"
              },
              "oneTimeEmailDevice": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"saravanan.veerappan@intervalintl.com\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "oneTimeDeviceTestMode": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"perfTestMfaBypass\",\n        \"data\": \"{{global.company.variables.perfTestMfaBypass}}\",\n        \"tooltip\": \"{{global.company.variables.perfTestMfaBypass}}\",\n        \"children\": [\n          {\n            \"text\": \"perfTestMfaBypass\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "you346314f",
            "isDisabled": false
          },
          "position": {
            "x": 1500,
            "y": 1890
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "gxkp5esp7o",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"perfTestMfaBypass\",\n        \"data\": \"{{global.company.variables.perfTestMfaBypass}}\",\n        \"tooltip\": \"{{global.company.variables.perfTestMfaBypass}}\",\n        \"children\": [\n          {\n            \"text\": \"perfTestMfaBypass\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "boolean"
              },
              "nodeTitle": {
                "value": "Is Perftest enabled?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 1320,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xsbig8d6xz",
            "nodeType": "EVAL",
            "properties": {
              "undefined": {
                "value": "anyTriggersFalse"
              },
              "51dvh0pxyt": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1410,
            "y": 1740
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "elbg96xe1b",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"status\",\n        \"data\": \"{{local.znp8h3xt42.payload.output.rawResponse.status}}\",\n        \"tooltip\": \"{{local.znp8h3xt42.payload.output.rawResponse.status}}\",\n        \"children\": [\n          {\n            \"text\": \"status\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"0\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Authentication Prompt Performance Testing"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"ASSERTION_REQUIRED\"\n      }\n    ]\n  }\n]",
                    "id": "0cp41op2cj"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"OTP_REQUIRED\"\n      }\n    ]\n  }\n]",
                    "id": "fmf2dvwm72"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "idUnique": "aod0k3fhnl",
            "isDisabled": false
          },
          "position": {
            "x": 2520,
            "y": 1899
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "l5aa32vnrd",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "p1DeviceAuthenticationId",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.znp8h3xt42.payload.output.rawResponse.id}}\",\n        \"tooltip\": \"{{local.znp8h3xt42.payload.output.rawResponse.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.6571390496932172,
                    "type": "string",
                    "nameDefault": "id",
                    "label": "p1DeviceAuthenticationId (string - flowInstance)"
                  },
                  {
                    "name": "publicKeyCredentialRequestOptions",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"publicKeyCredentialRequestOptions\",\n        \"data\": \"{{local.51dvh0pxyt.payload.output.rawResponse.publicKeyCredentialRequestOptions}}\",\n        \"tooltip\": \"{{local.51dvh0pxyt.payload.output.rawResponse.publicKeyCredentialRequestOptions}}\",\n        \"children\": [\n          {\n            \"text\": \"publicKeyCredentialRequestOptions\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.7140552847447013,
                    "label": "publicKeyCredentialRequestOptions (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "publicKeyCredentialRequestOptions"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Authentication Variable-Performance testing"
              }
            },
            "isDisabled": false
          },
          "position": {
            "x": 1980,
            "y": 1899
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "zfvfsgz6z6",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"selectedDeviceType\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDeviceEmail\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDevicePhone\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDeviceContact\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDeviceName\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"selectedDeviceOtpEnabled\": {\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t}\n\t}\n}"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "devices",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"maskedUsableDevices\",\n        \"data\": \"{{global.variables.maskedUsableDevices}}\",\n        \"tooltip\": \"{{global.variables.maskedUsableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedUsableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "id",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.znp8h3xt42.payload.output.rawResponse.selectedDevice.id}}\",\n        \"tooltip\": \"{{local.znp8h3xt42.payload.output.rawResponse.selectedDevice.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "code": {
                "value": "module.exports = a = async ({ params }) => {\n\tlet id = params.id\n\n\tif (id) {\n\t\tvar selected = JSON.parse(params.devices).filter(device => {\n\t\t\treturn device.id == params.id;\n\t\t});\n\n\t\tif (selected && selected.length > 0 && selected[0].hasOwnProperty(\"nickname\")) {\n\t\t\tvar deviceName = selected[0].nickname;\n\t\t}\n\n\t\tif (selected[0].model) {\n\t\t\tdeviceName = selected[0].model.marketingName;\n\t\t}\n\n\t\tif (selected[0].displayName) {\n\t\t\tdeviceName = selected[0].displayName;\n\t\t}\n\n\t\treturn {\n\t\t\tselectedDeviceType: selected[0].type,\n\t\t\tselectedDeviceEmail: selected[0].email,\n\t\t\tselectedDevicePhone: selected[0].phone,\n\t\t\tselectedDeviceContact: selected[0].email || selected[0].phone,\n\t\t\tselectedDeviceName: deviceName,\n\t\t\tselectedDeviceOtpEnabled: selected[0].otpEnabled\n\t\t}\n\t}\n}"
              },
              "nodeTitle": {
                "value": "Enrich Device Details Performance Testing"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "idUnique": "jiabp261pz",
            "isDisabled": false
          },
          "position": {
            "x": 2250,
            "y": 1899
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ixkj97j0my",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "m5l2cif5p1"
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"selectedDeviceType\",\n        \"data\": \"{{local.zfvfsgz6z6.payload.output.selectedDeviceType}}\",\n        \"tooltip\": \"{{local.zfvfsgz6z6.payload.output.selectedDeviceType}}\",\n        \"children\": [\n          {\n            \"text\": \"selectedDeviceType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "maskedContact": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"selectedDeviceContact\",\n        \"data\": \"{{local.zfvfsgz6z6.payload.output.selectedDeviceContact}}\",\n        \"tooltip\": \"{{local.zfvfsgz6z6.payload.output.selectedDeviceContact}}\",\n        \"children\": [\n          {\n            \"text\": \"selectedDeviceContact\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.51dvh0pxyt.payload.output.rawResponse.selectedDevice.id}}\",\n        \"tooltip\": \"{{local.51dvh0pxyt.payload.output.rawResponse.selectedDevice.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to OTP Auth"
              }
            },
            "isDisabled": false
          },
          "position": {
            "x": 2820,
            "y": 2049
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "kgitkwg2hp",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 2670,
            "y": 1899
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ck7o2nvten",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "7qh7dk59mz"
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"FIDO2\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to Fido2 Auth"
              }
            },
            "isDisabled": false
          },
          "position": {
            "x": 2820,
            "y": 1899
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "g83fqgx0ui",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2100,
            "y": 1899
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "iexfycbjre",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2370,
            "y": 1899
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "cfgzexsfg7",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2670,
            "y": 2049
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "o9jpzcl5p1",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "OTP Auth"
              },
              "width": {
                "value": 180
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 2730,
            "y": 1959
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "vm4bb0a3r9",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1737.5,
            "y": 1894.5
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "837kuu7a9z",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"skipSuccessPage\",\n        \"data\": \"{{global.parameters.skipSuccessPage}}\",\n        \"tooltip\": \"{{global.parameters.skipSuccessPage}}\",\n        \"children\": [\n          {\n            \"text\": \"skipSuccessPage\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "caseSensitive": {
                "value": false
              },
              "type": {
                "value": "boolean"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "nodeTitle": {
                "value": "SkipSuccessPage??"
              },
              "nodeDescription": {
                "value": "Managed Account skip success page  "
              }
            }
          },
          "position": {
            "x": 2203.25,
            "y": 2980.051713246172
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fsbk41evw1",
            "nodeType": "EVAL",
            "properties": {
              "gdva263hgy": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2316.125,
            "y": 3021.0258646195675
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "aq6coeh86i",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.gdva263hgy.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.gdva263hgy.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"emailandphone\"\n      }\n    ]\n  }\n]"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "nodeTitle": {
                "value": "checkMangeAccountButtonValue"
              }
            }
          },
          "position": {
            "x": 2700.3424240629656,
            "y": 2796.0222181473573
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "m1qh7h9ve8",
            "nodeType": "EVAL",
            "properties": {
              "pqxheh6isj": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2712.671212031483,
            "y": 3003.0111090736787
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "pktluxeek2",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "manageAccountFlag",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.09513921091781652,
                    "label": "manageAccountFlag (string - flowInstance)",
                    "type": "string"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Manage Account Flag True"
              }
            }
          },
          "position": {
            "x": 2935.3435346422293,
            "y": 2886.0228991481645
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "lar67wo9gz",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2830.1717673211147,
            "y": 3048.0114495740822
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "qexw0ztjbv",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "idUnique": "rnzonyqrjo",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Handle Single Devices"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "code": {
                "value": "module.exports = a = async ({params}) => {\n    console.log('params: ', params)\n\n    try {\n        const devices = params.maskedUsableDevices\n\n        if (!Array.isArray(devices)) {\n            throw new Error('Invalid input: maskedUsableDevices must be an array')\n        }\n\n        if (devices.length !== 1) {\n            throw new Error('Multiple Devices Detected')\n        }\n\n        const device = devices[0]\n\n        if (!device.id || !device.type) {\n            throw new Error('Device is missing required fields: id and type')\n        }\n\n        let maskedContact\n\n        switch (device.type) {\n            case 'EMAIL':\n                maskedContact = device.email || null\n                break\n            case 'TOTP':\n                maskedContact = device.nickname || null\n                break\n            case 'SMS':\n            case 'VOICE':\n                maskedContact = device.phone || null // Adapt if structure includes phone\n                break\n            default:\n                maskedContact = null\n        }\n\n        return {\n            deviceId: device.id,\n            deviceType: device.type,\n            maskedContact\n        }\n\n    } catch (error) {\n        console.error('Error processing devices:', error)\n        throw error\n    }\n}\n"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "maskedUsableDevices",
                    "preferredDataType": "object",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{global.variables.maskedUsableDevices}}\",\n        \"name\": \"maskedUsableDevices\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "outputSchema": {
                "value": "{\n  \"output\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"deviceId\": {\n        \"type\": \"string\"\n      },\n      \"deviceType\": {\n        \"type\": \"string\"\n      },\n      \"maskedContact\": {\n        \"type\": \"string\"\n      }\n    }\n  }\n}\n"
              }
            }
          },
          "position": {
            "x": 835,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "cb1ks31yzi",
            "nodeType": "EVAL",
            "properties": {
              "k45so0nmwp": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 985,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "w1fl11earz",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\r\n    <title>Document</title>\r\n    \r\n  </head>\r\n  <body>\r\n \r\n    <div class=\"parent-Auth\" id=\"authSucessModal\">\r\n      <div class=\"standard-modal modal-secure-authentication-mobile\">\r\n        <div class=\"frame-57 top-row\">\r\n          <div class=\"authentication-successful\">Authentication Successful</div>\r\n          <div class=\"frame-53 frame-96\">\r\n            <div\r\n              class=\"you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future\"\r\n            >\r\n              You have successfully authenticated your account. Select <span class=\"mange-bold\"> Manage Account/Security Settings</span> if you wish to update your credentials.\r\n              For added security, we recommend setting up a secondary backup method such as an alternate email or phone number\r\n            </div>\r\n            <div class=\"frame-44525\">\r\n              <div class=\"frame-114\">\r\n                <div class=\"omvc-buttons-text-links\">\r\n                  <div class=\"submit\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"Continue\">Continue</div>\r\n                   <!--<div class=\"submit-to-continue\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"Continue\">Continue to Homepage</div> -->\r\n                </div>\r\n              </div>\r\n              <div class=\"omvc-buttons-text-links2\">\r\n                <div class=\"frame\">\r\n                  <a class=\"link-text\" href=\"#\"  data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"emailandphone\">Security Settings</a>\r\n                </div>\r\n               \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </body>\r\n</html>"
              },
              "customCSS": {
                "value": ".standard-modal,\r\n.standard-modal * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n.standard-modal {\r\n  background: var(--surface-primary, #ffffff);\r\n  border-radius: var(--corner-radii-10px, 10px);\r\n  padding: var(--spacing-48px, 48px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-24px, 24px);\r\n  align-items: flex-end;\r\n  justify-content: flex-start;\r\n  height: 272px;\r\n  min-width: 352px;\r\n  max-width: 760px;\r\n  position: relative;\r\n  box-shadow: var(--drop-shadows-standard-box-shadow,\r\n      0px 3px 5px 0px rgba(0, 0, 0, 0.3));\r\n  overflow: hidden;\r\n}\r\n\r\n.frame-57 {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  align-self: stretch;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.authentication-successful {\r\n  color: #000000;\r\n  text-align: left;\r\n  font-family: var(--headline-subhead-font-family,\r\n      \"Roboto-SemiBold\",\r\n      sans-serif);\r\n  font-size: var(--headline-subhead-font-size, 20px);\r\n  line-height: var(--headline-subhead-line-height, 30px);\r\n  font-weight: var(--headline-subhead-font-weight, 600);\r\n  position: relative;\r\n  align-self: stretch;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.frame-53 {\r\n  flex-shrink: 0;\r\n  width: 604px;\r\n  height: 128px;\r\n  position: relative;\r\n}\r\n/* .mange-bold{\r\n  font-weight: 700;\r\n} */\r\n\r\n.you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future {\r\n  color: #000000;\r\n  text-align: left;\r\n  font-family: var(--body-body-default-font-family,\r\n      \"Roboto-Regular\",\r\n      sans-serif);\r\n  font-size: var(--body-body-default-font-size, 16px);\r\n  line-height: var(--body-body-default-line-height, 24px);\r\n  font-weight: var(--body-body-default-font-weight, 400);\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  width: 604px;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.frame-44525 {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 24px;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 80px;\r\n}\r\n\r\n.frame-114 {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 32px;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.omvc-buttons-text-links {\r\n  background: var(--ink-black, #000000);\r\n  border-radius: var(--components-button-radius, 1000px);\r\n  padding: 0px var(--spacing-24px, 24px) 0px var(--spacing-24px, 24px);\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: var(--spacing-12px, 12px);\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  height: 48px;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n/* .submit {\r\n        color: var(--components-button-primary-text, #ffffff);\r\n        text-align: center;\r\n        font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n        font-size: 16px;\r\n        line-height: 24px;\r\n        font-weight: 600;\r\n        position: relative;\r\n        display: flex;\r\n        align-items: flex-end;\r\n        justify-content: center;\r\n      } */\r\n.submit {\r\n  border: none;\r\n  background: none;\r\n  color: var(--components-button-primary-text, #ffffff);\r\n  text-align: center;\r\n  font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  font-weight: 600;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: center;\r\n}\r\n\r\n.omvc-buttons-text-links2 {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 4px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.frame {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.link-text {\r\n  color: var(--ink-black, #000000);\r\n  text-align: left;\r\n  font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  font-weight: 600;\r\n  text-decoration: underline;\r\n  position: relative;\r\n  border:none;\r\n  background-color: white;\r\n}\r\n\r\n.parent-Auth {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100vh;\r\n  /* background: rgba(0, 0, 0, 0.85); */\r\n}\r\n\r\n.submit-to-continue {\r\n  display: none;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .standard-modal {\r\n    width: 90%;\r\n    /* Take most of screen width */\r\n    max-width: 400px;\r\n    /* Prevent it from getting too wide */\r\n    min-width: auto;\r\n    /* Override desktop min-width */\r\n    padding: 24px;\r\n    /* Smaller padding */\r\n    height: auto;\r\n    /* Adjust height automatically */\r\n    border-radius: 12px;\r\n  }\r\n\r\n  .frame-53 {\r\n    width: 100%;\r\n    /* Fill available space */\r\n    height: auto;\r\n    position: relative;\r\n  }\r\n\r\n  .you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future {\r\n    width: 100%;\r\n    /* Wrap text properly */\r\n    font-size: 14px;\r\n    /* Slightly smaller text */\r\n    line-height: 20px;\r\n    position: relative;\r\n    /* Remove absolute positioning */\r\n  }\r\n\r\n  .frame-44525 {\r\n    flex-direction: column;\r\n    /* Stack buttons vertically */\r\n    gap: 12px;\r\n    width: 100%;\r\n    position: relative;\r\n    top: auto;\r\n    left: auto;\r\n    margin-top: 16px;\r\n  }\r\n\r\n  .omvc-buttons-text-links {\r\n    width: 100%;\r\n    /* Full-width button */\r\n    height: 44px;\r\n  }\r\n\r\n  .omvc-buttons-text-links2 {\r\n    flex-direction: column;\r\n    /* Stack link + secondary button */\r\n    gap: 8px;\r\n    width: 100%;\r\n  }\r\n\r\n  .submit-to-continue {\r\n    color: var(--components-button-primary-text, #ffffff);\r\n    text-align: center;\r\n    font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    font-weight: 600;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    justify-content: center;\r\n  }\r\n\r\n  .submit {\r\n    display: none;\r\n  }\r\n\r\n  .frame .link-text {\r\n    /* font-size: 14px; */\r\n    display: none;\r\n  }\r\n\r\n  .authentication-successful {\r\n    font-size: 18px;\r\n    line-height: 26px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .standard-modal {\r\n    width: 95%;\r\n    padding: 16px;\r\n  }\r\n\r\n  .authentication-successful {\r\n    font-size: 16px;\r\n    line-height: 22px;\r\n  }\r\n\r\n  .omvc-buttons-text-links {\r\n    background: var(--ink-black, #000000);\r\n    border-radius: var(--components-button-radius, 1000px);\r\n    padding: 0px var(--spacing-24px, 24px) 0px var(--spacing-24px, 24px);\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: var(--spacing-12px, 12px);\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-shrink: 0;\r\n    width: 304px;\r\n    height: 48px;\r\n    position: relative;\r\n    overflow: hidden;\r\n\r\n  }\r\n\r\n  .omvc-buttons-text-links2 {\r\n\r\n    display: none;\r\n  }\r\n\r\n  .submit-to-continue {\r\n    color: var(--components-button-primary-text, #ffffff);\r\n    text-align: center;\r\n    font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    font-weight: 600;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    justify-content: center;\r\n    border: none;\r\n    background: none;\r\n  }\r\n\r\n  .submit {\r\n    display: none;\r\n  }\r\n\r\n  .frame .link-text {\r\n    display: none;\r\n  }\r\n}"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "nodeTitle": {
                "value": "copy-Nov 5-Authentication Successful Message-VP"
              },
              "customScript": {
                "value": "\r\n\r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n\r\n// function getMoxieKey(domain) {\r\n//   switch (domain) {\r\n//     case \"marriottvacationclub.com\":\r\n//       return \"{{global.company.variables.moxieKeyMVC}}\";\r\n//     case \"vacationclubap.com\":\r\n//       return \"{{global.company.variables.moxieKeyVCAP}}\";\r\n//     default:\r\n//       // console.warn(`Unknown domain '${domain}'. Falling back to MVC key.`);\r\n//       console.warn(`Unknown domain '${domain}'. Moxie key left empty.`);\r\n//       return \"\";\r\n\r\n//   }\r\n// }\r\nconst domain = \"{{global.variables.domain}}\";\r\nconsole.log(\"Domain  is:\", domain);\r\n// const MOXIE_SCRIPT_ID = 'moxie-translation-script';\r\n// const moxieKey = getMoxieKey(domain);\r\n// console.log(\"Moxie Key is:\", moxieKey);\r\n\r\n\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n  // Create the dimming overlay\r\n  const overlay = document.createElement('div');\r\n  overlay.id = BACKGROUND_OVERLAY_ID;\r\n  overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n  // Create the iframe\r\n  const iframe = document.createElement('iframe');\r\n  iframe.id = BACKGROUND_IFRAME_ID;\r\n  iframe.src = url;\r\n  iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n  // Add them to the page\r\n  document.body.insertBefore(overlay, document.body.firstChild);\r\n  document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n  console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n  const modal = document.getElementById('authSucessModal');\r\n\r\n  if (modal && !backgroundVisible) {\r\n\r\n    if (domain.includes(\"grandresidenceclub.com\")) {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\r\n      backgroundVisible = true;\r\n\r\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\r\n\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n    else {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n  } else if (!modal && backgroundVisible) {\r\n    // removeBackgroundSiteDimmed();\r\n    backgroundVisible = false;\r\n  }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n\r\n\r\n\r\n\r\n\r\n// function applyMoxieTranslations() {\r\n\r\n//   const existingScript = document.getElementById(MOXIE_SCRIPT_ID);\r\n\r\n//   if (existingScript) existingScript.remove();\r\n\r\n//   const moxieScript = document.createElement(\"script\");\r\n\r\n//   moxieScript.id = MOXIE_SCRIPT_ID;\r\n\r\n//   moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n\r\n//   moxieScript.type = \"text/javascript\";\r\n\r\n//   moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n\r\n//   moxieScript.onerror = () => console.error(\"CRITICAL: Moxie script failed to load.\");\r\n\r\n//   document.head.appendChild(moxieScript);\r\n\r\n// }\r\n\r\n// applyMoxieTranslations();\r\n"
              }
            },
            "idUnique": "5ocw08htth",
            "isDisabled": true
          },
          "position": {
            "x": 3624.833251953125,
            "y": 2921.833251953125
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "dwa27mevws",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"skipByCount\",\n        \"data\": \"{{global.variables.skipByCount}}\",\n        \"tooltip\": \"{{global.variables.skipByCount}}\",\n        \"children\": [\n          {\n            \"text\": \"skipByCount\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"4\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Mandatory Enrollment check"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "type": {
                "value": "number"
              }
            },
            "idUnique": "yrzjl3lidt",
            "isDisabled": true
          },
          "position": {
            "x": 1200,
            "y": 660
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "5amlnuzbht",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "messageTitle": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Secure Your Account Placeholder\"\n      }\n    ]\n  }\n]"
              },
              "message": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"We're implementing multi-factor authentication (MFA) to make your account safer and more secure. MFA adds an extra layer of protection, making it harder for unauthorized users to access your account. This helps keep your personal information safe. Multi-factor authentication helps to:\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"- Improve security\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"- Secure remote access\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"- Prevent unauthorized access\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"Securing your account will be optional until <MM/DD/YYYY>, at which time you will not be able to log in to your account until youve validated your email and phone number. We will send occasional reminders until your account information is validated.\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "showContinueButton": {
                "value": true
              },
              "nodeTitle": {
                "value": "Mandatory Enrollment"
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "customHTML": {
                "value": "<html lang=\"en\">\r\n\r\n<head>\r\n  <meta charset=\"UTF-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n  <title>Secure Your Account</title>\r\n  <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\r\n  <link rel=\"stylesheet\" href=\"secure-Account-Modal.css\">\r\n</head>\r\n\r\n<body>\r\n\r\n  <div id=\"selectDeviceModal\" class=\"modal\">\r\n    <div class=\"modal-content\">\r\n      <h1>Mandatory Enrollment</h1>\r\n      <p>\r\n      To log in we are requiring our users to register at least 1 method for two-factor authentication. You will not be allowed to skip after today.\r\n      </p>\r\n\r\n            <p>\r\n      You will no longer see this message once you authenticate your account by registering an email, phone number or authenticator app.\r\n      </p>\r\n\r\n      <div class=\"btn\">\r\n        <button id=\"secureAccountBtn\" type=\"button\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\r\n          data-skbuttonvalue=\"SECURE\" data-skform=\"frmCode\">\r\n         Register\r\n        </button>\r\n        <button id=\"skipBtn\" type=\"button\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\r\n          data-skbuttonvalue=\"SKIP\" data-skform=\"frmCode\">\r\n          Skip\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</body>\r\n\r\n</html>\r\n<script src=\"secure-Account-Modal.js\"></script>"
              },
              "customScript": {
                "value": "\r\n\r\nconst modal = document.getElementById(\"selectDeviceModal\");\r\nconst secureAccountBtn = document.getElementById(\"secureAccountBtn\");\r\nconst skipBtn = document.getElementById(\"skipBtn\");\r\n//const remainingCountDisplay = document.getElementById(\"remainingSkipCount\"); // Element to show remaining count\r\nconst domain = \"{{global.variables.domain}}\";\r\nconsole.log(\"domain  is:\", domain);\r\n\r\n// function getMoxieKey(domain) {\r\n//   switch (domain) {\r\n//     case \"marriottvacationclub.com\":\r\n//       return \"{{global.company.variables.moxieKeyMVC}}\";\r\n//     case \"vacationclubap.com\":\r\n//       return \"{{global.company.variables.moxieKeyVCAP}}\";\r\n//     default:\r\n//       // console.warn(`Unknown domain '${domain}'. Falling back to MVC key.`);\r\n//       console.warn(`Unknown domain '${domain}'. Moxie key left empty.`);\r\n//       return \"\";\r\n\r\n//   }\r\n// }\r\n// const MOXIE_SCRIPT_ID = 'moxie-translation-script';\r\n// const moxieKey = getMoxieKey(domain);\r\n// console.log(\"Moxie Key is:\", moxieKey);\r\n\r\n\r\n\r\n//const expiryDate = \"{{global.company.variables.skipPeriodEndDate}}\";\r\nlet skipByCount = \"{{global.variables.skipByCount}}\";\r\nlet maxSkipCount = \"{{global.company.variables.maxSkipCount}}\";\r\n\r\n// Show or hide the skip button based on expiry date\r\nfunction showSkipButton(skipByCount, maxSkipCount) {\r\n  console.log(\"Skip By count \", skipByCount);\r\n  console.log(\"Max Skip count \", maxSkipCount);\r\n\r\n  const skipButton = document.getElementById(\"skipBtn\");\r\n  if (!skipButton) return; // Exit if button not found\r\n\r\n  // const expiry = new Date(expiryDate);\r\n  // const now = new Date();\r\n\r\n  if (skipByCount >= maxSkipCount) {\r\n    skipButton.style.display = \"none\"; // Hide\r\n  } else {\r\n\r\n    skipButton.style.display = \"inline-block\"; // Show\r\n  }\r\n}\r\n\r\nfunction handleButtonClick(event) {\r\n  const buttonType = event.target.getAttribute(\"data-skbuttonvalue\");\r\n  console.log(\"Button clicked:\", buttonType);\r\n  // Only handle skip logic if skip button is clicked\r\n  if (buttonType === \"SKIP\") {\r\n    skipByCount = skipByCount + 1; // Increase skip count\r\n   \r\n\r\n\r\n    // Re-evaluate skip button visibility\r\n    showSkipButton(skipByCount, maxSkipCount);\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n// Initial call to show/hide button\r\nshowSkipButton(skipByCount, maxSkipCount);\r\n\r\n// Attach click handlers\r\nif (secureAccountBtn) secureAccountBtn.addEventListener(\"click\", handleButtonClick);\r\nif (skipBtn) skipBtn.addEventListener(\"click\", handleButtonClick);\r\n\r\n\r\n\r\n\r\n\r\n\r\n// ------------------ Config ------------------\r\n\r\n\r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n  // Create the dimming overlay\r\n  const overlay = document.createElement('div');\r\n  overlay.id = BACKGROUND_OVERLAY_ID;\r\n  overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n  // Create the iframe\r\n  const iframe = document.createElement('iframe');\r\n  iframe.id = BACKGROUND_IFRAME_ID;\r\n  iframe.src = url;\r\n  iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n  // Add them to the page\r\n  document.body.insertBefore(overlay, document.body.firstChild);\r\n  document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n  console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\n\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n  const modal = document.getElementById('selectDeviceModal');\r\n\r\n  if (modal && !backgroundVisible) {\r\n\r\n    if (domain.includes(\"grandresidenceclub.com\")) {\r\n\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\r\n      backgroundVisible = true;\r\n\r\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n    else {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n  }\r\n  // else if (!modal && backgroundVisible) {\r\n  //   removeBackgroundSiteDimmed();\r\n  //   backgroundVisible = false;\r\n  // }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// --- 5. Handle Moxie Script Injection ---\r\n// function initLanguageOnLoad() {\r\n\r\n//   console.log(\"PRODUCTION MODE: Injecting Moxie translation script.\");\r\n//   const moxieScript = document.createElement(\"script\");\r\n//   moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n//   moxieScript.type = \"text/javascript\";\r\n//   moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n//   document.head.appendChild(moxieScript);\r\n// }\r\n\r\n// initLanguageOnLoad();"
              },
              "customCSS": {
                "value": "* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  font-family: Roboto;\r\n}\r\n\r\n.modal {\r\n  position: fixed;\r\n  z-index: 999;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  /* background-color: rgba(0, 0, 0, 0.85); */\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 20px;\r\n  /* opacity: 0.7; */\r\n}\r\n\r\n.modal::before {\r\n  content: \"\";\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  /* background: rgba(0, 0, 0, 85); */\r\n  z-index: -1;\r\n  /* opacity: 0.7; */\r\n}\r\n\r\n.modal-content {\r\n\r\n  background-color: white;\r\n  padding: 48px;\r\n  border-radius: 10px;\r\n  max-width: 600px;\r\n  min-width: 352px;\r\n  max-width: 760px;\r\n  width: 100%;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\r\n\r\n}\r\n\r\nh1 {\r\n  font-size: 24px;\r\n  margin-top: 0;\r\n}\r\n\r\np {\r\n  font-size: 16px;\r\n  line-height: 1.5;\r\n  margin: 16px 0;\r\n}\r\n\r\nul {\r\n  margin: 0 0 16px 20px;\r\n  padding: 5px;\r\n}\r\n\r\nli {\r\n  margin-bottom: 8px;\r\n  font-size: 16px;\r\n  padding: 2px;\r\n}\r\n\r\n.btn {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n  margin-top: 24px;\r\n}\r\n\r\nbutton {\r\n  font-size: 16px;\r\n  padding: 12px 24px;\r\n  border-radius: 25px;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: 0.2s ease-in-out;\r\n}\r\n\r\n#secureAccountBtn {\r\n  background-color: #000;\r\n  /* color: #fff; */\r\n  color: white;\r\n  font-size: 16px;\r\n  font-family: Roboto;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n  word-wrap: break-word\r\n}\r\n\r\n#secureAccountBtn:hover {\r\n  opacity: 0.9;\r\n}\r\n\r\n#skipBtn {\r\n  background-color: #fff;\r\n  /* color: #000;\r\n        font-weight: bold; */\r\n  border: 2px solid black;\r\n  color: black;\r\n  font-size: 16px;\r\n  font-family: Roboto;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n  word-wrap: break-word\r\n}\r\n\r\n#skipBtn:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .modal-content {\r\n    padding: 20px;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 20px;\r\n  }\r\n\r\n  p,\r\n  li {\r\n    font-size: 15px;\r\n  }\r\n\r\n  .btn {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n\r\n  button {\r\n    width: 100%;\r\n  }\r\n}"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              }
            },
            "idUnique": "mddrdr0jlo"
          },
          "position": {
            "x": 1380,
            "y": 990
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ehyu77qniz",
            "nodeType": "EVAL",
            "properties": {
              "undefined": {
                "value": "anyTriggersFalse"
              },
              "8uwwq05c63": {
                "value": "allTriggersTrue"
              },
              "5amlnuzbht": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 960,
            "y": 1110
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "923b3qg1lp",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1500,
            "y": 990
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ome24neddt",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "successMessage",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]",
                    "key": 0.9104493086594035,
                    "label": "successMessage (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "errorMessage",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"false\"\n      }\n    ]\n  }\n]",
                    "key": 0.7595238519843068,
                    "label": "errorMessage (string - flowInstance)",
                    "type": "string"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Resend Message"
              }
            }
          },
          "position": {
            "x": 2490,
            "y": 3570
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "3sbqj08n0t",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2621,
            "y": 3570
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "n1ffes6qbk",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "variableInputList": {
                "value": [
                  {
                    "name": "inputA",
                    "preferredDataType": "number",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{global.company.variables.maxSkipCount}}\",\n        \"name\": \"maxSkipCount\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "inputB",
                    "preferredDataType": "number",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{global.variables.skipByCount}}\",\n        \"name\": \"skipByCount\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "code": {
                "value": "module.exports = a = async ({params}) => {\n    console.log('params: ', params)\n\n    const { inputA, inputB } = params\n\n    // Validate inputs\n    if (typeof inputA !== 'number' || typeof inputB !== 'number') {\n        throw new Error('Both inputA and inputB must be numbers.')\n    }\n\n    // Perform subtraction\n    const difference = inputA - inputB\n\n    // Check for disallowed result\n    if (difference === 1) {\n        throw new Error('The difference between inputA and inputB cannot be 1.')\n    }\n\n    // Return result\n    return { difference }\n}\n"
              },
              "outputSchema": {
                "value": "{\n  \"output\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"difference\": {\n        \"type\": \"number\"\n      }\n    }\n  }\n}\n"
              },
              "nodeTitle": {
                "value": "Remaining Skips > 1?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "idUnique": "nn3q5mrtws",
            "isDisabled": false
          },
          "position": {
            "x": 840,
            "y": 1110
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "lm6lryj0y1",
            "nodeType": "EVAL",
            "properties": {
              "8uwwq05c63": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1230,
            "y": 1110
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "iiw5ugp34l",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.k45so0nmwp.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.k45so0nmwp.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"submit\"\n      }\n    ]\n  }\n]",
                    "id": "dg3qirqafb"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"cancel\"\n      }\n    ]\n  }\n]",
                    "id": "eoz52zksfq"
                  }
                ]
              },
              "caseSensitive": {
                "value": false
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Cancel\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 810,
            "y": 1800
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "yz6dpdq0pm",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "lspronew5j": {
                "value": "anyTriggersFalse"
              },
              "gxkp5esp7o": {
                "value": "anyTriggersFalse"
              },
              "75x2kban23": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1020,
            "y": 1830
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "umyka0onl2",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "etn576tjxn"
              }
            }
          },
          "position": {
            "x": 1140,
            "y": 1830
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "61x0z1fhbz",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 1559.5,
            "y": 3207.5
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "93rbae42qx",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "etn576tjxn"
              }
            }
          },
          "position": {
            "x": 1713,
            "y": 3207.5
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "acfgvblgso",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "errorMessage",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]",
                    "key": 0.4102349539119414,
                    "label": "errorMessage (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "successMessage",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"false\"\n      }\n    ]\n  }\n]",
                    "key": 0.505478106658801,
                    "label": "successMessage (string - flowInstance)",
                    "type": "string"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Error Message"
              }
            }
          },
          "position": {
            "x": 1620,
            "y": 2280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "sq3vyolfcm",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 2005.5,
            "y": 2279.861114501953
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hzeham7oy2",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "m5l2cif5p1"
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"type\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.type}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.type}}\",\n        \"children\": [\n          {\n            \"text\": \"type\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "maskedContact": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"maskedContact\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.maskedContact}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.maskedContact}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedContact\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceId\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.deviceId}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "resendMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"One-time passcode resent.\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Go to OTP Auth"
              }
            },
            "idUnique": "b7ti9w9k0b"
          },
          "position": {
            "x": 2160,
            "y": 2280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "tkzm6jvdcb",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHtmlMessage",
            "type": "trigger",
            "properties": {
              "messageTitle": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Information\"\n      }\n    ]\n  }\n]"
              },
              "message": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"You have no valid MFA contact points. Please ensure your email address is in one of the following domains:\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"invalidEmailDomains\",\n        \"data\": \"{{global.company.variables.invalidEmailDomains}}\",\n        \"tooltip\": \"{{global.company.variables.invalidEmailDomains}}\",\n        \"children\": [\n          {\n            \"text\": \"invalidEmailDomains\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "showFooter": {
                "value": false
              },
              "messageIconHeight": {
                "value": -1
              },
              "nodeTitle": {
                "value": "Invalid Email Domain"
              },
              "backgroundColor": {
                "value": "#f8e71cff"
              }
            },
            "idUnique": "i36g19f8fw",
            "isDisabled": true
          },
          "position": {
            "x": 2880,
            "y": 690
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "90ysw07vni",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Single Device Lockout </title>\r\n    <!-- <link rel=\"stylesheet\" href=\"accountNotFound.css\"> -->\r\n</head>\r\n\r\n<body>\r\n    <div class=\"overlay\">\r\n        <div id=\"accoundNotFoundModal\" class=\"standard-modal\">\r\n            <div class=\"text-group\">\r\n                <div class=\"main-title\">\r\n                    Your twofactor authentication method is locked due to multiple incorrect attempts. Please try again after 5 minutes.\r\n                 </div>\r\n               \r\n            </div>\r\n            \r\n        </div>\r\n\r\n    </div>\r\n</body>\r\n\r\n</html>\r\n\r\n"
              },
              "nodeTitle": {
                "value": "Single Device Lockout"
              },
              "nodeDescription": {
                "value": ""
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "customCSS": {
                "value": "\r\n    .overlay,\r\n    .overlay * {\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .overlay {\r\n        /* background: rgba(0, 0, 0, 0.85); */\r\n        height: 1096px;\r\n        position: relative;\r\n        padding-left: 340px;\r\n        padding-top: 291px;\r\n        padding-bottom: 619px;\r\n        padding-right: 340px;\r\n    }\r\n\r\n    .standard-modal,\r\n    .standard-modal * {\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .standard-modal {\r\n        background: var(--surface-primary, #ffffff);\r\n        border-radius: var(--corner-radii-10px, 10px);\r\n        padding: var(--spacing-48px, 48px);\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: var(--spacing-24px, 24px);\r\n        align-items: flex-end;\r\n        justify-content: flex-start;\r\n        min-width: 352px;\r\n        max-width: 760px;\r\n        position: relative;\r\n        box-shadow: var(--drop-shadows-standard-box-shadow,\r\n                0px 3px 5px 0px rgba(0, 0, 0, 0.3));\r\n        overflow: hidden;\r\n    }\r\n\r\n    .text-group {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: var(--spacing-12px, 12px);\r\n        align-items: flex-start;\r\n        justify-content: flex-start;\r\n        align-self: stretch;\r\n        flex-shrink: 0;\r\n        position: relative;\r\n    }\r\n\r\n    .main-title {\r\n        color: var(--black, #000000);\r\n        text-align: left;\r\n        font-family: var(--headline-subhead-font-family,\r\n                \"Roboto-SemiBold\",\r\n                sans-serif);\r\n        font-size: var(--headline-subhead-font-size, 20px);\r\n        line-height: var(--headline-subhead-line-height, 30px);\r\n        font-weight: var(--headline-subhead-font-weight, 600);\r\n        position: relative;\r\n        align-self: stretch;\r\n        display: flex;\r\n        align-items: flex-end;\r\n        justify-content: flex-start;\r\n    }\r\n\r\n    .subtitle-body {\r\n        color: #000000;\r\n        text-align: left;\r\n        font-family: var(--body-body-default-font-family, \"-\", sans-serif);\r\n        font-size: var(--body-body-default-font-size, 16px);\r\n        line-height: var(--body-body-default-line-height, 24px);\r\n        font-weight: var(--body-body-default-font-weight, 400);\r\n        position: relative;\r\n        align-self: stretch;\r\n        display: flex;\r\n        align-items: flex-end;\r\n        justify-content: flex-start;\r\n    }\r\n\r\n    .subtitle-span {\r\n        font-family: var(--body-body-default-font-family,\r\n                \"Roboto-Regular\",\r\n                sans-serif);\r\n    }\r\n\r\n    .subtitle-span2 {\r\n        font-family: var(--body-body-default-font-family, \"Roboto-Bold\", sans-serif);\r\n        font-weight: var(--body-body-default-font-weight, 700);\r\n        text-decoration: underline;\r\n    }\r\n\r\n    .close-btn .modal-crossBtn {\r\n        color: var(--text-light-body, #082940);\r\n        text-align: center;\r\n        font-family: \"FontAwesome6Pro-Solid\", sans-serif;\r\n        font-size: 24px;\r\n        font-weight: 400;\r\n        position: absolute;\r\n        right: 24px;\r\n        top: 24px;\r\n        width: 24px;\r\n        display: flex;\r\n        align-items: flex-end;\r\n        justify-content: center;\r\n        background: none;\r\n        border: none;\r\n    }\r\n\r\n    .modal-crossBtn {\r\n        top: 24px;\r\n        right: 24px;\r\n        font-family: \"Font Awesome 6 Pro\";\r\n        font-size: 24px;\r\n        font-weight: 900;\r\n    }\r\n\r\n    .modal-crossBtn img {\r\n        width: 24px;\r\n        height: 24px;\r\n        display: block;\r\n    }\r\n/* Tablet View (max-width: 1024px) */\r\n@media (max-width: 1024px) {\r\n    .overlay {\r\n        padding-left: 40px;\r\n        padding-right: 40px;\r\n        padding-top: 100px;\r\n        padding-bottom: 100px;\r\n        height: auto; /* override fixed height */\r\n    }\r\n\r\n    .standard-modal {\r\n        width: 100%;\r\n        max-width: 680px;\r\n        padding: 32px;\r\n    }\r\n\r\n    .main-title {\r\n        font-size: 18px;\r\n        line-height: 28px;\r\n    }\r\n\r\n    .subtitle-body {\r\n        font-size: 15px;\r\n        line-height: 22px;\r\n    }\r\n}\r\n\r\n/* Mobile View (max-width: 600px) */\r\n@media (max-width: 600px) {\r\n    .overlay {\r\n        padding: 16px;\r\n        height: auto; /* override fixed height */\r\n    }\r\n\r\n    .standard-modal {\r\n        width: 100%;\r\n        /* max-width: none; */\r\n        padding: 24px;\r\n        border-radius: 8px;       \r\n        min-width: 250px;\r\n       \r\n    }\r\n\r\n    .main-title {\r\n        font-size: 16px;\r\n        line-height: 24px;\r\n    }\r\n\r\n    .subtitle-body {\r\n        font-size: 14px;\r\n        line-height: 20px;\r\n    }\r\n\r\n    .close-btn .modal-crossBtn {\r\n        top: 16px;\r\n        right: 16px;\r\n        font-size: 20px;\r\n        width: 20px;\r\n    }\r\n\r\n    .modal-crossBtn img {\r\n        width: 20px;\r\n        height: 20px;\r\n    }\r\n}\r\n\r\n"
              },
              "customScript": {
                "value": "\r\n// ------------------ Config ------------------\r\n\r\n\r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n\r\nfunction getMoxieKey(domain) {\r\n    switch (domain) {\r\n        case \"marriottvacationclub.com\":\r\n            return \"{{global.company.variables.moxieKeyMVC}}\";\r\n        case \"vacationclubap.com\":\r\n            return \"{{global.company.variables.moxieKeyVCAP}}\";\r\n        default:\r\n            // console.warn(`Unknown domain '${domain}'. Falling back to MVC key.`);\r\n            console.warn(`Unknown domain '${domain}'. Moxie key left empty.`);\r\n            return \"\";\r\n\r\n    }\r\n}\r\nconst domain = \"{{global.variables.domain}}\";\r\nconsole.log(\"Domain  is:\", domain);\r\nconst MOXIE_SCRIPT_ID = 'moxie-translation-script';\r\nconst moxieKey = getMoxieKey(domain);\r\nconsole.log(\"Moxie Key is:\", moxieKey);\r\n\r\n\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n    if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n    // Create the dimming overlay\r\n    const overlay = document.createElement('div');\r\n    overlay.id = BACKGROUND_OVERLAY_ID;\r\n    overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n    // Create the iframe\r\n    const iframe = document.createElement('iframe');\r\n    iframe.id = BACKGROUND_IFRAME_ID;\r\n    iframe.src = url;\r\n    iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n    iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n    // Add them to the page\r\n    document.body.insertBefore(overlay, document.body.firstChild);\r\n    document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n    console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n    const modal = document.getElementById('accoundNotFoundModal');\r\n\r\n    if (modal && !backgroundVisible) {\r\n\r\n\r\n        insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGuestConnect}}\");\r\n        backgroundVisible = true;\r\n\r\n    } else if (!modal && backgroundVisible) {\r\n        removeBackgroundSiteDimmed();\r\n        backgroundVisible = false;\r\n    }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n\r\nfunction applyMoxieTranslations() {\r\n\r\n    const existingScript = document.getElementById(MOXIE_SCRIPT_ID);\r\n    if (existingScript) existingScript.remove();\r\n    const moxieScript = document.createElement(\"script\");\r\n    moxieScript.id = MOXIE_SCRIPT_ID;\r\n    moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n    moxieScript.type = \"text/javascript\";\r\n    moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n    moxieScript.onerror = () => console.error(\"CRITICAL: Moxie script failed to load.\");\r\n    document.head.appendChild(moxieScript);\r\n}\r\n\r\napplyMoxieTranslations();\r\n\r\n\r\n\r\nfunction removeBackgroundSiteDimmed() {\r\n    const iframe = document.getElementById(BACKGROUND_IFRAME_ID);\r\n    const overlay = document.getElementById(BACKGROUND_OVERLAY_ID);\r\n\r\n    if (iframe) iframe.remove();\r\n    if (overlay) overlay.remove();\r\n\r\n    console.log(\"Dimmed background and iframe have been removed.\");\r\n}\r\n\r\n// On page unload\r\nwindow.addEventListener('beforeunload', () => {\r\n  removeBackgroundSiteDimmed();\r\n});"
              }
            },
            "idUnique": "ihgghnxqk8",
            "isDisabled": true
          },
          "position": {
            "x": 2970,
            "y": 750
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "60peytuaid",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Single Device Lockout Message Template "
              },
              "customHTML": {
                "value": "<html lang=\"en\">\r\n\r\n<head>\r\n  <meta charset=\"UTF-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n  <title>Secure Your Account</title>\r\n  <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\r\n \r\n</head>\r\n\r\n<body>\r\n\r\n  <div id=\"selectDeviceModal\" class=\"modal\">\r\n    <div class=\"modal-content\">\r\n      \r\n<div class=\"text-group\">\r\n                <div class=\"main-title\">\r\n                    Your twofactor authentication method is locked due to multiple incorrect attempts. Please try again after 5 minutes.\r\n                 </div>\r\n               \r\n            </div>\r\n<div class=\"close-btn\"> <button id=\"modalX\" class=\"modal-crossBtn\" data-skcomponent=\"skbutton\"\r\n                    data-skbuttontype=\"next-event\" data-skbuttonvalue=\"CANCEL\"> <img\r\n                        src=\"https://content.marriottvacationclub.com/icon/close-x.png\" alt=\"Close\"></button>\r\n            </div>\r\n      \r\n    </div>\r\n  </div>\r\n</body>\r\n\r\n</html>\r\n"
              },
              "customScript": {
                "value": "\r\n\r\nconst modal = document.getElementById(\"selectDeviceModal\");\r\nconst secureAccountBtn = document.getElementById(\"secureAccountBtn\");\r\nconst skipBtn = document.getElementById(\"skipBtn\");\r\n//const remainingCountDisplay = document.getElementById(\"remainingSkipCount\"); // Element to show remaining count\r\nconst domain = \"{{global.variables.domain}}\";\r\nconsole.log(\"domain  is:\", domain);\r\n\r\n// function getMoxieKey(domain) {\r\n//   switch (domain) {\r\n//     case \"marriottvacationclub.com\":\r\n//       return \"{{global.company.variables.moxieKeyMVC}}\";\r\n//     case \"vacationclubap.com\":\r\n//       return \"{{global.company.variables.moxieKeyVCAP}}\";\r\n//     default:\r\n//       // console.warn(`Unknown domain '${domain}'. Falling back to MVC key.`);\r\n//       console.warn(`Unknown domain '${domain}'. Moxie key left empty.`);\r\n//       return \"\";\r\n\r\n//   }\r\n// }\r\n// const MOXIE_SCRIPT_ID = 'moxie-translation-script';\r\n// const moxieKey = getMoxieKey(domain);\r\n// console.log(\"Moxie Key is:\", moxieKey);\r\n\r\n\r\n\r\n//const expiryDate = \"{{global.company.variables.skipPeriodEndDate}}\";\r\nlet skipByCount = \"{{global.variables.skipByCount}}\";\r\nlet maxSkipCount = \"{{global.company.variables.maxSkipCount}}\";\r\n\r\n// Show or hide the skip button based on expiry date\r\nfunction showSkipButton(skipByCount, maxSkipCount) {\r\n  console.log(\"Skip By count \", skipByCount);\r\n  console.log(\"Max Skip count \", maxSkipCount);\r\n\r\n  const skipButton = document.getElementById(\"skipBtn\");\r\n  if (!skipButton) return; // Exit if button not found\r\n\r\n  // const expiry = new Date(expiryDate);\r\n  // const now = new Date();\r\n\r\n  if (skipByCount >= maxSkipCount) {\r\n    skipButton.style.display = \"none\"; // Hide\r\n  } else {\r\n\r\n    skipButton.style.display = \"inline-block\"; // Show\r\n  }\r\n}\r\n\r\nfunction handleButtonClick(event) {\r\n  const buttonType = event.target.getAttribute(\"data-skbuttonvalue\");\r\n  console.log(\"Button clicked:\", buttonType);\r\n  // Only handle skip logic if skip button is clicked\r\n  if (buttonType === \"SKIP\") {\r\n    skipByCount = skipByCount + 1; // Increase skip count\r\n   \r\n\r\n\r\n    // Re-evaluate skip button visibility\r\n    showSkipButton(skipByCount, maxSkipCount);\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n// Initial call to show/hide button\r\nshowSkipButton(skipByCount, maxSkipCount);\r\n\r\n// Attach click handlers\r\nif (secureAccountBtn) secureAccountBtn.addEventListener(\"click\", handleButtonClick);\r\nif (skipBtn) skipBtn.addEventListener(\"click\", handleButtonClick);\r\n\r\n\r\n\r\n\r\n\r\n\r\n// ------------------ Config ------------------\r\n\r\n\r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n  // Create the dimming overlay\r\n  const overlay = document.createElement('div');\r\n  overlay.id = BACKGROUND_OVERLAY_ID;\r\n  overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n  // Create the iframe\r\n  const iframe = document.createElement('iframe');\r\n  iframe.id = BACKGROUND_IFRAME_ID;\r\n  iframe.src = url;\r\n  iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n  // Add them to the page\r\n  document.body.insertBefore(overlay, document.body.firstChild);\r\n  document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n  console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\n\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n  const modal = document.getElementById('selectDeviceModal');\r\n\r\n  if (modal && !backgroundVisible) {\r\n\r\n    if (domain.includes(\"grandresidenceclub.com\")) {\r\n\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\r\n      backgroundVisible = true;\r\n\r\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n    else {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n  }\r\n  // else if (!modal && backgroundVisible) {\r\n  //   removeBackgroundSiteDimmed();\r\n  //   backgroundVisible = false;\r\n  // }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// --- 5. Handle Moxie Script Injection ---\r\n// function initLanguageOnLoad() {\r\n\r\n//   console.log(\"PRODUCTION MODE: Injecting Moxie translation script.\");\r\n//   const moxieScript = document.createElement(\"script\");\r\n//   moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n//   moxieScript.type = \"text/javascript\";\r\n//   moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n//   document.head.appendChild(moxieScript);\r\n// }\r\n\r\n// initLanguageOnLoad();"
              },
              "customCSS": {
                "value": "* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  font-family: Roboto;\r\n}\r\n\r\n.modal {\r\n  position: fixed;\r\n  z-index: 999;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  /* background-color: rgba(0, 0, 0, 0.85); */\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 20px;\r\n  /* opacity: 0.7; */\r\n}\r\n\r\n.modal::before {\r\n  content: \"\";\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  /* background: rgba(0, 0, 0, 85); */\r\n  z-index: -1;\r\n  /* opacity: 0.7; */\r\n}\r\n\r\n.modal-content {\r\n\r\n  background-color: white;\r\n  padding: 48px;\r\n  border-radius: 10px;\r\n  max-width: 600px;\r\n  min-width: 352px;\r\n  max-width: 760px;\r\n  width: 100%;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\r\n\r\n}\r\n\r\nh1 {\r\n  font-size: 24px;\r\n  margin-top: 0;\r\n}\r\n\r\np {\r\n  font-size: 16px;\r\n  line-height: 1.5;\r\n  margin: 16px 0;\r\n}\r\n\r\nul {\r\n  margin: 0 0 16px 20px;\r\n  padding: 5px;\r\n}\r\n\r\nli {\r\n  margin-bottom: 8px;\r\n  font-size: 16px;\r\n  padding: 2px;\r\n}\r\n\r\n.btn {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n  margin-top: 24px;\r\n}\r\n\r\nbutton {\r\n  font-size: 16px;\r\n  padding: 12px 24px;\r\n  border-radius: 25px;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: 0.2s ease-in-out;\r\n}\r\n\r\n#secureAccountBtn {\r\n  background-color: #000;\r\n  /* color: #fff; */\r\n  color: white;\r\n  font-size: 16px;\r\n  font-family: Roboto;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n  word-wrap: break-word\r\n}\r\n\r\n#secureAccountBtn:hover {\r\n  opacity: 0.9;\r\n}\r\n\r\n#skipBtn {\r\n  background-color: #fff;\r\n  /* color: #000;\r\n        font-weight: bold; */\r\n  border: 2px solid black;\r\n  color: black;\r\n  font-size: 16px;\r\n  font-family: Roboto;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n  word-wrap: break-word\r\n}\r\n\r\n#skipBtn:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .modal-content {\r\n    padding: 20px;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 20px;\r\n  }\r\n\r\n  p,\r\n  li {\r\n    font-size: 15px;\r\n  }\r\n\r\n  .btn {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n\r\n  button {\r\n    width: 100%;\r\n  }\r\n}"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              }
            },
            "idUnique": "h1e7hpb26l",
            "isDisabled": false
          },
          "position": {
            "x": 2700,
            "y": 990
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "0il0c4vvmt",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "etn576tjxn"
              },
              "action": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"LOCKOUT\"\n      }\n    ]\n  }\n]"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Your twofactor authentication method is locked due to multiple incorrect attempts. Please try again after 5 minutes.\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2940,
            "y": 870
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "o79m5x9d3p",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \" The code you entered is incorrect. Please try again, or choose a different verification method to continue if available.\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "OTP Expired"
              }
            },
            "idUnique": "44c9opht64",
            "isDisabled": false
          },
          "position": {
            "x": 2400,
            "y": 3360
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ic0u7ulskf",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2160,
            "y": 3360
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "3xch16ynon",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "04Dec2025-Select Authentication Device"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"array\",\n\t\"properties\": {\n\t\t\"devices\": {\n\t\t\t\"type\": \"object\",\n\t\t\t\"properties\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"displayName\": \"id\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t},\n\t\t\t\t\"type\": {\n\t\t\t\t\t\"displayName\": \"type\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t},\n\t\t\t\t\"status\": {\n\t\t\t\t\t\"displayName\": \"status\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"title\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Title\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"title\"\n\t\t},\n\t\t\"text\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Text\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"text\"\n\t\t},\n\t\t\"EnrollButtonEnable\": {\n\t\t\t\"type\": \"boolean\",\n\t\t\t\"displayName\": \"Enroll Button Enable\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"enrollButtonEnable\"\n\t\t},\n\t\t\"enrollButtonLabel\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Enroll Button Label\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"enrollButtonLabel\"\n\t\t},\n\t\t\"isManagedAccountFlow\": {\n\t\t\t\"type\": \"boolean\",\n\t\t\t\"displayName\": \"X Button enabled\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"isManagedAccountFlow\"\n\t\t}\n\t}\n}"
              },
              "outputSchema": {
                "value": {}
              },
              "customHTML": {
                "value": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <meta name=\"description\" content=\"Secure your account using email, text, or voice authentication.\" />\n  <meta name=\"author\" content=\"Kanchan\" />\n  <meta name=\"created\" content=\"2025-08-05\" />\n  <meta name=\"created\" content=\"2025-08-06\" />\n  <title>Secure Your Account</title>\n  <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\n  <link rel=\"stylesheet\" href=\"select-device-Auth-flow.css\">\n\n</head>\n\n<body>\n  <!-- <div class=\"overlay\"></div> -->\n\n  <div id=\"selectDeviceModal\" class=\"container\">\n    {{#if isManagedAccountFlow}}\n     <div class=\"modal-close\">\n      \n                <button class=\"close-icon\" id=\"cancelBtn\" type=\"submit\" aria-label=\"\" data-skcomponent=\"skbutton\"\n                    data-skbuttontype=\"next-event\" data-skbuttonvalue=\"CANCEL\">\n                    <img width=\"20\" height=\"20\" src=\"https://content.marriottvacationclub.com/icon/close-x.png\"\n                        alt=\"close button to close modal\" />\n                </button>\n                  \n            </div>\n            {{/if}}\n    \n    <div class=\"modal\">\n      <div class=\"secure-your-account\">Choose Your Verification Method</div>\n      <!-- Dev translation message container -->\n      <!-- <div id=\"dev-translation-container\" style=\"margin-bottom: 12px;\">\n        <p id=\"dev-translation-msg\" style=\"font-weight: bold; color: green; margin: 0;\">\n          Translation text will be injected here by applyDevTranslation \n        </p>\n      </div> -->\n\n      <p class=\"secure-your-account-description\">\n        Youre registered in multiple verification method options. Please select the\n        one youd like to use below. Message and data rates may apply.\n      </p>\n\n<div id=\"error-message\" style=\"margin-top: 5px;\"></div>\n\n      <form id=\"authForm\">\n        <div id=\"output\"></div>\n        \n        \n\n        <div class=\"buttons\">\n          <button id=\"sendcode\" type=\"submit\" class=\"primary\" aria-label=\"click the button to Send code\"\n            data-skcomponent=\"skbutton\" data-skform=\"authForm\" data-skbuttontype=\"form-submit\"\n            data-skbuttonvalue=\"SendCode\">Send Code</button>\n       \n\n          <!-- NOTE- Removing Skip Button, As per confrimation Skip button is not needed for Enrolled User-->\n\n          <!-- <button id=\"skip\" type=\"submit\" class=\"link\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\n            data-skbuttonvalue=\"Skip\">Skip</button> -->\n\n\n        </div>\n      </form>\n    </div>\n  </div>\n\n\n</body>\n\n</html>\n<script src=\"select-device-Auth-flow.js\"></script>"
              },
              "customCSS": {
                "value": "\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n    height: 100%;\r\n    font-family: Arial, sans-serif;\r\n    background-color: skyblue;\r\n  }\r\n\r\n  .overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    /* background-color: rgba(0, 0, 0, 0.85); */\r\n    opacity: 0.7;\r\n    z-index: 1;\r\n  }\r\n\r\n  .container {\r\n    position: fixed;\r\n    inset: 0;\r\n    z-index: 2;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .container::before {\r\n    content: \"\";\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    /* background: rgba(0, 0, 0, 85); */\r\n    z-index: -1;\r\n    opacity: 0.7;\r\n  }\r\n\r\n\t\t\t/* ========== Close Icon ========== */\r\n.modal-close {\r\nposition: relative;\r\n    bottom: 120px;\r\n    left: 557px;\r\n  font-size: 24px;\r\n  font-family: \"FontAwesome6Pro-Solid\", sans-serif;\r\n  color: #000;\r\n  cursor: pointer;\r\n}\r\n.close-icon {\r\n  border: none;\r\n  background: none;\r\n}\r\n\r\n  .modal {\r\n    background: white;\r\n    border-radius: 1rem;\r\n    padding: 38px;\r\n    max-width: 500px;\r\n    width: 100%;\r\n    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);\r\n  }\r\n\r\n  .modal h2 {\r\n    margin-top: 0;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n\r\n  .modal p {\r\n    font-size: 0.95rem;\r\n    color: #333;\r\n    margin-top: 0;\r\n  }\r\n\r\n  .option {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 1rem;\r\n  }\r\n\r\n  /* .option input[type=\"radio\"] {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 0.75rem;\r\n    accent-color: black;\r\n    cursor: pointer;\r\n    border-radius: 50%;\r\n} */\r\n\r\n#selectDeviceModal .option input[type=\"radio\"] {\r\n  /* Resetting conflicting properties from the global style */\r\n  -webkit-appearance: revert !important;\r\n  -moz-appearance: revert !important;\r\n  appearance: revert !important;\r\n  position: revert !important;\r\n  background-color: revert !important;\r\n  color: revert !important;\r\n  top: revert !important;\r\n  border: revert !important;\r\n  outline: revert !important;\r\n\r\n  /* PING styles, now with !important to be safe */\r\n  width: 20px !important;\r\n  height: 20px !important;\r\n  margin-right: 0.75rem !important;\r\n  accent-color: black !important;\r\n  cursor: pointer !important;\r\n  border-radius: 50% !important;\r\n}\r\n\r\n  .option label {\r\n    cursor: pointer;\r\n    font-size: 0.95rem;\r\n  }\r\n\r\n  .buttons {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    margin-top: 2rem;\r\n    gap: 1rem;\r\n    flex-wrap: wrap;\r\n  }\r\n\r\nbutton.primary {\r\n  color: white;\r\n  font-size: 16px;\r\n  font-family: Roboto;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n  word-wrap: break-word;\r\n  display: flex;\r\n  height: 48px;\r\n  padding: 0 var(--spacing-24px, 24px);\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: var(--spacing-12px, 12px);\r\n  border-radius: var(--components-button-radius, 1000px);\r\n  background: var(--INK-Black, #000);\r\n}\r\n\r\n  button.primary:disabled {\r\n    background-color: #888;\r\n    cursor: not-allowed;\r\n  }\r\n\r\nbutton.link {\r\n  background: none;\r\n  border: none;\r\n  color: #000;\r\n  font-size: 0.95rem;\r\n  cursor: pointer;\r\n  text-decoration: underline;\r\n  padding: 0;\r\n  font-size: 16px;\r\n  font-family: Roboto;\r\n  font-weight: 600;\r\n}\r\n\r\n  @media screen and (max-width: 500px) {\r\n    .modal {\r\n      margin: 1rem;\r\n    }\r\n\r\n    .buttons {\r\n      flex-direction: column;\r\n      align-items: stretch;\r\n    }\r\n\r\n    button.primary,\r\n    button.link {\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  /* .radio-div {\r\n\r\n       width: 20px;\r\n      height: 20px;\r\n      margin-right: 0.75rem;\r\n      accent-color: black;\r\n      cursor: pointer;\r\n      border-radius: 50%;\r\n\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 10px 20px;\r\n      color: var(--Black, #000);\r\n      cursor: pointer;\r\n      font-size: 16px;\r\n      border-radius: 5px;\r\n      text-align: center;\r\n      transition: 0.3s;\r\n      position: relative;\r\n    }\r\n\r\n    .radio-div.active {\r\n      background: #007bff;\r\n      color: white;\r\n    }\r\n\r\n    .radio-div.active .radio-icon {\r\n      background: #007bff;\r\n    } */\r\n\r\n  .radio-container {\r\n    gap: 10px;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .secure-your-account {\r\n    align-self: stretch;\r\n    color: #000;\r\n\r\n    /* Headline/Subhead */\r\n    font-family: var(--text-font-subhead-font, Roboto);\r\n    font-size: var(--Font-Size-Subhead, 20px);\r\n    font-style: normal;\r\n    font-weight: 600;\r\n    line-height: var(--Font-Line-Height-Subhead, 30px);\r\n    /* 150% */\r\n  }\r\n\r\n  .secure-your-account-description {\r\n    align-self: stretch;\r\n    color: #000;\r\n\r\n    /* Body/Body (Default) */\r\n    font-family: var(--text-font-body-font, Roboto);\r\n    font-size: var(--Font-Size-Body-Default, 16px);\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: var(--Font-Line-Height-Body-Default, 24px);\r\n    /* 150% */\r\n  }\r\n.error-message{\r\n  display: none;\r\n}"
              },
              "customScript": {
                "value": "\r\n\r\n// =============================================================================================================new js====\r\n  // ------------------ Config ------------------\r\n  //const dev = true; // set to false in production\r\n  //const moxieKey = \"PEE47-327B-3359-EAD0\"; // replace with your OLJS key\r\n  \r\n//    const MOXIE_SCRIPT_ID = 'moxie-translation-script';\r\n//      function getMoxieKey(domain) {\r\n//     switch (domain) {\r\n//         case \"marriottvacationclub.com\":\r\n//             return \"{{global.company.variables.moxieKeyMVC}}\";\r\n//         case \"vacationclubap.com\":\r\n//             return \"{{global.company.variables.moxieKeyVCAP}}\";\r\n//         default:\r\n//             // console.warn(`Unknown domain '${domain}'. Falling back to MVC key.`);\r\n//             console.warn(`Unknown domain '${domain}'. Moxie key left empty.`);\r\n//             return \"\";\r\n          \r\n//     }\r\n// }\r\n const domain = \"{{global.variables.domain}}\";\r\n  console.log(\"Domain  is:\", domain); \r\n  // const moxieKey =getMoxieKey(domain);\r\n  // console.log('moxi key is ', moxieKey)\r\n\r\n  \r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n// ------------------ Device renderer ------------------\r\nfunction displayData(data, container) {\r\n  container.innerHTML = \"\"; // Clear existing content\r\n  const groupName = \"selectedDevice\";\r\n\r\n  for (const key in data) {\r\n    const item = data[key];\r\n    console.log (\"item json output: \" ,item)\r\n    const div = document.createElement(\"div\");\r\n    div.classList.add(\"option\");\r\n\r\n    const radio = document.createElement(\"input\");\r\n    radio.type = \"radio\";\r\n    radio.name = groupName;\r\n    radio.id = `mfa-${key}`;\r\n    //const unmasked = item.unmasked || \"\";\r\n    if (item.type === \"TOTP\") {\r\n      radio.value = `${item.id}`;\r\n    }\r\n   else if (item.type === \"EMAIL\") {\r\n      radio.value = `${item.id}`;\r\n    }\r\n    else {\r\n      radio.value = `${item.id}`;\r\n    }\r\n\r\n    radio.addEventListener(\"change\", () => {\r\n      document.getElementById(\"sendcode\").disabled = false;\r\n\r\n      //  Clear the error message when any radio is selected\r\n      const errorMessageDiv = document.getElementById(\"error-message\");\r\n      if (errorMessageDiv) {\r\n        errorMessageDiv.textContent = \"\";\r\n          errorMessageDiv.style.display=\"none\";\r\n      }\r\n    });\r\n\r\n    const label = document.createElement(\"label\");\r\n    label.htmlFor = radio.id;\r\n    label.className = \"transparent-btn\";\r\n    //label.textContent = item.type + \" \";\r\n     if (item.type === \"TOTP\") {\r\n      label.textContent += \"TOTP \" + item.nickname;\r\n    }\r\n    else if (item.type === \"EMAIL\") {\r\n      label.textContent += \"Email \" + item.email;\r\n    } else if (item.type === \"SMS\") {\r\n      label.textContent += \"Text \" + item.phone;\r\n    } else {\r\n      label.textContent += \"Call \" + item.phone;\r\n    }\r\n\r\n    div.appendChild(radio)\r\n    div.appendChild(label);\r\n    container.appendChild(div);\r\n  }\r\n\r\n}\r\n\r\n// ------------------ Example data ------------------\r\nconst jsonData = {{ global.variables.maskedUsableDevices }};\r\n\r\n\r\n\r\n// ------------------ Direct execution (no DOMContentLoaded) ------------------\r\n//document.getElementById(\"sendcode\").disabled = true;\r\n\r\nconst outputDiv = document.getElementById(\"output\");\r\noutputDiv.classList.add(\"radio-container\");\r\n\r\ndisplayData(jsonData, outputDiv);\r\n\r\n\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n  // Create the dimming overlay\r\n  const overlay = document.createElement('div');\r\n  overlay.id = BACKGROUND_OVERLAY_ID;\r\n  overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n  // Create the iframe\r\n  const iframe = document.createElement('iframe');\r\n  iframe.id = BACKGROUND_IFRAME_ID;\r\n  iframe.src = url;\r\n  iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n  // Add them to the page\r\n  document.body.insertBefore(overlay, document.body.firstChild);\r\n  document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n  console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n  const modal = document.getElementById('selectDeviceModal');\r\n\r\n  if (modal && !backgroundVisible) {\r\n\r\n    if (domain.includes(\"grandresidenceclub.com\")) {\r\n      if(\"{{global.parameters.isManagedAccountFlow}}\")\r\n      {\r\n        insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageManageAccount}}\");\r\n      }\r\n      else \r\n      {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\r\n      }\r\n      backgroundVisible = true;\r\n\r\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\r\n      if(\"{{global.parameters.isManagedAccountFlow}}\")\r\n      {\r\n        insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageManageAccount}}\");\r\n      }\r\n      else \r\n      {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\r\n      }\r\n      \r\n      backgroundVisible = true;\r\n    }\r\n    else {\r\n      if(\"{{global.parameters.isManagedAccountFlow}}\")\r\n      {\r\n        insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageManageAccount}}\");\r\n      }\r\n      else \r\n      {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\r\n      }\r\n      \r\n      \r\n      backgroundVisible = true;\r\n    }\r\n  }\r\n  // else if (!modal && backgroundVisible) {\r\n  //   removeBackgroundSiteDimmed();\r\n  //   backgroundVisible = false;\r\n  // }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n// --- 4. Language Preference Helper ---\r\nfunction getLanguagePreference() {\r\n  const langCookie = document.cookie.split('; ')\r\n    .find(row => row.startsWith('langPref='));\r\n  return langCookie ? langCookie.split('=')[1] : 'en';\r\n}\r\n\r\n// // --- 5. Handle Moxie Script Injection ---\r\n// function initLanguageOnLoad() {\r\n//   if (!dev) {\r\n//     console.log(\"PRODUCTION MODE: Injecting Moxie translation script.\");\r\n//     const moxieScript = document.createElement(\"script\");\r\n//     moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n//     moxieScript.type = \"text/javascript\";\r\n//     moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n//     document.head.appendChild(moxieScript);\r\n//   } else {\r\n//     console.log('Language pref is: ', getLanguagePreference());\r\n//   }\r\n// }\r\n\r\n//  initLanguageOnLoad();\r\n\r\n\r\n// console.log(\"Moxie Key is:\", moxieKey);\r\n\r\n\r\n// function applyMoxieTranslations() {\r\n//   const existingScript = document.getElementById(MOXIE_SCRIPT_ID);\r\n//   if (existingScript) existingScript.remove();\r\n\r\n//   const moxieScript = document.createElement(\"script\");\r\n//   moxieScript.id = MOXIE_SCRIPT_ID;\r\n//   moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n//   moxieScript.type = \"text/javascript\";\r\n//   moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n//   moxieScript.onerror = () => console.error(\"CRITICAL: Moxie script failed to load.\");\r\n//   document.head.appendChild(moxieScript);\r\n// }\r\n// applyMoxieTranslations();\r\n\r\n\r\n//Handle SendCodeClick when Radio button not selected\r\nfunction handleSendCodeClick(event) {\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n  const errorMessageDiv = document.getElementById(\"error-message\");\r\n\r\n  if (!selected) {\r\n\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    errorMessageDiv.textContent = \"Please select a method.\";\r\n    console.log(\"select radio\")\r\n    errorMessageDiv.style.color = \"#eb0000\";\r\n    errorMessageDiv.style.fontFamily = \"Roboto-Regular, sans-serif\";\r\n    errorMessageDiv.style.textAlign = \"left\";\r\n\r\n    errorMessageDiv.style.fontSize = \"12px\";\r\n    errorMessageDiv.style.lineHeight = \"20px\";\r\n    errorMessageDiv.style.fontWeight = \"400\";\r\n    errorMessageDiv.style.background=\"#f6ecec\";\r\n    errorMessageDiv.style.borderRadius=\"5px\";\r\n    errorMessageDiv.style.marginBottom=\"10px\"\r\n    errorMessageDiv.style.border=\"1px solid red\";\r\n    errorMessageDiv.style.paddingLeft=\"5px\";\r\n    errorMessageDiv.style.display=\"block\";\r\n\r\n\r\n  } else {\r\n    errorMessageDiv.textContent = \"\";\r\n    errorMessageDiv.style.display=\"none\";\r\n    errorMessageDiv.style.border=\"none\";\r\n  }\r\n}\r\n\r\ndocument.getElementById(\"sendcode\").addEventListener(\"click\", handleSendCodeClick);"
              },
              "validationRules": {
                "value": []
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "propertyName": "selectedDevice",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  }
                ]
              },
              "devices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"maskedUsableDevices\",\n        \"data\": \"{{global.variables.maskedUsableDevices}}\",\n        \"tooltip\": \"{{global.variables.maskedUsableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedUsableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "title": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Select Method\"\n      }\n    ]\n  }\n]"
              },
              "text": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Select an MFA method to use to sign on to your account.\"\n      }\n    ]\n  }\n]"
              },
              "enrollButtonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Add additional Device?\"\n      }\n    ]\n  }\n]"
              },
              "isManagedAccountFlow": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"isManagedAccountFlow\",\n        \"data\": \"{{global.parameters.isManagedAccountFlow}}\",\n        \"tooltip\": \"{{global.parameters.isManagedAccountFlow}}\",\n        \"children\": [\n          {\n            \"text\": \"isManagedAccountFlow\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "a7damj80mr",
            "isDisabled": true
          },
          "position": {
            "x": 570,
            "y": 1980
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "7x5rho4dms",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2820,
            "y": 990
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "75x2kban23",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "m9ykx7xo0s"
              },
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"p1UserId\",\n        \"data\": \"{{global.variables.p1UserId}}\",\n        \"tooltip\": \"{{global.variables.p1UserId}}\",\n        \"children\": [\n          {\n            \"text\": \"p1UserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{local.k45so0nmwp.payload.output.selectedDevice}}\",\n        \"name\": \"selectedDevice\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"deviceId\",\n        \"data\": \"{{local.k7zt31e8k3.payload.output.deviceId}}\",\n        \"tooltip\": \"{{local.k7zt31e8k3.payload.output.deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"deviceId\",\n        \"data\": \"{{local.qexw0ztjbv.payload.output.deviceId}}\",\n        \"tooltip\": \"{{local.qexw0ztjbv.payload.output.deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "leq70okpd2"
          },
          "position": {
            "x": 1080,
            "y": 1620
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hikd1i577v",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1170,
            "y": 1680
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "j4ijrk9409",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Incorrect code. Please try again, select Resend Code, or contact Owner Services.\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Invalid Passcode Error"
              },
              "errorDescription": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Incorrect code. Please try again, select Resend Code, or contact Owner Services.\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "z0hgib8ouz"
          },
          "position": {
            "x": 2760,
            "y": 3690
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "6j20qaj7dn",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Evaluate Error"
              },
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"code\",\n        \"data\": \"{{local.4y8r0le494.payload.error.code}}\",\n        \"tooltip\": \"{{local.4y8r0le494.payload.error.code}}\",\n        \"children\": [\n          {\n            \"text\": \"code\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"invalidOtp\"\n      }\n    ]\n  }\n]",
                    "id": "k8apl89lcp"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"tooManyOtpRetries\"\n      }\n    ]\n  }\n]",
                    "id": "94wnll28gc"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"otpSessionExpired\"\n      }\n    ]\n  }\n]",
                    "id": "9sv9cvy9i5"
                  }
                ]
              }
            }
          },
          "position": {
            "x": 2490,
            "y": 3720
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "dzgoa3fdtg",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"You've reached the maximum number of verification attempts. Please refresh your browser, or choose a different verification method to continue.\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Device Locked Error"
              }
            },
            "idUnique": "9bywjh2hqv"
          },
          "position": {
            "x": 2760,
            "y": 3780
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xyvuvfcn7c",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2610,
            "y": 3690
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "7552e8123r",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2610,
            "y": 3780
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "050talsbm4",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"An error has occurred. Please contact owner services for assistance.\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Catch All Error"
              }
            },
            "idUnique": "9hxq8jn41u"
          },
          "position": {
            "x": 2760,
            "y": 3960
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "mgxd60r35q",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2610,
            "y": 3960
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ztidznzfzo",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \" The code you entered is incorrect. Please try again, or choose a different verification method to continue if available.\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "OTP Expired"
              }
            },
            "idUnique": "44c9opht64",
            "isDisabled": false
          },
          "position": {
            "x": 2940,
            "y": 3870
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "uy5qcgluyt",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2700,
            "y": 3870
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xl71f6rzg0",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1800,
            "y": 3570
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "zj13hakp56",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"isManagedAccountFlow\",\n        \"data\": \"{{global.parameters.isManagedAccountFlow}}\",\n        \"tooltip\": \"{{global.parameters.isManagedAccountFlow}}\",\n        \"children\": [\n          {\n            \"text\": \"isManagedAccountFlow\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "caseSensitive": {
                "value": false
              },
              "nodeTitle": {
                "value": "is Managed Account Flow?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "idUnique": "l8w2rywcep"
          },
          "position": {
            "x": 2370,
            "y": 960
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xzid2xv45g",
            "nodeType": "EVAL",
            "properties": {
              "60peytuaid": {
                "value": "anyTriggersFalse"
              },
              "lbContext": {
                "value": "global"
              }
            }
          },
          "position": {
            "x": 2520,
            "y": 900
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "efzedsvhie",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "errorMessage",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"false\"\n      }\n    ]\n  }\n]",
                    "key": 0.4102349539119414,
                    "label": "errorMessage (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "successMessage",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"false\"\n      }\n    ]\n  }\n]",
                    "key": 0.505478106658801,
                    "label": "successMessage (string - flowInstance)",
                    "type": "string"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Reset Error Message"
              }
            },
            "idUnique": "b1dusez1py"
          },
          "position": {
            "x": 1710,
            "y": 2130
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "qcv7iy7ud0",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1875,
            "y": 2130
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "czjvnambvt",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<!-- v1.0 -->\r\n<!-- 2025-08-26 updated by Tony Kroukamp -->\r\n<!-- used input 'spinTime' to control delay for button click -->\r\n\r\n<div id=\"spinner-container\">\r\n  <div class=\"spinner\"></div>\r\n</div>\r\n\r\n<button\r\n  type=\"button\"\r\n  data-skcomponent=\"skbutton\"\r\n  id=\"nextEventBtn\"\r\n  class=\"hidden\"\r\n  data-skbuttontype=\"next-event\"\r\n  data-skbuttonvalue=\"proceed\"\r\n>\r\n  Next\r\n</button>\r\n"
              },
              "customCSS": {
                "value": "#spinner-container {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 9999;\r\n}\r\n\r\n.spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 4px solid #ccc;\r\n  border-top-color: #333;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n\r\n@keyframes spin {\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n"
              },
              "customScript": {
                "value": "// Parse the input value 'spinTime' and use it for delay\r\nconst spinDelay = parseInt(\"{{spinTime}}\", 10) || 15;\r\n\r\nsetTimeout(function () {\r\n  document.getElementById(\"nextEventBtn\").click();\r\n}, spinDelay);\r\n"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "nodeTitle": {
                "value": "Spinner"
              },
              "inputSchema": {
                "value": "{\r\n  \"type\": \"object\",\r\n  \"properties\": {\r\n    \"spinTime\": {\r\n      \"type\": \"integer\",\r\n      \"title\": \"Spinner Delay Time (ms)\",\r\n      \"description\": \"Time in milliseconds before the next-event button is triggered.\",\r\n      \"minimum\": 0,\r\n      \"default\": 15\r\n    }\r\n  },\r\n  \"required\": [\"spinTime\"]\r\n}\r\n"
              },
              "spinTime": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"500\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "r1vds7bu1",
            "isDisabled": false
          },
          "position": {
            "x": 1920,
            "y": 3570
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "bikvf3u6s2",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2040,
            "y": 3570
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8vwm8xwk3c",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "08Jan2026-Present OTP Form"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"type\": {\n\t\t\t\"displayName\": \"Device Type\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"maskedContact\": {\n\t\t\t\"displayName\": \"Masked Contact\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"canChangeDevice\": {\n\t\t\t\"displayName\": \"Can change Device\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"resendMessage\": {\n\t\t\t\"displayName\": \"Resend Message\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"errorMessage\": {\n\t\t\t\"displayName\": \"Error Message\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\t\t\n\t\t\"resendButtonLabel\": {\n\t\t\t\"displayName\": \"Resend Button Label\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"primaryButtonLabel\": {\n\t\t\t\"displayName\": \"Primary Button Label\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"isManagedAccountFlow\": {\n\t\t\t\"displayName\": \"Change password Cancel\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t}\n\t}\n}"
              },
              "outputSchema": {
                "value": {}
              },
              "customHTML": {
                "value": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Enter OTP</title>\n  <link rel=\"stylesheet\" href=\"./codeEntery_success.css\" />\n  <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\n  <!-- Auther: Swapnali Deshmukh -->\n  <!-- version:1.0.6 -->\n</head>\n\n<body>\n\n\n  <!-- Enter code page=============================================== -->\n  <div id=\"codeEntryModal\" class=\"main-container\">\n    <div class=\"modal\" id=\"entercodeModal\">\n      <h2>Enter Code</h2>\n      <p>{{local.znp8h3xt42.payload.output.rawResponse.test.otp}}</p>\n      {{#if isManagedAccountFlow}}\n      <div class=\"close-btn\" id=\"closeBtn\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\n        data-skbuttonvalue=\"CLOSE\" data-skform=\"frmCode\">\n        <img width=\"20\" height=\"20\" src=\"https://content.marriottvacationclub.com/icon/close-x.png\" alt=\"external-close-button-it-and-computer-inkubators-basic-outline-inkubators\"/>\n      </div>\n      {{/if}}\n\n      {{#if canChangeDevice}}\n      <div class=\"close-btn\" id=\"cancelBtn\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\n        data-skbuttonvalue=\"CANCEL\" data-skform=\"frmCode\">\n        <img width=\"20\" height=\"20\" src=\"https://content.marriottvacationclub.com/icon/close-x.png\" alt=\"external-close-button-it-and-computer-inkubators-basic-outline-inkubators\"/>\n      </div>\n      {{/if}}\n\n\n\n      <!-- <div id=\"dev-translation-container\" style=\"margin-bottom: 12px;\">\n        <p id=\"dev-translation-msg\" style=\"font-weight: bold; color: green; margin: 0;\">\n          Translation text will be injected here by applyDevTranslation\n        </p>\n      </div> -->\n      <div class=\"info-box\" id=\"dynamicMessage\">\n        Please enter the code {{#ifEquals type \"SMS\"}} sent to\n        <strong>\n {{maskedContact}}\n</strong> {{/ifEquals}} {{#ifEquals type\n        \"VOICE\"}} shared with <strong>\n {{maskedContact}}\n</strong> {{/ifEquals}}\n        {{#ifEquals type \"EMAIL\"}} sent to <strong>{{maskedContact}}</strong>. If you cannot access that email address,\n        please contact <a href=\"https://www.marriottvacationclubs.com/s/contact-us\" target=\"_blank\"\n          rel=\"noopener noreferrer\" style=\"color:black;\"><strong>Owner/Member Services</strong> </a> for assistance.\n        {{/ifEquals}} <br />\n        {{#ifEquals type \"TOTP\"}}\n        <!-- exclude expiry -->\n        {{else}}\n        <strong class=\"code-validity-label\">Code is valid for 10 minutes.</strong>\n        {{/ifEquals}}\n      </div>\n\n      <form id=\"frmCode\">\n        {{#if resendMessage}}\n        <div class=\"login--ConfirmationMessage\" data-skcomponent=\"sksuccess\">\n          <div class=\"login--NewCodeHasBeenSent\" style=\"display: flex;align-items: center;justify-content: flex-start;\">\n            <img src=\"https://content.marriottvacationclub.com/icon/green-check-circle.png\" style=\"margin-right: 5px;\"/> A new code has been sent.\n          </div>\n          <div data-layer=\"Bounding box\" class=\"BoundingBox\">\n\n          </div>\n        </div>\n        {{/if}}\n\n        {{#if errorMessage}}\n        <div class=\"login--ConfirmationMessage\" data-skcomponent=\"sksuccess\">\n          <div class=\"text-danger mdi mdi-alert-circle text-center icon-padding\"\n            style=\"display: flex;align-items: center;justify-content: flex-start;\">\n            <img src=\"https://content.marriottvacationclub.com/icon/trianglewarning.png\" style=\"margin-right: 5px;\"/> You have reached the resend limit. Please try with another device or try again later.\n          </div>\n          <div data-layer=\"Bounding box\" class=\"BoundingBox\">\n\n          </div>\n        </div>\n        {{/if}}\n        <!--<div class=\"text-danger mdi mdi-alert-circle text-center icon-padding error-div\" data-id=\"feedback\"\n          data-skcomponent=\"skerror\" id=\"error-msg\"><img src=\"https://content.marriottvacationclub.com/icon/trianglewarning.png\"></div> -->\n        <!--<div class=\"text-danger mdi mdi-alert-circle text-center icon-padding error-div\" data-id=\"feedback\"\n          data-skcomponent=\"skerror\" id=\"error-msg\"><img src=\"https://content.marriottvacationclub.com/icon/trianglewarning.png\" style=\"margin-right: 5px;\"/>\n        </div>-->\n\n\n        <!-- <div class=\"error-container text-center\" id='errorContainer'>\n            <img src=\"https://content.marriottvacationclub.com/icon/trianglewarning.png\" id=\"error-icon\"\n                    alt=\"Warning\" \n                    style=\"width:20px;height:20px;vertical-align:middle;margin-right:5px; display:none;\">\n            <div class=\"text-danger mdi mdi-alert-circle text-center icon-padding\" id=\"feedbackError\" data-id=\"feedback\" \n                  data-skcomponent=\"skerror\" aria-live=\"assertive\"></div>\n        </div> -->\n\n        <div class=\"error-container text-center\">\n          <img alt=\"Warning\" id=\"error-icon\" src=\"https://content.marriottvacationclub.com/icon/trianglewarning.png\"\n    style=\"width: 20px; height: 20px; vertical-align: middle; margin-right: 5px; display: none;\">\n          <div id=\"error-msg\" data-skcomponent=\"skerror\" data-id=\"feedback\"\n            class=\"text-danger mdi mdi-alert-circle icon-padding error-div\"></div>\n        </div>\n\n        <div class=\"checkbox-group\">\n          <input\n              type=\"checkbox\"\n              id=\"rememberMe\"\n              class=\"rememberMe-trust\"\n              trustBrowserChecked\n\ntrustBrowserChecked {{global.variables.trustBrowserChecked}}\n\n            />\n          <label for=\"rememberMe\" class=\"trust-device\">Trust this device</label>\n        </div>\n\n        <div class=\"input-group\">\n          <label for=\"codetextbox\">CODE</label>\n          <input\n              id=\"codetextbox\"\n              maxlength=\"6\"\n              class=\"otp-box GlobalLinkNoTx\"\n            />\n        </div>\n\n        <!-- Auto-submitted button -->\n        <button\n            id=\"Submit\"\n            type=\"submit\"\n            aria-label=\"click the button to Send code\"\n            style=\"display: none\"\n            data-skcomponent=\"skbutton\"\n            data-skbuttontype=\"form-submit\"\n            data-skbuttonvalue=\"NEXT\"\n            data-skform=\"frmCode\"\n          >\n            Submit\n          </button>\n        {{#ifEquals type \"TOTP\"}}\n        <!-- exclude resend option -->\n        {{else}}\n        <div class=\"link-buttons\">\n          <button\n              id=\"RESEND\"\n              type=\"submit\"\n              aria-label=\"click the button to Send code\"\n              class=\"login--button-resend\"\n              data-skcomponent=\"skbutton\"\n              data-skbuttontype=\"next-event\"\n              data-skbuttonvalue=\"RESEND\"\n              data-skform=\"frmCode\"\n            >\n              Resend Code\n            </button>\n          {{/ifEquals}}\n          {{#if canChangeDevice}}\n          <button\n              id=\"CANCEL\"\n              type=\"submit\"\n              aria-label=\"click the button to Send code\"\n              class=\"login--button-choosediffmodel\"\n              data-skcomponent=\"skbutton\"\n              data-skbuttontype=\"next-event\"\n              data-skbuttonvalue=\"CANCEL\"\n              data-skform=\"frmCode\" style=\"margin-left: 20px;\"\n            >\n              Choose Another Method\n            </button>\n          {{/if}}\n\n\n        </div>\n      </form>\n    </div>\n  </div>\n  <!-- <script src=\"./codeEntery_success.js\"></script> -->\n</body>\n\n</html>"
              },
              "customCSS": {
                "value": "\n      * {\n        box-sizing: border-box;\n        margin: 0;\n        padding: 0;\n        font-family: Roboto;\n      }\n\n      body {\n        font-family: Arial, sans-serif;\n        /* background-color: rgba(0, 0, 0, 0.75); */\n         /* background-color: rgba(0, 0, 0, 0.6); */\n      }\n .error-container {\n  display: flex;\n  align-items: flex-start;\n  justify-content: first-start;\n  gap: 5px;\n}\n#error-msg {\n  position: relative;\n  display: inline-flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n  text-align: left;\n}\n\n/* Show icon only when message text is not empty */\n#error-msg:not(:empty)::before {\n  content: url('https://content.marriottvacationclub.com/icon/trianglewarning.png');\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  margin-right: 5px;\n  vertical-align: middle;\n}\n#error-msg:not(:empty) + .login--ConfirmationMessage {\n  display: none;\n}\n\n      body {\n  margin: 0;\n  padding: 0;\n  font-family: Arial, sans-serif;\n}\n\n.main-container {\n  padding: 20px;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n\n  /* Your background image */\n  /* background-image: url('./image/Screenshot\\ 2025-08-14\\ 235555.png');  */\n  background-size: cover;\n  background-position: center;\n}\n\n/* Overlay (dark transparent background) */\n.main-container::before {\n    content: \"\";\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    /* background: rgba(0, 0, 0, 85); */\n    z-index: -1;\n    opacity: 0.7;\n}\n\n\n\n      /* Modal */\n      .modal {\n        position: relative;\n        background: white;\n        border-radius: 12px;\n        /* padding: 24px 24px 20px; */\n        padding: 48px;\n        width: 100%;\n        /* max-width: 480px; */\n        max-width: 760px;\n        height: auto;\n        /* box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25); */\n        margin: 0 auto;\n      }\n\n      /* Close () */\n      .close-btn {\n        position: absolute;\n        top: 16px;\n        right: 16px;\n        font-size: 28px;\n        font-weight: 500;\n        background: none;\n        border: none;\n        cursor: pointer;\n        color: #000;\n      }\n\n      /* Heading */\n      .modal h2 {\n        font-size: 20px;\n        font-weight: 600;\n        margin: 0 0 12px;\n      }\n\n      /* Info text */\n      .info-box {\n        margin-bottom: 20px;\n        /* font-size: 14px; */\n        font-size: 16px;\n        font-weight: 400;\n        color: #333;\n        line-height: 1.5;\n      }\n\n      /* Space above the validity line, Scoped by the container class */\n      .info-box .code-validity-label {\n        display: block;\n        margin-top: 12px;\n      }\n\n      .info-box strong {\n        font-weight: 600;\n      }\n\n      /* Label */\n      .input-group {\n        margin-bottom: 12px;\n      }\n\n      .input-group label {\n        display: block;\n        font-size: 12px;\n        font-weight: 500;\n        /* margin-bottom: 6px; */\n      }\n\n      /* OTP Input */\n      .otp-box {\n        width: 70%;\n        height: 38px;\n        padding: 8px 10px;\n        font-size: 14px;\n        border: 1px solid #ccc;\n        border-radius: 6px;\n        outline: none;\n      }\n\n      /* Checkbox */\n       .checkbox-group {\n        margin-bottom: 20px;\n        display: flex;\n      }\n \n .checkbox-group .rememberMe-trust {\n    appearance: none !important;\n    -webkit-appearance: none !important;\n    width: 20px !important;\n    height: 20px !important;\n    border: 2px solid #000 !important;\n    border-radius: 4px !important;\n    margin-right: 8px !important;\n    cursor: pointer !important;\n    position: relative !important;\n}\n#rememberMe {\n  display: inline-block; /* or 'block', 'initial' */\n}\n \n/* Checked state */\n.checkbox-group .rememberMe-trust:checked {\n    background-color: white !important;\n}\n \n/* Optional: Add a checkmark */\n.checkbox-group .rememberMe-trust::after {\n    content: \"\" !important;\n    position: absolute !important;\n    display: none !important;\n    top: 2px !important;\n    left: 5px !important;\n    width: 5px !important;\n    height: 10px !important;\n    border: solid #000000 !important;\n    border-width: 0 2px 2px 0 !important;\n    transform: rotate(45deg) !important;\n}\n \n.checkbox-group .rememberMe-trust:checked::after {\n    display: block !important;\n}\n.trust-device{\n  font-size: 16px;\n  font-family: \"Roboto\";\n  font-weight: 400;\n}\n\n\n      /* Action Buttons */\n      .link-buttons {\n        display: flex;\n        gap: 1rem;\n        flex-wrap: wrap;\n        margin-top: 25px;\n      }\n\n      .link-buttons button {\n        background: none;\n        border: none;\n        color: #000;\n        /* font-size: 13px; */\n        font-size: 16px;\n        cursor: pointer;\n        text-decoration: underline;\n        padding: 0;\n        transition: color 0.2s ease;\n        /* font-weight: 700; */\n        font-weight: 600;\n      }\n\n      /* .link-buttons button:hover {\n        color: #0073aa;\n      } */\n\n      /* Mobile First Responsive */\n      @media (max-width: 480px) {\n        .modal {\n          padding: 20px 16px;\n        }\n\n        .link-buttons {\n          flex-direction: row;\n          gap: 30px;\n          align-items: flex-start;\n          margin-top: 16px;\n        }\n\n        .link-buttons button {\n          font-size: 14px;\n        }\n      }\n      \n      /* css for iframe===================================================> */\n   html, body {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden; /* prevents scrollbars */\n}\n\n.background-iframe {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: -2;\n  border: none;\n}\n\n.main-container {\n  position: relative;\n  z-index: 1;\n}\n\n.login--NewCodeHasBeenSent{\n  padding:10px;\n  border:1px solid green;\n  color: green;\n  border-radius: 5px;\n  margin-bottom: 10px;\n}\n\n.text-danger{\n  color:#C50000;\n}\n/* .error-div{\nborder: 1px solid #C50000 ;\nborder-radius: 5px;\nbackground-color: #F6ECEC;\ntext-align: left;\nfont-family: var(--body-smaller-font-family, 'Roboto-Regular', sans-serif);\nfont-size: var(--body-smaller-font-size, 14px);\nline-height: var(--body-smaller-line-height, 22px);\nfont-weight: var(--body-smaller-font-weight, 400);\nposition: relative;\nflex: 1;\n  padding: 15px;\n} */\n.error-div{\n border: 1px solid #eb0000;\n   background: #f6ecec;\n   border-radius: var(--corner-radii-5px, 5px);\n  color: #c50000;\ntext-align: left;\nfont-family: var(--body-smaller-font-family, 'Roboto-Regular', sans-serif);\nfont-size: var(--body-smaller-font-size, 14px);\nline-height: var(--body-smaller-line-height, 22px);\nfont-weight: var(--body-smaller-font-weight, 400);\nposition: relative;\nflex: 1;\n padding: 12px 16px 12px 16px;\n margin-bottom: 10px;\n}\n/* Tablet and Mobile (768px and below) */\n@media (max-width: 768px) {\n  .close-btn {\n    position: absolute;\n    top: 12px;   /* adjust for spacing */\n    right: 12px;\n    left: auto;  /* override desktop left offset */\n    transform: none;\n    font-size: 20px;\n    width: 20px;\n    height: 20px;\n  }\n\n  .modal {\n    max-width: 95%;  /* so modal fits smaller screens */\n    padding: 24px 16px;\n  }\n}\n\n/* Smaller mobile (480px and below) */\n@media (max-width: 480px) {\n  .close-btn {\n    top: 10px;\n    right: 10px;\n    font-size: 18px;\n  }\n\n  .modal {\n    padding: 16px 12px;\n  }\n}"
              },
              "customScript": {
                "value": "\n\n const codeInput = document.getElementById(\"codetextbox\");\n const autoSubmitBtn = document.getElementById(\"Submit\");\n const ResendButton = document.getElementById('RESEND');\n//const cancelBtn = document.getElementById(\"cancelBtn\");\n const modal = document.getElementById(\"entercodeModal\"); \n\nconst domain = \"{{global.variables.domain}}\";\n console.log(\"Domain  is:\", domain); \n//   const moxieKey =getMoxieKey(domain);\n//  console.log('moxi key is ', moxieKey);\n \n\ndocument.getElementById(\"frmCode\").addEventListener(\"keydown\", function (event) {\n  if (event.key === \"Enter\") {\n    event.preventDefault();   // Stops submit\n    return false;\n  }\n});\n\n// ------------------ Config ------------------\n  // const dev = true; // set to false in production\n  //const moxieKey = \"PEE47-327B-3359-EAD0\"; // replace with your OLJS key\n  // const moxieKey =\"{{global.company.variables.moxieKeyMVC}}\";\n   const MOXIE_SCRIPT_ID = 'moxie-translation-script';\n\n// --- NEW: Unique IDs for our dynamic elements ---\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\n\n// Track whether background is currently active\nlet backgroundVisible = false;\n\n\n\n/**cancelBtn.addEventListener(\"click\", () => {\n  modal.style.display = \"none\";\n});  */\n\n\ncodeInput.addEventListener('input', function () {\n  const value = codeInput.value.replace(/\\D/g, '').slice(0, 6);\n  codeInput.value = value\n  if (value.length === 6) {\n    setTimeout(() => {\n      autoSubmitBtn.click();\n    }, 1000);\n  }\n  showErrorMessage();\n});\n\nif (ResendButton) {\n  ResendButton.addEventListener('click', function () {\n    const codeTextbox = document.getElementById('codetextbox');\n    if (codeTextbox) {\n      codeTextbox.value = \"\";\n    }\n     showNewCodeMessage();\n  });\n}\n\n\n\n\n// New js for background\n\n\n/**\n * Creates and injects a dimmed, full-screen iframe background.\n * Checks if elements already exist to avoid duplicates.\n * @param {string} url - The URL for the background website.\n */\nfunction insertBackgroundSiteDimmed(url) {\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\n\n  // Create the dimming overlay\n  const overlay = document.createElement('div');\n  overlay.id = BACKGROUND_OVERLAY_ID;\n  overlay.style.cssText = `\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\n      background:rgba(0,0,0,0.8); z-index:-1;\n    `;\n\n  // Create the iframe\n  const iframe = document.createElement('iframe');\n  iframe.id = BACKGROUND_IFRAME_ID;\n  iframe.src = url;\n  iframe.style.cssText = `\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\n      border:none; z-index:-2;\n    `;\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\n iframe.setAttribute(\"aria-hidden\", \"true\");\niframe.setAttribute(\"tabindex\", \"-1\");\n\n  // Add them to the page\n  document.body.insertBefore(overlay, document.body.firstChild);\n  document.body.insertBefore(iframe, document.body.firstChild);\n\n  console.log(\"Dimmed background and iframe have been injected.\");\n}\n\n\n\n// --- 1. Main Logic to Control the Background ---\nconst manageBackgroundVisibility = () => {\n  const modal = document.getElementById('codeEntryModal');\n\n  if (modal && !backgroundVisible) {\n\n    if (domain.includes(\"grandresidenceclub.com\")) {\n      if(\"{{global.parameters.isManagedAccountFlow}}\")\n      {\n        insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageManageAccount}}\");\n      }\n      else \n      {\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\n      }\n      backgroundVisible = true;\n\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\n      if(\"{{global.parameters.isManagedAccountFlow}}\")\n      {\n        insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageManageAccount}}\");\n      }\n      else \n      {\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\n      }\n      \n      backgroundVisible = true;\n    }\n    else {\n      if(\"{{global.parameters.isManagedAccountFlow}}\")\n      {\n        insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageManageAccount}}\");\n      }\n      else \n      {\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\n      }\n      \n      \n      backgroundVisible = true;\n    }\n  }\n  //  else if (!modal && backgroundVisible) {\n  //   removeBackgroundSiteDimmed();\n  //   backgroundVisible = false;\n  // }\n};\n\n// --- 2. Watch for Page Changes in the SPA ---\nconst observer = new MutationObserver(manageBackgroundVisibility);\nobserver.observe(document.body, { childList: true, subtree: true });\n\n// --- 3. Initial Setup ---\nmanageBackgroundVisibility();\n\n\n//Simultenious error msg and success msg handle\n\nconst newCodeMsg = document.querySelector('.login--NewCodeHasBeenSent');\nconst errorMsg = document.getElementById('feedbackError');\n\n\n// Hide error when new code sent\nfunction showNewCodeMessage() {\n    if (newCodeMsg) newCodeMsg.style.display = \"flex\";\n    if (errorMsg) errorMsg.style.display = \"none\";\n}\n\n// Hide success when there is an error\nfunction showErrorMessage() {\n    if (errorMsg) errorMsg.style.display = \"block\";\n    if (newCodeMsg) newCodeMsg.style.display = \"none\";\n}\n\n\n\n"
              },
              "validationRules": {
                "value": []
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"type\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.type}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.type}}\",\n        \"children\": [\n          {\n            \"text\": \"type\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "canChangeDevice": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"canChangeDevice\",\n        \"data\": \"{{global.variables.canChangeDevice}}\",\n        \"tooltip\": \"{{global.variables.canChangeDevice}}\",\n        \"children\": [\n          {\n            \"text\": \"canChangeDevice\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "propertyName": "codetextbox",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "propertyName": "rememberMe",
                    "preferredControlType": "textField",
                    "preferredDataType": "boolean",
                    "value": "",
                    "hashedVisibility": false
                  }
                ]
              },
              "maskedContact": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"maskedContact\",\n        \"data\": \"{{local.m5l2cif5p1.payload.output.maskedContact}}\",\n        \"tooltip\": \"{{local.m5l2cif5p1.payload.output.maskedContact}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedContact\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "resendButtonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Resend passcode\"\n      }\n    ]\n  }\n]"
              },
              "primaryButtonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Continue\"\n      }\n    ]\n  }\n]"
              },
              "resendMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"successMessage\",\n        \"data\": \"{{global.variables.successMessage}}\",\n        \"tooltip\": \"{{global.variables.successMessage}}\",\n        \"children\": [\n          {\n            \"text\": \"successMessage\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeDescription": {
                "value": "One-time Passcode entry"
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "isManagedAccountFlow": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"isManagedAccountFlow\",\n        \"data\": \"{{global.parameters.isManagedAccountFlow}}\",\n        \"tooltip\": \"{{global.parameters.isManagedAccountFlow}}\",\n        \"children\": [\n          {\n            \"text\": \"isManagedAccountFlow\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"errorMessage\",\n        \"data\": \"{{global.variables.errorMessage}}\",\n        \"tooltip\": \"{{global.variables.errorMessage}}\",\n        \"children\": [\n          {\n            \"text\": \"errorMessage\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "teo99l9b41",
            "isDisabled": true
          },
          "position": {
            "x": 491,
            "y": 3014
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        }
      ],
      "edges": [
        {
          "data": {
            "id": "v6ag7r0az7",
            "source": "czjvnambvt",
            "target": "bikvf3u6s2"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ihuvprfa6d",
            "source": "bikvf3u6s2",
            "target": "4y8r0le494"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8wyij0ykbr",
            "source": "r23k33t5x0",
            "target": "efzedsvhie"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ohp0dhnwkl",
            "source": "e7162j3cfm",
            "target": "zj13hakp56"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "0bqc1cowbw",
            "source": "xzid2xv45g",
            "target": "60peytuaid"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "o1edu7q662",
            "source": "6j20qaj7dn",
            "target": "7552e8123r",
            "multiValueSourceId": "94wnll28gc"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "q8ot95xa0z",
            "source": "6j20qaj7dn",
            "target": "xyvuvfcn7c",
            "multiValueSourceId": "k8apl89lcp"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "093q691rs5",
            "source": "wdn4q8gbrb",
            "target": "ic0u7ulskf",
            "multiValueSourceId": "9sv9cvy9i5"
          },
          "position": {
            "x": 64,
            "y": 132
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "5lxjrw1e6o",
            "source": "iiw5ugp34l",
            "target": "yz6dpdq0pm",
            "multiValueSourceId": "eoz52zksfq"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "wbyscywjz0",
            "source": "zj13hakp56",
            "target": "xzid2xv45g"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "znqz5khq8x",
            "source": "efzedsvhie",
            "target": "qcv7iy7ud0"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "votwfl1in7",
            "source": "yz6dpdq0pm",
            "target": "umyka0onl2"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "0timbr5dmj",
            "source": "ome24neddt",
            "target": "3sbqj08n0t"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "x86zv9hd0m",
            "source": "kpulr4qpja",
            "target": "ome24neddt"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "kga78tsz3k",
            "source": "5amlnuzbht",
            "target": "923b3qg1lp"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "4lb5c8jrng",
            "source": "cb1ks31yzi",
            "target": "k45so0nmwp"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ptcsz2t2g9",
            "source": "sq3vyolfcm",
            "target": "hzeham7oy2"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "y8ek7f0sb7",
            "source": "g83fqgx0ui",
            "target": "zfvfsgz6z6"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "gxyjhjhomf",
            "source": "zfvfsgz6z6",
            "target": "iexfycbjre"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ws08yd04pz",
            "source": "vt832wada2",
            "target": "a6h4fomjp1"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "wcexnk1y24",
            "source": "8o9lc4lmlq",
            "target": "qfftwcpqt4"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "u5p6zff7uo",
            "source": "m5l2cif5p1",
            "target": "n700knxllp"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "9y4cjpkv07",
            "source": "7qh7dk59mz",
            "target": "8o9lc4lmlq"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8ct2qe7uvs",
            "source": "619yvb4dnp",
            "target": "5ojhqamfqf"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "xtf1ebswtc",
            "source": "a6h4fomjp1",
            "target": "52ymwppqqf",
            "multiValueSourceId": "fmf2dvwm72"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "q4k013vtik",
            "source": "d2sms6g4l6",
            "target": "nxmhn90jfj"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "q864jezijn",
            "source": "q2skiuk25t",
            "target": "q1hgoyjizp"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8xhouov3ag",
            "source": "xjb3xzobwt",
            "target": "pzhea9r7av"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "et866i7puc",
            "source": "52ymwppqqf",
            "target": "is8hgaqrhz"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "bmwhel2spe",
            "source": "v73vid9vdt",
            "target": "4rp10rfam9"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8n42d64xbd",
            "source": "wvvxj16elt",
            "target": "pms9ufpjzn"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ati976o9t1",
            "source": "ta0r9qp7tb",
            "target": "juqaosd8af"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "e94xa6n9k5",
            "source": "juqaosd8af",
            "target": "mwmn3q4dta"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "gu2umjgon7",
            "source": "7o0bsj3f8z",
            "target": "ta0r9qp7tb"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ycj89hv8yb",
            "source": "85nlcn2tlp",
            "target": "9rcv21ooou"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "q0pgvhnxvr",
            "source": "v8mrsmwtx1",
            "target": "u15b22s7og"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "a5jooxxbz1",
            "source": "zvxga05uhm",
            "target": "lzfbivlj9q"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "mhp7vtjagn",
            "source": "jsodbswmlf",
            "target": "uuyykie3ji",
            "multiValueSourceId": "fvvfdwp1fw"
          },
          "position": {
            "x": 64,
            "y": 132
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "a9klxacf0e",
            "source": "pdvisoyswi",
            "target": "cjrazsmkqv"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "gxebl9ocag",
            "source": "jsodbswmlf",
            "target": "hicxiqeb36",
            "multiValueSourceId": "aw94m7u2lh"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "xm0iq64ptu",
            "source": "74cars4hx7",
            "target": "e9lmj4jktt"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "oz4b1igxhq",
            "source": "lo4dsc5et8",
            "target": "v8mrsmwtx1"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "oq3ffw1yhx",
            "source": "q1hgoyjizp",
            "target": "zvxga05uhm"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "2afxhfi04x",
            "source": "oplf2mbb17",
            "target": "j7xl1o9fhl"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "gyrjqxiqcn",
            "source": "j7xl1o9fhl",
            "target": "no2gdudqlb"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "vf2c43gcir",
            "source": "7o0bsj3f8z",
            "target": "9b8o5cz1rs"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "jue2vw26au",
            "source": "pzhea9r7av",
            "target": "vt832wada2"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "tklx8x1iku",
            "source": "bkoyc4xiuh",
            "target": "3fs2u5p346"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3th2dqd5ro",
            "source": "zvxga05uhm",
            "target": "0r644l3wck"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ypuvzgr9cv",
            "source": "z8euhhsnk7",
            "target": "2vewum7b8r"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "u71xwttr8c",
            "source": "s1dignx4g8",
            "target": "z8euhhsnk7"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3d8yj57hz2",
            "source": "ehyu77qniz",
            "target": "5amlnuzbht"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "a7su85lhrt",
            "source": "jinaxm8lk8",
            "target": "oplf2mbb17"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "6uqogvjy74",
            "source": "ayk9nag3un",
            "target": "w7rff28bha"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "g28bsbvpoq",
            "source": "9dqb4yt2x5",
            "target": "wvvxj16elt"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "abxzppiabw",
            "source": "q2skiuk25t",
            "target": "zd2tmmhgvd"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "jb38qoi95w",
            "source": "5ojhqamfqf",
            "target": "q4wqzgrmlf"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "80jpn9x59z",
            "source": "q4wqzgrmlf",
            "target": "v73vid9vdt"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "allqyq1jrf",
            "source": "juqaosd8af",
            "target": "9dqb4yt2x5"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "zd5ohd0aew",
            "source": "nxmhn90jfj",
            "target": "q2skiuk25t",
            "multiValueSourceId": "-1"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "21u39ude6s",
            "source": "uuyykie3ji",
            "target": "cj6pxtan53"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "o8eldjbu3p",
            "source": "wx2n0gjnhy",
            "target": "01cx015l8l"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "lhxquzexgk",
            "source": "463i9zwyn8",
            "target": "jsodbswmlf"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ve0s3k2tiz",
            "source": "pqxheh6isj",
            "target": "wcsqnfhgpv"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "7jugq517am",
            "source": "fri4c3y0ej",
            "target": "aq6coeh86i"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "owergvk9h3",
            "source": "hcjjjsw39j",
            "target": "mhghtvg3re"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "riqit9tjs3",
            "source": "46h5alj2cp",
            "target": "a0d3i3stgd"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "7ff327pjzs",
            "source": "c2kaajq734",
            "target": "r23k33t5x0"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "eoc3qx27sh",
            "source": "wcsqnfhgpv",
            "target": "1f892rorgf"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ykaqwa272s",
            "source": "8uwwq05c63",
            "target": "3e5udcu5s5"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "gwstq5syzx",
            "source": "k92m23e13k",
            "target": "t3bieih033"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ghi425h46l",
            "source": "3e5udcu5s5",
            "target": "pbyt5gnn18"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "d4wh71nco7",
            "source": "gdva263hgy",
            "target": "fri4c3y0ej"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "pwd8kn46rd",
            "source": "4y8r0le494",
            "target": "kpulr4qpja"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "m8mnmj64gu",
            "source": "5sa23wxeuw",
            "target": "n07uwx9xjr"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "k7ao3dtkz9",
            "source": "vm4bb0a3r9",
            "target": "l5aa32vnrd"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "sv9ltdakwr",
            "source": "pbyt5gnn18",
            "target": "7o0bsj3f8z"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "v0hncsm05i",
            "source": "xjb3xzobwt",
            "target": "mgbn83uyyc"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "s8k5nmpdeg",
            "source": "n700knxllp",
            "target": "vphozwida3"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "h768o5rc4b",
            "source": "wdn4q8gbrb",
            "target": "o9wkybrg5t",
            "multiValueSourceId": "94wnll28gc"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ujugtz6diw",
            "source": "6ac6ya18fe",
            "target": "9knh4pb8kc"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "l2fgmd2y8f",
            "source": "0jig2pl769",
            "target": "9iij76vcob"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "g1ru405fel",
            "source": "fzkpvzkc39",
            "target": "3wbvt22p80",
            "multiValueSourceId": "0cp41op2cj"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "v6omfx9216",
            "source": "etn576tjxn",
            "target": "xdyg4ar8uv"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "c4kx30exag",
            "source": "z7ujuxbyv0",
            "target": "w7ugweg769"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ofcvkk09b5",
            "source": "7x5rho4dms",
            "target": "0il0c4vvmt"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "vbpjonqzu8",
            "source": "887186z6vi",
            "target": "zm6w6g0n7m"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "h5xigrk89k",
            "source": "cb1ks31yzi",
            "target": "75x2kban23"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "dtrpncn7gj",
            "source": "k45so0nmwp",
            "target": "my3vem4k1y"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "xzlgwy17fi",
            "source": "gxkp5esp7o",
            "target": "xsbig8d6xz"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "nbkjywjcr0",
            "source": "ozbnanfjeu",
            "target": "kignvn0aey"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "v0hjx1dv1z",
            "source": "w7rff28bha",
            "target": "jinaxm8lk8"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "w4svns0vfo",
            "source": "wdn4q8gbrb",
            "target": "bkoyc4xiuh",
            "multiValueSourceId": "-1"
          },
          "position": {
            "x": 64,
            "y": 172
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "hlnl32r0o8",
            "source": "chi45050r2",
            "target": "ayk9nag3un"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "s73phwusz2",
            "source": "dzfpssdro9",
            "target": "chi45050r2"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "4jh25593d6",
            "source": "923b3qg1lp",
            "target": "pbyt5gnn18"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "fmyjhdwdmj",
            "source": "pc7igkj46g",
            "target": "n1ffes6qbk"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "9y65742ak4",
            "source": "o9wkybrg5t",
            "target": "bni51fanwq"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "q6r3ydph39",
            "source": "9b8o5cz1rs",
            "target": "s1dignx4g8"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "sh4oltswqc",
            "source": "rfqanw2eaq",
            "target": "p2kyxaxrs5"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "s33cfhypm3",
            "source": "acfgvblgso",
            "target": "sq3vyolfcm"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3nik6zmfbo",
            "source": "idy9uw2jpn",
            "target": "c2kaajq734"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "drjv7xsjti",
            "source": "xvuz8o1k57",
            "target": "bsl94dkg7p"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "p1wkgdv5p9",
            "source": "t3bieih033",
            "target": "xvuz8o1k57"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "clvzflffhe",
            "source": "t3bieih033",
            "target": "mvr73w0sp7"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "maf4gjjg6v",
            "source": "bsvt2nwelk",
            "target": "mi4r3s3wvc"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "zqsk6dj06h",
            "source": "wdn4q8gbrb",
            "target": "46h5alj2cp",
            "multiValueSourceId": "k8apl89lcp"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "lkfdm5hlik",
            "source": "mvr73w0sp7",
            "target": "z7ujuxbyv0"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "k0lh709sfk",
            "source": "vz4bpud7ha",
            "target": "wx2n0gjnhy"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "x1nv1ua38d",
            "source": "p2kyxaxrs5",
            "target": "idy9uw2jpn"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ot5wudj6xq",
            "source": "m9ykx7xo0s",
            "target": "rfqanw2eaq"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "mjsh6lkd20",
            "source": "trq8d76am8",
            "target": "z5qtctmid4"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "fxyncmahil",
            "source": "no2gdudqlb",
            "target": "pdvisoyswi"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "407iuxr725",
            "source": "sft0z1jdt0",
            "target": "9el3lwtjm0"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "f7s04705wx",
            "source": "rqxufafbwd",
            "target": "mhghtvg3re"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "kw2271jd2u",
            "source": "2vewum7b8r",
            "target": "j92491fap9"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "09174im6zn",
            "source": "w3qeaaic10",
            "target": "fdp8882bb2"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "dfa4o5kodp",
            "source": "n07uwx9xjr",
            "target": "xjb3xzobwt"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "57ethmjd3l",
            "source": "hcjjjsw39j",
            "target": "kla0txlyyn"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ye78tyel59",
            "source": "bsl94dkg7p",
            "target": "w7ugweg769"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "9w6uezsuo5",
            "source": "6pssydezqx",
            "target": "k92m23e13k"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "o2w4p9uusg",
            "source": "3sbqj08n0t",
            "target": "oc8nhn1hn8"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "xv8nvuixd2",
            "source": "mi4r3s3wvc",
            "target": "wdn4q8gbrb"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "kk9id983ux",
            "source": "y1nehizcqv",
            "target": "0jig2pl769"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ahg74iav7q",
            "source": "trq8d76am8",
            "target": "y1nehizcqv"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "e3b9tq0pya",
            "source": "a6h4fomjp1",
            "target": "74cars4hx7",
            "multiValueSourceId": "0cp41op2cj"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "yuophs1dkg",
            "source": "9knh4pb8kc",
            "target": "k0bpwctck8"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "vxg2b2qj4s",
            "source": "cjrazsmkqv",
            "target": "trq8d76am8"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "cqxjrm5a1i",
            "source": "85nlcn2tlp",
            "target": "k8aha472om"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "t1zkv7zoxf",
            "source": "vphozwida3",
            "target": "463i9zwyn8"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "58r3mzcafz",
            "source": "6j20qaj7dn",
            "target": "mgxd60r35q",
            "multiValueSourceId": "-1"
          },
          "position": {
            "x": 64,
            "y": 172
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "c9zay3294x",
            "source": "jsodbswmlf",
            "target": "lo4dsc5et8",
            "multiValueSourceId": "1uplmn0ljy"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "g8k006ryir",
            "source": "r23k33t5x0",
            "target": "acfgvblgso"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "kw1y791ow2",
            "source": "kla0txlyyn",
            "target": "rqxufafbwd"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "avf3pq3jcq",
            "source": "fdp8882bb2",
            "target": "hcjjjsw39j"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "pvpfmfw4tc",
            "source": "zm6w6g0n7m",
            "target": "9iij76vcob"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "hnpatj2bib",
            "source": "k0bpwctck8",
            "target": "ozbnanfjeu"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8z1p4n69i7",
            "source": "s91nvwts8m",
            "target": "uuf6fcq882"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "e6rdrmhbsa",
            "source": "g819woyri7",
            "target": "w3qeaaic10"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "9qy4eci0vx",
            "source": "xsbig8d6xz",
            "target": "znp8h3xt42"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "od27b7vf4z",
            "source": "s91nvwts8m",
            "target": "jzl1ixsnb4"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "1ldqc4bycu",
            "source": "9iij76vcob",
            "target": "s91nvwts8m"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "s9au7i4urt",
            "source": "4rp10rfam9",
            "target": "6pssydezqx"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "0fhkkd99qy",
            "source": "uuf6fcq882",
            "target": "p9emw902h2"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "zmlm0yubhm",
            "source": "w7ugweg769",
            "target": "dzfpssdro9"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "1m1unv7k67",
            "source": "p9emw902h2",
            "target": "6ac6ya18fe"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "7ot2dsogj1",
            "source": "kignvn0aey",
            "target": "pc7igkj46g"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "jud635shdr",
            "source": "xdyg4ar8uv",
            "target": "yh5twp5fsn"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "esfhft5eau",
            "source": "hfa19qo1ws",
            "target": "fzkpvzkc39"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ds134rlf8a",
            "source": "9rcv21ooou",
            "target": "gltuh7pu5s"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "irnobxi8te",
            "source": "fzkpvzkc39",
            "target": "sft0z1jdt0",
            "multiValueSourceId": "fmf2dvwm72"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "9vxqnyfgz2",
            "source": "e7162j3cfm",
            "target": "fr8ffvqm8q"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ewalxhxxf9",
            "source": "tz23ookvrc",
            "target": "mvbrsh4yq3"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3p6w3m2907",
            "source": "gltuh7pu5s",
            "target": "lcj0csy5zf"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "s4p3qyqvbt",
            "source": "lcj0csy5zf",
            "target": "hfa19qo1ws"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "prgv2jnizm",
            "source": "lar67wo9gz",
            "target": "pqxheh6isj"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "qjgkqcz7xy",
            "source": "obbqxkkx9j",
            "target": "e7162j3cfm"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "o6rkovmk64",
            "source": "pc7igkj46g",
            "target": "obbqxkkx9j"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ffyimmjjb3",
            "source": "izr9eiq4pp",
            "target": "epw0oq727q"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8hwv1gc497",
            "source": "yh5twp5fsn",
            "target": "izr9eiq4pp"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "481kox754m",
            "source": "3wbvt22p80",
            "target": "hxqtlccqlk"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "6oqmo4b0if",
            "source": "k0azoltb58",
            "target": "69vlbm4ebu"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ddxejubnkr",
            "source": "m0rufm6m80",
            "target": "k0azoltb58"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ty6j1hvo95",
            "source": "51dvh0pxyt",
            "target": "85nlcn2tlp"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8vcrwm8502",
            "source": "69vlbm4ebu",
            "target": "5sa23wxeuw"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "lhm4hzonec",
            "source": "u15b22s7og",
            "target": "bsvt2nwelk"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8m9hhdrhri",
            "source": "qfftwcpqt4",
            "target": "d2sms6g4l6"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "uxfs3jgrgs",
            "source": "hicxiqeb36",
            "target": "cfwpxpoes0"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "wzvddroua2",
            "source": "uy5qcgluyt",
            "target": "ztidznzfzo"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "s4tpze5is0",
            "source": "kpulr4qpja",
            "target": "6j20qaj7dn"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "hwgjev3n9o",
            "source": "7552e8123r",
            "target": "dzgoa3fdtg"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3bnhavk031",
            "source": "xzid2xv45g",
            "target": "0il0c4vvmt"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "08vzra05a4",
            "source": "xsbig8d6xz",
            "target": "51dvh0pxyt"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "mzj6nrcbim",
            "source": "kgitkwg2hp",
            "target": "ck7o2nvten"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "sc0bmgxygv",
            "source": "elbg96xe1b",
            "target": "kgitkwg2hp",
            "multiValueSourceId": "0cp41op2cj"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "zvk88exewa",
            "source": "cfgzexsfg7",
            "target": "ixkj97j0my"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "815qvuvo7w",
            "source": "iexfycbjre",
            "target": "elbg96xe1b"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "v9509lnad2",
            "source": "l5aa32vnrd",
            "target": "g83fqgx0ui"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "zuqbinysqf",
            "source": "elbg96xe1b",
            "target": "cfgzexsfg7",
            "multiValueSourceId": "fmf2dvwm72"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "innuv7532e",
            "source": "znp8h3xt42",
            "target": "vm4bb0a3r9"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "32nly6x78h",
            "source": "mi4r3s3wvc",
            "target": "837kuu7a9z"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "eb93ny7mjl",
            "source": "837kuu7a9z",
            "target": "fsbk41evw1"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "u4db7g8gdq",
            "source": "fsbk41evw1",
            "target": "gdva263hgy"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "5e4lnvywek",
            "source": "fsbk41evw1",
            "target": "pqxheh6isj"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "rkarobpoql",
            "source": "aq6coeh86i",
            "target": "m1qh7h9ve8"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "58hkm7ff61",
            "source": "m1qh7h9ve8",
            "target": "pqxheh6isj"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "dgyqpqeom3",
            "source": "m1qh7h9ve8",
            "target": "pktluxeek2"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "y0nkuzio5m",
            "source": "pktluxeek2",
            "target": "lar67wo9gz"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "l2kv1i1sf9",
            "source": "mvbrsh4yq3",
            "target": "qexw0ztjbv"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "yj4udzhrxy",
            "source": "qexw0ztjbv",
            "target": "cb1ks31yzi"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ukml9un7go",
            "source": "n1ffes6qbk",
            "target": "ehyu77qniz"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "r4rpmlwapy",
            "source": "ehyu77qniz",
            "target": "q2msvkbio0"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "b4bcbfe0jw",
            "source": "q2msvkbio0",
            "target": "lm6lryj0y1"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "fz9b02sk5b",
            "source": "lm6lryj0y1",
            "target": "8uwwq05c63"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "20q7sd8ilf",
            "source": "my3vem4k1y",
            "target": "iiw5ugp34l"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3leh1fo8st",
            "source": "jsodbswmlf",
            "target": "61x0z1fhbz",
            "multiValueSourceId": "bis207i767"
          },
          "position": {
            "x": 64,
            "y": 172
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ju3nz0fyu5",
            "source": "61x0z1fhbz",
            "target": "93rbae42qx"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "oq1nfu76mw",
            "source": "ic0u7ulskf",
            "target": "o79m5x9d3p"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3mwh0mph3x",
            "source": "qcv7iy7ud0",
            "target": "vz4bpud7ha"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "e2zu88nzx0",
            "source": "60peytuaid",
            "target": "7x5rho4dms"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "puk87uqts3",
            "source": "yz6dpdq0pm",
            "target": "75x2kban23"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "uckaxvpvv9",
            "source": "75x2kban23",
            "target": "hikd1i577v"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "la30gbbzle",
            "source": "hikd1i577v",
            "target": "gxkp5esp7o"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "4b9kbw39jp",
            "source": "lm6lryj0y1",
            "target": "ta0r9qp7tb"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "cbdll7xhfb",
            "source": "6j20qaj7dn",
            "target": "uy5qcgluyt",
            "multiValueSourceId": "9sv9cvy9i5"
          },
          "position": {
            "x": 64,
            "y": 132
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ra8j7yps93",
            "source": "mgxd60r35q",
            "target": "050talsbm4"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "5c42crq538",
            "source": "xyvuvfcn7c",
            "target": "j4ijrk9409"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3k6otc7pa6",
            "source": "cfwpxpoes0",
            "target": "xl71f6rzg0"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "2pdvhj7p42",
            "source": "xl71f6rzg0",
            "target": "czjvnambvt"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        }
      ]
    },
    "data": {},
    "zoomingEnabled": true,
    "userZoomingEnabled": true,
    "zoom": 1,
    "minZoom": 1e-50,
    "maxZoom": 1e+50,
    "panningEnabled": true,
    "userPanningEnabled": true,
    "pan": {
      "x": 0,
      "y": 0
    },
    "boxSelectionEnabled": true,
    "renderer": {
      "name": "null"
    }
  },
  "inputSchema": [
    {
      "propertyName": "p1UserId",
      "description": "",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true,
      "required": true
    },
    {
      "propertyName": "rpid",
      "description": "Relying Party Id",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true,
      "required": true
    },
    {
      "propertyName": "origin",
      "description": "",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true,
      "required": true
    },
    {
      "propertyName": "domain friendly name ",
      "description": "test domain ",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "domain name",
      "description": "vacationclubap.com ,grandresidenceclub.com ,marriottvacationclub.com ,myritzcarltonclub.com",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "skipSuccessPage",
      "description": "",
      "preferredDataType": "boolean",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "isManagedAccountFlow",
      "description": "Change password Auth flow ",
      "preferredDataType": "boolean",
      "preferredControlType": "textField",
      "isExpanded": true
    }
  ],
  "createdAt": "2026-01-13T01:18:03.944Z",
  "updatedAt": "2026-01-13T17:54:41.356Z",
  "deployedAt": "2026-01-13T01:18:10.988Z"
}
{
  "name": "LIVE-[SUB FLOW Ver 2.0.0] -Web MFA Enrollment",
  "description": "Migrated from Test Destination via FlightIQ Director on 02/04/2026 12:13",
  "enabled": true,
  "publishedVersion": 7,
  "connectors": [
    {
      "id": "httpConnector"
    },
    {
      "id": "pingOneMfaConnector"
    },
    {
      "id": "functionsConnector"
    },
    {
      "id": "nodeConnector"
    },
    {
      "id": "errorConnector"
    },
    {
      "id": "variablesConnector"
    },
    {
      "id": "stringsConnector"
    },
    {
      "id": "annotationConnector"
    },
    {
      "id": "pingOneSSOConnector"
    },
    {
      "id": "codeSnippetConnector"
    }
  ],
  "settings": {
    "csp": "worker-src 'self' blob:; script-src 'self' https://cdn.jsdelivr.net https://code.jquery.com https://devsdk.singularkey.com http://cdnjs.cloudflare.com 'unsafe-inline' 'unsafe-eval';",
    "intermediateLoadingScreenCSS": "",
    "intermediateLoadingScreenHTML": "",
    "customTimeoutErrorScreenMessage": "",
    "customTimeoutErrorScreenHTML": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    \n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n    <title>Document</title>\n</head>\n<body>\n    <div>\n        <div class='error-page--wrapper-main'>\n        <div class=\"error-page--image-wrapper\">\n          <div class=\"error-page---image\">\n            <div class=\"error-page--content-wrapper\">\n              <div class=\"error-page--content\">\n                <div class=\"information-block-container error-page--info-block\">\n                  <h1 class=\"custom-heading--h1 heading--light\" aria-label=\"Our Website is down for planned maintenance.\">Your session has expired.</h1>\n                  <div class=\"paragraph-div custom-text--regular custom-text--normal custom-text--light custom-text--body text-error-page--info-block\" role=\"article\">\n                    <p>Please login in again.</p>\n                  </div>\n                  <div class=\"info-actions\"></div>\n                </div>\n              </div>\n            </div>\n<!--            <div class=\"error-page-text-footer\">\n                <div class=\"error-page-text-footer-content\">\n                  Hot Air ballon landing in Hyatt Residence Club Pinon Pointe, Sedona Arizona\n                </div>\n            </div>\n-->\n          </div>\n        </div>\n      </div>\n    </div>\n</body>\n</html>\n",
    "customTimeoutErrorScreenCSS": ".error-page--wrapper-main {\n    background-color: #f4f5f6;\n    position: relative;\n}\n.error-page---image {\n    background-image: linear-gradient(rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0) 49.48%, rgba(0, 0, 0, 0.5) 100%), url(error_bg_image.png);\n}\n.error-page--wrapper-main .error-page---image {\n    align-items: center;\n    background-position: 50%;\n    background-repeat: no-repeat;\n    background-size: cover;\n    display: flex;\n    flex-direction: row;\n    gap: 0;\n    height: 1000px;\n    isolation: isolate;\n    justify-content: center;\n    position: relative;\n    width: 100%;\n    z-index: 0;\n}\n.error-page--wrapper-main .error-page--content-wrapper {\n    align-items: center;\n    background: #fff;\n    border-radius: 16px;\n    box-shadow: 0 16px 32px rgba(0, 0, 0, .05);\n    display: flex;\n    flex-direction: column;\n    gap: 2.5rem;\n    max-width: 600px;\n    padding: 2.125rem 6.5rem;\n    width: 56.07%;\n    z-index: 1;\n}\n.error-page--wrapper-main .error-page--content {\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    gap: 0;\n    justify-content: center;\n}\n.error-page--wrapper-main .error-page--info-block {\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    gap: 0;\n    justify-content: center;\n    text-align: center;\n}\n.error-page--wrapper-main .custom-heading--h5.heading--light {\n    color: #9c3e0c;\n    font-size: 14px;\n    line-height: 150%;\n}\n.error-page--wrapper-main .custom-heading--h5 {\n    letter-spacing: 0.1em;\n    text-transform: uppercase;\n    font-family: \"Roboto\", sans-serif;\n}\n.error-page--wrapper-main .error-page--button-wrapper {\n    display: flex;\n    justify-content: center;\n    padding: 0;\n    width: 100%;\n}\n.error-page--wrapper-main a {\n    color: inherit !important;\n    text-decoration: underline !important;\n}\n.custom-heading--h1 {\n    font-size: 2.5rem;\n    font-weight: 400;\n    letter-spacing: 0;\n    line-height: 125%;\n    text-transform: none;\n    margin-top: 0 !important;\n    margin-bottom: 0 !important;\n    font-family: \"Tenor Sans\", sans-serif;\n}\n.custom-text--regular {\n    font-family: \"Tenor Sans\", sans-serif !important;\n    font-size: 1rem;\n    letter-spacing: 0;\n    line-height: 150%;\n    text-decoration: none;\n    font-weight: 400;\n}\n.information-block-container .info-actions {\n    align-items: center;\n    display: flex;\n    flex-direction: row;\n    gap: 0.5rem;\n}\n.information-block-container p {\n    color: #222;\n    margin: 1.5rem 0;\n}\n.custom-button--primary, .custom-button--primaryChevron {\n    background: #26828e;\n    border: 0;\n    border-radius: 3em !important;\n    color: #fff;\n    cursor: pointer !important;\n    display: inline-block;\n    font-family: \"Roboto\", sans-serif;\n    font-weight: 700;\n}\n.custom-button--medium {\n    font-size: 0.8rem;\n    height: 2.5rem;\n    padding: 0 1.5rem;\n}\n.custom-button--primary:hover, .custom-button--primaryChevron:hover {\n    background-color: #30a6b5;\n}\n.error-page-text-footer {\n    bottom: 0;\n    left: 0;\n    position: absolute;\n    background-color: #141312;\n    opacity: 0.7;\n    color: #d4d2cf;\n    width: 25%;\n    font-size: 12px;\n    padding: 0.5rem 1.5rem;\n    border-top-right-radius: 0.5rem;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n}\n.error-page-text-footer-content {\n    text-decoration-line: none !important;\n    font-weight: 400;\n    font-family: \"Tenor Sans\", sans-serif;\n}\n@media screen and (max-width: 768px) {\n    .error-page--wrapper-main .error-page--content-wrapper {\n        align-items: center;\n        display: flex;\n        flex-direction: column;\n        gap: 0.5rem;\n        padding: 2.125rem 1.1875rem;\n        width: 98%;\n   }\n    .error-page--wrapper-main .custom-heading--h1 {\n        font-size: 2.25rem;\n   }\n}\n",
    "useCustomCSS": false,
    "cssLinks": [
      "https://assets.pingone.com/ux/end-user-nano/0.1.0-alpha.9/end-user-nano.css",
      "https://assets.pingone.com/ux/astro-nano/0.1.0-alpha.11/icons.css",
      "https://assets.pingone.com/ux/end-user-nano/0.1.0-alpha.1/end-user-nano.css"
    ],
    "useBetaAlgorithm": true,
    "logLevel": 4,
    "flowTimeoutInSeconds": 120000,
    "flowHttpTimeoutInSeconds": 45,
    "useCustomTimeoutErrorScreen": true
  },
  "color": "#CACED3",
  "graphData": {
    "elements": {
      "nodes": [
        {
          "data": {
            "id": "4cgf9zgns7",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"<form id=\\\"location\\\" method=\\\"post\\\">\\n    <input type=\\\"hidden\\\" name=\\\"origin\\\" id=\\\"\"\n      },\n      {\n        \"text\": \"origin\"\n      },\n      {\n        \"text\": \"\\\">\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"    <input type=\\\"hidden\\\" name=\\\"\"\n      },\n      {\n        \"text\": \"rpid\"\n      },\n      {\n        \"text\": \"\\\" id=\\\"\"\n      },\n      {\n        \"text\": \"rpid\"\n      },\n      {\n        \"text\": \"\\\">\"\n      },\n      {\n        \"text\": \"\\n    <button type=\\\"hidden\\\" data-skcomponent=\\\"skbutton\\\" data-skbuttontype=\\\"form-submit\\\" class=\\\"hidden-button\\\"  data-skbuttonvalue=\\\"submit\\\" data-skform=\\\"\"\n      },\n      {\n        \"text\": \"location\"\n      },\n      {\n        \"text\": \"\\\" id=\\\"autoSubmit\\\">Next</button>\\n</form>\"\n      }\n    ]\n  }\n]"
              },
              "customScript": {
                "value": "setTimeout(function() {\n    const origin = window.location.origin;\n    document.getElementById(\"origin\").value = origin;\n    const index = origin.indexOf(\":\");\n    const index2 = index + 3;\n    document.getElementById(\"rpid\").value = origin.substr(index2);\n    document.getElementById('autoSubmit').click();\n}, 1000);"
              },
              "formFieldsList": {
                "value": [
                  {
                    "propertyName": "origin",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "propertyName": "rpid",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Get Origin"
              },
              "customCSS": {
                "value": ".hidden-button {\n  display: none;\n}"
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              }
            },
            "idUnique": "cp425xlq8g"
          },
          "position": {
            "x": 1572.8820861678005,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "te6t0zwohr",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "readAllDevices",
            "type": "action",
            "properties": {
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "setFilterFlag": {
                "value": true
              },
              "statusFilter": {
                "value": "ACTIVE"
              },
              "workforceDeviceTypes": {
                "value": [
                  "SMS",
                  "VOICE",
                  "TOTP",
                  "PLATFORM",
                  "SECURITY_KEY",
                  "OATH_TOKEN",
                  "YUBIKEY",
                  "PINGID_DESKTOP",
                  "PINGID_MOBILE",
                  "EMAIL"
                ]
              },
              "deviceTypes": {
                "value": [
                  "EMAIL",
                  "SMS",
                  "VOICE",
                  "TOTP"
                ]
              },
              "nodeTitle": {
                "value": "Read All Devices"
              }
            },
            "idUnique": "4wmq2yfyv3"
          },
          "position": {
            "x": 2096.1473922902496,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "na4hef71sq",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "undefined": {
                "value": {}
              },
              "customHTML": {
                "value": "<!-- Check whether the end-user browser is supporting WebAuthn to understand if security keys and platform biomentic method are usable -->\n<form id=\"webAuthenSupportForm\" method=\"post\">\n    <input type=\"hidden\" name=\"webAuthenSupport\" id=\"webAuthenSupport\">\n    <button type=\"hidden\" data-skcomponent=\"skbutton\" data-skbuttontype=\"form-submit\" class=\"hidden-button\"  data-skbuttonvalue=\"submit\" data-skform=\"webAuthenSupportForm\" id=\"autoSubmit\">Next</button>\n</form>"
              },
              "customScript": {
                "value": "function isWebAuthnSupported() {\n    try {\n        if (!window.PublicKeyCredential) {\n            console.log(\"Web Authentication API is not supported on this browser.\");\n            return false;\n        }\n        return true;\n    } catch (error) {\n        console.log(error);\n        return false;\n    }\n}\n\nfunction isWebAuthnPlatformAuthenticatorAvailableV2() {\n\n    var timer;\n\n    var isTimeout = false;\n\n    var p1 = new Promise(function (resolve) {\n        timer = setTimeout(function () {\n            console.log(\"isWebAuthnPlatformAuthenticatorAvailable - Timeout\");\n            isTimeout = true;\n            resolve(false);\n        }, 1500);\n    });\n\n    var p2 = new Promise(function (resolve) {\n\n        if (isWebAuthnSupported() && window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable) {\n\n            resolve(\n                window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().catch(function (err) {\n                    console.log(err);\n                    return false;\n                }));\n        }\n        else {\n            resolve(false);\n        }\n    });\n\n    return Promise.race([p1, p2]).then(function (res) {\n        clearTimeout(timer);\n        console.log(\"isWebAuthnPlatformAuthenticatorAvailable - \" + res);\n\n        return { supported: res, timeout: isTimeout };\n    });\n}\n\nsetTimeout(function () {\n    const authSuported = isWebAuthnSupported();\n    isWebAuthnPlatformAuthenticatorAvailableV2().then(function (result) {\n        document.forms['webAuthenSupportForm'].elements[\"webAuthenSupport\"].value = result.supported ? \"FULL\" : (authSuported ? \"SECURITY_KEY_ONLY\" : \"NONE\");\n        document.getElementById('autoSubmit').click();\n    }).catch(function (err) {\n        document.forms['webAuthenSupportForm'].elements[\"webAuthenSupport\"].value = authSuported ? \"SECURITY_KEY_ONLY\" : \"NONE\";\n        document.getElementById('autoSubmit').click();\n    });\n}, 400);"
              },
              "nodeTitle": {
                "value": "Gather Browser Information"
              },
              "formFieldsList": {
                "value": [
                  {
                    "propertyName": "webAuthenSupport",
                    "preferredControlType": "textField",
                    "preferredDataType": "boolean",
                    "value": "",
                    "hashedVisibility": false,
                    "displayName": "webAuthenSupport"
                  },
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "customCSS": {
                "value": ".hidden-button {\n  display: none;\n}"
              },
              "inputSchema": {
                "value": {}
              },
              "outputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"buttonValue\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"propertyName\": \"buttonValue\"\n\t\t},\n\t\t\"webAuthenSupport\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"propertyName\": \"webAuthenSupport\"\n\t\t}\n\t}\n}"
              },
              "validationRules": {
                "value": []
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              }
            },
            "idUnique": "flrcup732i"
          },
          "position": {
            "x": 2357.7800453514737,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "p8n9w6rdgy",
            "nodeType": "EVAL",
            "properties": {
              "6kd2knl0eb": {
                "value": "anyTriggersFalse"
              },
              "na4hef71sq": {
                "value": "allTriggersTrue"
              }
            }
          },
          "position": {
            "x": 2212.4285714285716,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "tir7r8fvkp",
            "nodeType": "EVAL",
            "properties": {
              "kfqbhjjaqb": {
                "value": "allTriggersTrue"
              }
            }
          },
          "position": {
            "x": 2503.1315192743764,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "kfqbhjjaqb",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "outputSchema": {
                "value": "{\n  \"output\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"usableDevices\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"string\"\n        }\n      },\n      \"count\": {\n        \"type\": \"number\"\n      }\n    }\n  }\n}\n"
              },
              "code": {
                "value": "module.exports = a = async ({ params }) => {\n    console.log('params: ', params)\n\n    try {\n        if (!params.usableDevices || !params.allowedDeviceTypes || !params.webAuthenSupport) {\n            throw new Error(\"Missing required parameters: usableDevices, allowedDeviceTypes, or webAuthenSupport\");\n        }\n\n        let usableDevices = JSON.parse(params.usableDevices);\n        if (!Array.isArray(usableDevices)) {\n            throw new Error(\"usableDevices must be a JSON array string\");\n        }\n\n        const allowedDeviceTypes = params.allowedDeviceTypes.split(\",\");\n        const allowSMS = allowedDeviceTypes.includes(\"SMS\");\n        const allowEmail = allowedDeviceTypes.includes(\"EMAIL\");\n        const allowTOTP = allowedDeviceTypes.includes(\"TOTP\");\n        const allowFIDO2 = allowedDeviceTypes.includes(\"FIDO2\");\n        const allowVOICE = allowedDeviceTypes.includes(\"VOICE\");\n\n        // Remove FIDO-related devices if no WebAuthn support\n        if (params.webAuthenSupport === \"NONE\") {\n            usableDevices = usableDevices.filter(device => {\n                return device !== \"SECURITY_KEY\" && device !== \"PLATFORM\" && device !== \"FIDO2\";\n            });\n        }\n\n        // Filter to only allowed devices\n        usableDevices = usableDevices.filter(device => {\n            return (device === \"SMS\" && allowSMS)\n                || (device === \"EMAIL\" && allowEmail)\n                || (device === \"TOTP\" && allowTOTP)\n                || (device === \"FIDO2\" && allowFIDO2)\n                || (device === \"VOICE\" && allowVOICE);\n        });\n\n        // Remove PLATFORM if only security key is supported\n        if (params.webAuthenSupport === \"SECURITY_KEY_ONLY\") {\n            usableDevices = usableDevices.filter(device => device !== \"PLATFORM\");\n        }\n\n        // Optional: Prioritize certain devices\n        const reorderPriority = [\"FIDO2\", \"SMS\", \"VOICE\"]; // Prioritization order\n        for (const type of reorderPriority.reverse()) {\n            if (usableDevices.includes(type)) {\n                const index = usableDevices.indexOf(type);\n                if (index !== -1) {\n                    usableDevices.splice(index, 1);\n                    usableDevices.unshift(type);\n                }\n            }\n        }\n\n        return {\n            usableDevices,\n            count: usableDevices.length\n        };\n\n    } catch (error) {\n        console.error('Error:', error.message);\n        throw new Error(`Device filtering failed: ${error.message}`);\n    }\n}\n"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "usableDevices",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"allowedtypes\",\n        \"data\": \"{{local.te6t0zwohr.payload.output.rawResponse._embedded.allowedtypes}}\",\n        \"tooltip\": \"{{local.te6t0zwohr.payload.output.rawResponse._embedded.allowedtypes}}\",\n        \"children\": [\n          {\n            \"text\": \"allowedtypes\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "webAuthenSupport",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"webAuthenSupport\",\n        \"data\": \"{{local.na4hef71sq.payload.output.webAuthenSupport}}\",\n        \"tooltip\": \"{{local.na4hef71sq.payload.output.webAuthenSupport}}\",\n        \"children\": [\n          {\n            \"text\": \"webAuthenSupport\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "allowedDeviceTypes",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"allowedDeviceTypes\",\n        \"data\": \"{{global.parameters.allowedDeviceTypes}}\",\n        \"tooltip\": \"{{global.parameters.allowedDeviceTypes}}\",\n        \"children\": [\n          {\n            \"text\": \"allowedDeviceTypes\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Filter Unusable Device Types"
              }
            },
            "idUnique": "xhc3n6zqjk"
          },
          "position": {
            "x": 2648.4829931972786,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "2ewaah2axe",
            "nodeType": "EVAL",
            "properties": {
              "undefined": {
                "value": "anyTriggersFalse"
              },
              "8h2rnuqdua": {
                "value": "anyTriggersFalse"
              },
              "7mu81oaiqx": {
                "value": "anyTriggersFalse"
              },
              "8a47pr25qk": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2764.764172335601,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "orf96wndkv",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "ALessThanB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"0\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"count\",\n        \"data\": \"{{local.kfqbhjjaqb.payload.output.count}}\",\n        \"tooltip\": \"{{local.kfqbhjjaqb.payload.output.count}}\",\n        \"children\": [\n          {\n            \"text\": \"count\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Check If There Are Usable Device Types?"
              },
              "type": {
                "value": "number"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 2910.115646258503,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8tluota6xx",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "createErrorResponse",
            "type": "action",
            "properties": {
              "nodeTitle": {
                "value": "Return Error Response"
              },
              "claimsNameValuePairs": {
                "value": [
                  {
                    "name": "ciam_errorMessage",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"errorMessage\",\n        \"data\": \"{{local.8tr8nq23dr.payload.output.errorMessage}}\",\n        \"tooltip\": \"{{local.8tr8nq23dr.payload.output.errorMessage}}\",\n        \"children\": [\n          {\n            \"text\": \"errorMessage\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.02471187479240111,
                    "label": "ciam_errorMessage (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "errorMessage"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#ffc8c1ff"
              }
            }
          },
          "position": {
            "x": 951,
            "y": 6393.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xa83bdvhbj",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 801,
            "y": 6393.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8tr8nq23dr",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"errorMessage\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Error Message\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"errorMessage\"\n\t\t}\n\t}\n}"
              },
              "nodeTitle": {
                "value": "Error"
              }
            }
          },
          "position": {
            "x": 681,
            "y": 6393.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "2tv7r1hqp9",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "ALessThanB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"size\",\n        \"data\": \"{{local.te6t0zwohr.payload.output.rawResponse.size}}\",\n        \"tooltip\": \"{{local.te6t0zwohr.payload.output.rawResponse.size}}\",\n        \"children\": [\n          {\n            \"text\": \"size\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"maxAllowedDevices\",\n        \"data\": \"{{local.te6t0zwohr.payload.output.rawResponse._embedded.mfaSettings.pairing.maxAllowedDevices}}\",\n        \"tooltip\": \"{{local.te6t0zwohr.payload.output.rawResponse._embedded.mfaSettings.pairing.maxAllowedDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"maxAllowedDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Can User Register Another Device?"
              },
              "type": {
                "value": "number"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "idUnique": "rn1pim6e9s"
          },
          "position": {
            "x": 3171.7482993197277,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "jh39me4hnk",
            "nodeType": "EVAL",
            "properties": {
              "cidzpskzeu": {
                "value": "anyTriggersFalse"
              },
              "2tv7r1hqp9": {
                "value": "allTriggersTrue"
              }
            }
          },
          "position": {
            "x": 3026.396825396825,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "cidzpskzeu",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"No compatible device found. \"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2910.115646258503,
            "y": 737.2653061224489
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wc0jfkkr3z",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"usableDevices\": {\n\t\t\t\"type\": \"array\",\n\t\t\t\"displayName\": \"Usable Devices\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"usableDevices\"\n\t\t},\n\t\t\"rpid\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"rpid\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"rpid\"\n\t\t},\n\t\t\"origin\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"origin\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"origin\"\n\t\t}\n\t}\n}"
              },
              "nodeTitle": {
                "value": "Authentication method selection"
              }
            }
          },
          "position": {
            "x": 353,
            "y": 1177.0000559753707
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "qj3vhzekmd",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "bdbxj0ct3v": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 3288.0294784580497,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fly72kbjyx",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "wc0jfkkr3z"
              },
              "typeDisplayNames": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"{{local.te6t0zwohr.payload.output.rawResponse._embedded.typeDisplayNames}}\"\n      }\n    ]\n  }\n]"
              },
              "usableDevices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"usableDevices\",\n        \"data\": \"{{local.kfqbhjjaqb.payload.output.usableDevices}}\",\n        \"tooltip\": \"{{local.kfqbhjjaqb.payload.output.usableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"usableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rpid": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"rpid\",\n        \"data\": \"{{local.4cgf9zgns7.payload.output.rpid}}\",\n        \"tooltip\": \"{{local.4cgf9zgns7.payload.output.rpid}}\",\n        \"children\": [\n          {\n            \"text\": \"rpid\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "origin": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"origin\",\n        \"data\": \"{{local.4cgf9zgns7.payload.output.origin}}\",\n        \"tooltip\": \"{{local.4cgf9zgns7.payload.output.origin}}\",\n        \"children\": [\n          {\n            \"text\": \"origin\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 3462.4512471655325,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "bdbxj0ct3v",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"You must remove a device before you can add another.\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 3171.7482993197277,
            "y": 737.2653061224489
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "cxjw4q2ocj",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{local.qfijpdejzw.payload.output.method}}\",\n        \"name\": \"method\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"SMS\"\n      }\n    ]\n  }\n]",
                    "id": "dagi6ktntv"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"VOICE\"\n      }\n    ]\n  }\n]",
                    "id": "gsohfg2kar"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"FIDO2\"\n      }\n    ]\n  }\n]",
                    "id": "7j5ae87a0v"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"EMAIL\"\n      }\n    ]\n  }\n]",
                    "id": "s7618p926f"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Check Method Selected"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "idUnique": "pptjxpczig"
          },
          "position": {
            "x": 3247,
            "y": 1170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ocsgnkoz0e",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 3367,
            "y": 1170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "4m767nsx46",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"result\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Result\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"result\"\n\t\t},\n\t\t\"authMethod\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Auth Method\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"authMethod\"\n\t\t}\n\t}\n}"
              },
              "nodeTitle": {
                "value": "Success"
              }
            }
          },
          "position": {
            "x": 681,
            "y": 6063.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "vi56defl6q",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "createSuccessResponse",
            "type": "action",
            "properties": {
              "message": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Success\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"method\",\n        \"data\": \"{{local.4m767nsx46.payload.output.method}}\",\n        \"tooltip\": \"{{local.4m767nsx46.payload.output.method}}\",\n        \"children\": [\n          {\n            \"text\": \"method\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "claimsNameValuePairs": {
                "value": [
                  {
                    "name": "ciam_authMethod",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"authMethod\",\n        \"data\": \"{{local.4m767nsx46.payload.output.authMethod}}\",\n        \"tooltip\": \"{{local.4m767nsx46.payload.output.authMethod}}\",\n        \"children\": [\n          {\n            \"text\": \"authMethod\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.15962929086316624,
                    "label": "ciam_authMethod (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "authMethod"
                  },
                  {
                    "name": "ciam_subflowResult",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"result\",\n        \"data\": \"{{local.4m767nsx46.payload.output.result}}\",\n        \"tooltip\": \"{{local.4m767nsx46.payload.output.result}}\",\n        \"children\": [\n          {\n            \"text\": \"result\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.9735546348047224,
                    "label": "ciam_subflowResult (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "result"
                  },
                  {
                    "name": "RememberMe",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"RememberMe\",\n        \"data\": \"{{global.variables.RememberMe}}\",\n        \"tooltip\": \"{{global.variables.RememberMe}}\",\n        \"children\": [\n          {\n            \"text\": \"RememberMe\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.09050566853415398,
                    "label": "RememberMe (boolean - flowInstance)",
                    "type": "boolean",
                    "nameDefault": "RememberMe"
                  },
                  {
                    "name": "manageAccountFlag",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"manageAccountFlag\",\n        \"data\": \"{{global.variables.manageAccountFlag}}\",\n        \"tooltip\": \"{{global.variables.manageAccountFlag}}\",\n        \"children\": [\n          {\n            \"text\": \"manageAccountFlag\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.08213359060151193,
                    "label": "manageAccountFlag (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "manageAccountFlag"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Return Success Response"
              },
              "backgroundColor": {
                "value": "#9dc967ff"
              }
            },
            "idUnique": "r7q0vbqtat",
            "isDisabled": false
          },
          "position": {
            "x": 951,
            "y": 6063.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "s0wuh3cmeu",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "dc2mhwx86e"
              },
              "deviceType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{local.qfijpdejzw.payload.output.method}}\",\n        \"name\": \"method\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "phone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"{{local.qfijpdejzw.payload.output.countryCode}}\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{local.qfijpdejzw.payload.output.methodValue}}\",\n        \"name\": \"methodValue\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "usableDevices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"usableDevices\",\n        \"data\": \"{{local.wc0jfkkr3z.payload.output.usableDevices}}\",\n        \"tooltip\": \"{{local.wc0jfkkr3z.payload.output.usableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"usableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rpid": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"rpid\",\n        \"data\": \"{{local.wc0jfkkr3z.payload.output.rpid}}\",\n        \"tooltip\": \"{{local.wc0jfkkr3z.payload.output.rpid}}\",\n        \"children\": [\n          {\n            \"text\": \"rpid\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "email": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{local.qfijpdejzw.payload.output.methodValue}}\",\n        \"name\": \"methodValue\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "78v8wyp1il"
          },
          "position": {
            "x": 3517,
            "y": 1170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "pjzv5pikab",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "createDevice",
            "type": "action",
            "properties": {
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "workforceDeviceType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.m0hxpev7nt.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.m0hxpev7nt.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "status": {
                "value": "ACTIVATION_REQUIRED"
              },
              "phone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"phone\",\n        \"data\": \"{{local.dc2mhwx86e.payload.output.phone}}\",\n        \"tooltip\": \"{{local.dc2mhwx86e.payload.output.phone}}\",\n        \"children\": [\n          {\n            \"text\": \"phone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "email": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{local.dc2mhwx86e.payload.output.email}}\",\n        \"tooltip\": \"{{local.dc2mhwx86e.payload.output.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Create OTP Device"
              },
              "customNotificationPolicyId": {
                "value": "{}"
              },
              "customTemplateVariant": {
                "value": "{}"
              },
              "deviceType": {
                "value": "enterDeviceType"
              },
              "customDeviceType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceType\",\n        \"data\": \"{{local.dc2mhwx86e.payload.output.deviceType}}\",\n        \"tooltip\": \"{{local.dc2mhwx86e.payload.output.deviceType}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "templateVariables": {
                "value": [
                  {
                    "name": "codeValidityDuration",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"codeValidityDuration\",\n        \"data\": \"{{global.company.variables.codeValidityDuration}}\",\n        \"tooltip\": \"{{global.company.variables.codeValidityDuration}}\",\n        \"children\": [\n          {\n            \"text\": \"codeValidityDuration\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              }
            },
            "idUnique": "xjdwbd8w5n"
          },
          "position": {
            "x": 947,
            "y": 2467.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "thtxgh5tye",
            "nodeType": "EVAL",
            "properties": {
              "undefined": {
                "value": "anyTriggersFalse"
              },
              "x4iurqyl99": {
                "value": "anyTriggersFalse"
              },
              "ptg682rh3f": {
                "value": "anyTriggersFalse"
              },
              "qz2aml0p13": {
                "value": "anyTriggersFalse"
              },
              "gnmbshsowi": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1067,
            "y": 2467.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "zqb2rroahz",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.qdsmqnczwr.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.qdsmqnczwr.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"RESEND\"\n      }\n    ]\n  }\n]",
                    "id": "1uplmn0ljy"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"CANCEL\"\n      }\n    ]\n  }\n]",
                    "id": "dxhc9sru4p"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Check User Selection "
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "caseSensitive": {
                "value": false
              }
            }
          },
          "position": {
            "x": 1761,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wtcsrlx6i1",
            "nodeType": "EVAL",
            "properties": {
              "zqb2rroahz": {
                "value": "allTriggersTrue"
              }
            }
          },
          "position": {
            "x": 1611,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "h00gom93pv",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1881,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "eqr4ril6n5",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1881,
            "y": 3453.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "slu740f2kg",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "deleteDevice",
            "type": "action",
            "properties": {
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"ciam_deviceId\",\n        \"data\": \"{{global.variables.ciam_deviceId}}\",\n        \"tooltip\": \"{{global.variables.ciam_deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"ciam_deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Delete Previous Device"
              },
              "nodeDescription": {
                "value": "Delete the non activated device to create a new one instead"
              }
            },
            "idUnique": "iqu9fg7yzw"
          },
          "position": {
            "x": 2571,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "zva38sw55w",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "wc0jfkkr3z"
              },
              "usableDevices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"usableDevices\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.usableDevices}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.usableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"usableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "typeDisplayNames": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"typeDisplayNames\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.typeDisplayNames}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.typeDisplayNames}}\",\n        \"children\": [\n          {\n            \"text\": \"typeDisplayNames\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rpid": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"rpid\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.rpid}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.rpid}}\",\n        \"children\": [\n          {\n            \"text\": \"rpid\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2317,
            "y": 3270
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "car7f7wytu",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1867,
            "y": 3180
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "kmq13sjqim",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "7qi7idcwvv"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceId\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.deviceId}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "otp": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"codetextbox\",\n        \"data\": \"{{local.qdsmqnczwr.payload.output.codetextbox}}\",\n        \"tooltip\": \"{{local.qdsmqnczwr.payload.output.codetextbox}}\",\n        \"children\": [\n          {\n            \"text\": \"codetextbox\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceType\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.deviceType}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.deviceType}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "phone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"phone\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.phone}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.phone}}\",\n        \"children\": [\n          {\n            \"text\": \"phone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2301,
            "y": 3453.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "eh45uuo9ep",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "inputSchema": {
                "value": "{\n    \"type\": \"object\",\n    \"properties\": {\n        \"deviceType\": {\n            \"type\": \"string\",\n            \"displayName\": \"deviceType\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"deviceType\"\n        },\n        \"countryCode\": {\n            \"type\": \"string\",\n            \"displayName\": \"countryCode\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"countryCode\"\n        },\n        \"phone\": {\n            \"type\": \"string\",\n            \"displayName\": \"phone\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"phone\"\n        },\n        \"email\": {\n            \"type\": \"string\",\n            \"displayName\": \"email\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"email\"\n        },\n        \"usableDevices\": {\n            \"type\": \"array\",\n            \"displayName\": \"Usable Devices\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"usableDevices\"\n        },\n        \"rpid\": {\n            \"type\": \"string\",\n            \"displayName\": \"rpid\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"rpid\"\n        },\n        \"resendMessage\": {\n            \"type\": \"string\",\n            \"displayName\": \"resendMessage\",\n            \"preferredControlType\": \"textField\",\n            \"enableParameters\": true,\n            \"propertyName\": \"resendMessage\",\n            \"isExpanded\": true\n        },\n        \"errorMessage\": {\n            \"propertyName\": \"errorMessage\",\n            \"preferredControlType\": \"textField\",\n            \"isExpanded\": true,\n            \"displayName\": \"Error Message\",\n            \"type\": \"string\",\n            \"enableParameters\": true\n        }\n    }\n}"
              },
              "nodeTitle": {
                "value": "SMS/EMAIL OTP"
              }
            }
          },
          "position": {
            "x": 693,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fc155lnlgf",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "idUnique": "cf769on2q2",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "eh45uuo9ep"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.pjzv5pikab.payload.output.device.id}}\",\n        \"tooltip\": \"{{local.pjzv5pikab.payload.output.device.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "usableDevices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"usableDevices\",\n        \"data\": \"{{local.dc2mhwx86e.payload.output.usableDevices}}\",\n        \"tooltip\": \"{{local.dc2mhwx86e.payload.output.usableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"usableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "typeDisplayNames": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"typeDisplayNames\",\n        \"data\": \"{{local.dc2mhwx86e.payload.output.typeDisplayNames}}\",\n        \"tooltip\": \"{{local.dc2mhwx86e.payload.output.typeDisplayNames}}\",\n        \"children\": [\n          {\n            \"text\": \"typeDisplayNames\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceType\",\n        \"data\": \"{{local.dc2mhwx86e.payload.output.deviceType}}\",\n        \"tooltip\": \"{{local.dc2mhwx86e.payload.output.deviceType}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "countryCode": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"countryCode\",\n        \"data\": \"{{local.dc2mhwx86e.payload.output.countryCode}}\",\n        \"tooltip\": \"{{local.dc2mhwx86e.payload.output.countryCode}}\",\n        \"children\": [\n          {\n            \"text\": \"countryCode\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "phone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"phone\",\n        \"data\": \"{{local.dc2mhwx86e.payload.output.phone}}\",\n        \"tooltip\": \"{{local.dc2mhwx86e.payload.output.phone}}\",\n        \"children\": [\n          {\n            \"text\": \"phone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rpid": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"rpid\",\n        \"data\": \"{{local.dc2mhwx86e.payload.output.rpid}}\",\n        \"tooltip\": \"{{local.dc2mhwx86e.payload.output.rpid}}\",\n        \"children\": [\n          {\n            \"text\": \"rpid\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "email": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{local.dc2mhwx86e.payload.output.email}}\",\n        \"tooltip\": \"{{local.dc2mhwx86e.payload.output.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1487,
            "y": 2467.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "dc2mhwx86e",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"deviceType\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"deviceType\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"deviceType\"\n\t\t},\n\t\t\"phone\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"phone\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"phone\"\n\t\t},\n\t\t\"email\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"email\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"email\"\n\t\t},\n\t\t\"usableDevices\": {\n\t\t\t\"type\": \"array\",\n\t\t\t\"displayName\": \"Usable Devices\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"usableDevices\"\n\t\t},\n\t\t\"rpid\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"rpid\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"rpid\"\n\t\t}\n\t}\n}"
              },
              "nodeTitle": {
                "value": "Create OTP Device"
              }
            }
          },
          "position": {
            "x": 677,
            "y": 2467.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hmvyn1idpv",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "updateUserMFAEnabled",
            "type": "action",
            "properties": {
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "mfaEnabled": {
                "value": true
              },
              "nodeTitle": {
                "value": "Enable MFA For User"
              }
            },
            "idUnique": "wp93gfzwck"
          },
          "position": {
            "x": 1240,
            "y": 3813.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ew8wmbtjs7",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "4m767nsx46"
              },
              "method": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"complete\"\n      }\n    ]\n  }\n]"
              },
              "result": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"SUCCESS\"\n      }\n    ]\n  }\n]"
              },
              "authMethod": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"string-manipulation.svg\",\n        \"url\": \"newValue\",\n        \"data\": \"{{local.hili7n1bzj.payload.output.newValue}}\",\n        \"tooltip\": \"{{local.hili7n1bzj.payload.output.newValue}}\",\n        \"children\": [\n          {\n            \"text\": \"newValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "92d56z4soz"
          },
          "position": {
            "x": 3607,
            "y": 4170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "rx5c39j4cx",
            "nodeType": "EVAL",
            "properties": {
              "undefined": {
                "value": "anyTriggersFalse"
              },
              "ehs2szm22u": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1360,
            "y": 3813.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ehs2szm22u",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"There was a problem with updating mfa status.\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "6zql3wfgs6"
          },
          "position": {
            "x": 1240,
            "y": 3933.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9a49qb1y7k",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 797,
            "y": 2467.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ug7cydwdhw",
            "nodeType": "EVAL",
            "properties": {
              "undefined": {
                "value": "allTriggersTrue"
              },
              "3zzt3vrb0k": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1090,
            "y": 3813.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "uoppd09l5f",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "activateDevice",
            "type": "action",
            "properties": {
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"ciam_deviceId\",\n        \"data\": \"{{global.variables.ciam_deviceId}}\",\n        \"tooltip\": \"{{global.variables.ciam_deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"ciam_deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "otp": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"otp\",\n        \"data\": \"{{local.7qi7idcwvv.payload.output.otp}}\",\n        \"tooltip\": \"{{local.7qi7idcwvv.payload.output.otp}}\",\n        \"children\": [\n          {\n            \"text\": \"otp\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Activate OTP Device"
              }
            },
            "idUnique": "0c24903nfo"
          },
          "position": {
            "x": 970,
            "y": 3813.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "w4i8a0zmx4",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Incorrect code. Please try again, select Resend Code, or contact Owner Services.\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Invalid OTP "
              }
            }
          },
          "position": {
            "x": 1237,
            "y": 4140
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "3zzt3vrb0k",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"code\",\n        \"data\": \"{{local.uoppd09l5f.payload.error.code}}\",\n        \"tooltip\": \"{{local.uoppd09l5f.payload.error.code}}\",\n        \"children\": [\n          {\n            \"text\": \"code\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"invalidOtp\"\n      }\n    ]\n  }\n]",
                    "id": "06n6y4w6fp"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"tooManyOtpRetries\"\n      }\n    ]\n  }\n]",
                    "id": "0qc31sqji3"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"otpSessionExpired\"\n      }\n    ]\n  }\n]",
                    "id": "28nzlh5l3g"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Error Type"
              }
            }
          },
          "position": {
            "x": 963,
            "y": 4173.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "vqogwo2qjm",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1087,
            "y": 4140
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ux1izu65m4",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1083,
            "y": 4413.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "7qi7idcwvv",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"deviceType\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"deviceType\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"deviceType\"\n\t\t},\n\t\t\"phone\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"phone\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"phone\"\n\t\t},\n\t\t\"otp\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"otp\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"otp\"\n\t\t}\n\t}\n}"
              },
              "nodeTitle": {
                "value": "Activate OTP Device"
              }
            }
          },
          "position": {
            "x": 700,
            "y": 3813.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ih33zryjpu",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 820,
            "y": 3813.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "smnjhqmjr2",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"message\",\n        \"data\": \"{{local.uoppd09l5f.payload.error.message}}\",\n        \"tooltip\": \"{{local.uoppd09l5f.payload.error.message}}\",\n        \"children\": [\n          {\n            \"text\": \"message\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1233,
            "y": 4413.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ybbdsq2fzf",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "createDevice",
            "type": "action",
            "properties": {
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "workforceDeviceType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{local.m0hxpev7nt.payload.output.buttonValue}}\",\n        \"name\": \"buttonValue\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "status": {
                "value": "ACTIVATION_REQUIRED"
              },
              "phone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"countryCode\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.countryCode}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.countryCode}}\",\n        \"children\": [\n          {\n            \"text\": \"countryCode\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"phone\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.phone}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.phone}}\",\n        \"children\": [\n          {\n            \"text\": \"phone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "email": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.email}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Create device"
              },
              "customNotificationPolicyId": {
                "value": "{}"
              },
              "customTemplateVariant": {
                "value": "{}"
              },
              "deviceType": {
                "value": "enterDeviceType"
              },
              "customDeviceType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceType\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.deviceType}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.deviceType}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "templateVariables": {
                "value": [
                  {
                    "name": "codeValidityDuration",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"moustache\",\n        \"data\": \"{{global.company.variables.codeValidityDuration}}\",\n        \"name\": \"codeValidityDuration\",\n        \"children\": [\n          {\n            \"text\": \"\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              }
            },
            "idUnique": "pxastb7o9u"
          },
          "position": {
            "x": 2841,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wurft65sg6",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "ciam_deviceId",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.ybbdsq2fzf.payload.output.device.id}}\",\n        \"tooltip\": \"{{local.ybbdsq2fzf.payload.output.device.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.4472496990256749,
                    "label": "ciam_deviceId (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "id"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Update Device ID"
              }
            }
          },
          "position": {
            "x": 3111,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "jozso5l9gu",
            "nodeType": "EVAL",
            "properties": {
              "2n0qdc3qms": {
                "value": "anyTriggersFalse"
              },
              "0u4e3z1n5b": {
                "value": "anyTriggersFalse"
              },
              "l2xn2m2zxa": {
                "value": "anyTriggersFalse"
              },
              "i00dggjydf": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2961,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wdmeq58d57",
            "nodeType": "EVAL",
            "properties": {
              "y3zkvpoq4x": {
                "value": "anyTriggersFalse"
              },
              "0u4e3z1n5b": {
                "value": "anyTriggersFalse"
              },
              "lgvsqsc11o": {
                "value": "anyTriggersFalse"
              },
              "4he5hctlgw": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2691,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8oqliw5zps",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "ciam_deviceId",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.pjzv5pikab.payload.output.device.id}}\",\n        \"tooltip\": \"{{local.pjzv5pikab.payload.output.device.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.15417821113052121,
                    "label": "ciam_deviceId (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "id"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Device ID"
              },
              "backgroundColor": {
                "value": "#e3f0ffff"
              }
            }
          },
          "position": {
            "x": 1217,
            "y": 2467.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "jacbwkhwfc",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1337,
            "y": 2467.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "5y2z6x314y",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "createDevice",
            "type": "action",
            "properties": {
              "customNotificationPolicyId": {
                "value": "{}"
              },
              "customTemplateVariant": {
                "value": "{}"
              },
              "status": {
                "value": "ACTIVATION_REQUIRED"
              },
              "deviceType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"type\",\n        \"data\": \"{{local.vc8o1wnpis.payload.output.type}}\",\n        \"tooltip\": \"{{local.vc8o1wnpis.payload.output.type}}\",\n        \"children\": [\n          {\n            \"text\": \"type\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Create FIDO2 Device"
              },
              "rpId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"rpid\",\n        \"data\": \"{{local.vc8o1wnpis.payload.output.rpid}}\",\n        \"tooltip\": \"{{local.vc8o1wnpis.payload.output.rpid}}\",\n        \"children\": [\n          {\n            \"text\": \"rpid\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rpName": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Ping Web Authentication\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "ifndza9e6m"
          },
          "position": {
            "x": 977,
            "y": 4597.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "vc8o1wnpis",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "FIDO2"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"authenticatorAttachment\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Authenticator Attachment\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"authenticatorAttachment\"\n\t\t},\n\t\t\"rpid\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"rpid\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"rpid\"\n\t\t},\n\t\t\"type\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Type\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"type\"\n\t\t},\n\t\t\"usableDevices\": {\n\t\t\t\"type\": \"array\",\n\t\t\t\"displayName\": \"Usable Devices\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"usableDevices\"\n\t\t},\n\t\t\"origin\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"origin\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"origin\"\n\t\t}\n\t}\n}"
              }
            },
            "idUnique": "fkytz4qua5"
          },
          "position": {
            "x": 707,
            "y": 4597.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "t0my8smuad",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 827,
            "y": 4597.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "kbzya62ydz",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1367,
            "y": 4597.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "j0zgu89bdj",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 3367,
            "y": 1350
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "elvm9hs51q",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "vc8o1wnpis"
              },
              "authenticatorAttachment": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.decvvhflks.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.decvvhflks.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rpid": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"rpid\",\n        \"data\": \"{{local.wc0jfkkr3z.payload.output.rpid}}\",\n        \"tooltip\": \"{{local.wc0jfkkr3z.payload.output.rpid}}\",\n        \"children\": [\n          {\n            \"text\": \"rpid\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.decvvhflks.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.decvvhflks.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "usableDevices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"usableDevices\",\n        \"data\": \"{{local.wc0jfkkr3z.payload.output.usableDevices}}\",\n        \"tooltip\": \"{{local.wc0jfkkr3z.payload.output.usableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"usableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "typeDisplayNames": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"typeDisplayNames\",\n        \"data\": \"{{local.wc0jfkkr3z.payload.output.typeDisplayNames}}\",\n        \"tooltip\": \"{{local.wc0jfkkr3z.payload.output.typeDisplayNames}}\",\n        \"children\": [\n          {\n            \"text\": \"typeDisplayNames\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "origin": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"origin\",\n        \"data\": \"{{local.4cgf9zgns7.payload.output.origin}}\",\n        \"tooltip\": \"{{local.4cgf9zgns7.payload.output.origin}}\",\n        \"children\": [\n          {\n            \"text\": \"origin\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 3517,
            "y": 1350
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "53fy0avvam",
            "nodeType": "EVAL",
            "properties": {
              "l5zrshva1s": {
                "value": "anyTriggersFalse"
              },
              "zkdofvrmxu": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1097,
            "y": 4597.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "6kd2knl0eb",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"message\",\n        \"data\": \"{{local.te6t0zwohr.payload.error.message}}\",\n        \"tooltip\": \"{{local.te6t0zwohr.payload.error.message}}\",\n        \"children\": [\n          {\n            \"text\": \"message\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2096.1473922902496,
            "y": 737.2653061224489
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "6jkz2hx974",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "undefined": {
                "value": null
              },
              "customHTML": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"<div class=\\\"end-user-nano\\\">\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"<div class=\\\"bg-light d-flex flex-column justify-content-center align-items-center position-absolute top-0 start-0 bottom-0 end-0 overflow-auto\\\">\\n    <div class=\\\"mh-100\\\" style=\\\"max-width: 400px; width: 100%;\\\">\\n        <div class=\\\"card shadow mb-5\\\">\\n            <div class=\\\"card-body p-5 d-flex flex-column\\\">\\n                \"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"ciam_companyLogo\",\n        \"data\": \"{{global.parameters.ciam_companyLogo}}\",\n        \"tooltip\": \"{{global.parameters.ciam_companyLogo}}\",\n        \"children\": [\n          {\n            \"text\": \"{{global.parameters.ciam_companyLogo}}\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\\n                <h1 class=\\\"text-center mb-4\\\">\\n                    <svg viewBox=\\\"0 0 27 26\\\" role=\\\"presentation\\\" style=\\\"width: 20px; height: 20px;\\\">\\n                        <path\\n                            d=\\\"M10.2632 12.3158C13.6641 12.3158 16.4211 9.55881 16.4211 6.15789C16.4211 2.75698 13.6641 0 10.2632 0C6.86225 0 4.10527 2.75698 4.10527 6.15789C4.10527 9.55881 6.86225 12.3158 10.2632 12.3158Z\\\"\\n                            fill=\\\"#3D454D\\\"\\n                        />\\n                        <path\\n                            d=\\\"M26.6842 12.3158C26.6842 9.67474 24.5631 7.51263 21.9084 7.51263C19.2674 7.51263 17.1053 9.63369 17.1053 12.2884C17.1053 14.1495 18.1589 15.8326 19.8421 16.6263V23.9474L21.8947 26L25.3158 22.5789L23.2631 20.5263L25.3158 18.4737L23.6189 16.7768C25.4663 16.0653 26.6842 14.2863 26.6842 12.3158ZM21.8947 12.3158C21.1421 12.3158 20.5263 11.7 20.5263 10.9474C20.5263 10.1947 21.1421 9.57895 21.8947 9.57895C22.6474 9.57895 23.2631 10.1947 23.2631 10.9474C23.2631 11.7 22.6474 12.3158 21.8947 12.3158Z\\\"\\n                            fill=\\\"#3D454D\\\"\\n                        />\\n                        <path d=\\\"M15.6547 15.08C14.6011 14.6147 13.4653 14.3684 12.3158 14.3684H8.21053C3.68105 14.3684 0 18.0495 0 22.5789V25.3158H17.7895V17.7758C16.8726 17.0642 16.1337 16.1474 15.6547 15.08Z\\\" fill=\\\"#3D454D\\\" />\\n                    </svg>\\n                    Biometrics/Security Key\\n                </h1>\\n                <p class=\\\"text-muted text-center\\\">\\n                    Follow the directions your browser provides to finish Biometrics/Security Key pairing.\\n                </p>\\n                <p class=\\\"text-danger mdi mdi-alert-circle\\\" data-id=\\\"feedback\\\" data-skcomponent=\\\"skerror\\\"></p>\\n                <form id=\\\"error-form\\\" data-id=\\\"error-form\\\">\\n                    <button class=\\\"hidden-button\\\" data-skcomponent=\\\"skbutton\\\" data-skbuttontype=\\\"form-submit\\\"\\n                        data-skform=\\\"error-form\\\" data-skbuttonvalue=\\\"InvalidStateError\\\" id=\\\"invalidStateErrorButton\\\">\\n                        Next\\n                    </button>\\n                    <button class=\\\"hidden-button\\\" data-skcomponent=\\\"skbutton\\\" data-skbuttontype=\\\"form-submit\\\"\\n                        data-skform=\\\"error-form\\\" data-skbuttonvalue=\\\"SecurityError\\\" id=\\\"securityErrorButton\\\">\\n                        Next\\n                    </button>\\n                </form>\\n                <div class=\\\"d-flex flex-column mt-5\\\">\\n                    <button id=\\\"fidoButton\\\" class=\\\"btn btn-primary mb-3\\\">\\n                        Next\\n                    </button>\\n                </div>\\n                <form id=\\\"fido-form\\\" data-id=\\\"fido-form\\\" class=\\\"d-flex flex-column\\\">\\n                    <input type=\\\"hidden\\\" name=\\\"attestationValue\\\" id=\\\"attestationValue\\\" />\\n                    <button class=\\\"hidden-button\\\" data-skcomponent=\\\"skbutton\\\" data-skbuttontype=\\\"form-submit\\\"\\n                        data-skform=\\\"fido-form\\\" data-skbuttonvalue=\\\"submit\\\" id=\\\"attestationButton\\\">\\n                        Next\\n                    </button>\\n                    <button id=\\\"cancel\\\" class=\\\"btn btn-link\\\" data-skcomponent=\\\"skbutton\\\"\\n                        data-skbuttontype=\\\"next-event\\\" data-skform=\\\"fido-form\\\" data-skbuttonvalue=\\\"cancel\\\">\\n                        Cancel\\n                    </button>\\n                </form>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"</div>\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Pair FIDO2 Device"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "propertyName": "attestationValue",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false,
                    "displayName": ""
                  }
                ]
              },
              "inputSchema": {
                "value": "{\n\"type\": \"object\",\n   \"properties\": {\n      \"type\": {\n        \"displayName\": \"device type\",\n\t\t\t\"preferedControlType\": \"textField\",\n            \"enableParameters\": true\n      },\n      \"publicKeyCredentialCreationOptions\": {\n        \"displayName\": \"credentials\",\n\t\t\t\"preferedControlType\": \"textField\",\n         \"enableParameters\": true\n      }\n   }\n}"
              },
              "outputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"buttonValue\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"propertyName\": \"buttonValue\"\n\t\t},\n\t\t\"attestationValue\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"propertyName\": \"attestationValue\"\n\t\t}\n\t}\n}"
              },
              "customCSS": {
                "value": ".hidden-button{\n    display: none;\n}"
              },
              "customScript": {
                "value": "var authAbortController = window.PublicKeyCredential ? new AbortController() : null;\nvar authAbortSignal = window.PublicKeyCredential ? authAbortController.signal : null;\n\nfunction isWebAuthnSupported() {\n    if (!window.PublicKeyCredential) {\n        console.log(\"Web Authentication API is not supported on this browser.\");\n        return false;\n    }\n    return true;\n}\n\nfunction webAuthnRegistration(publicKeyCredentialCreationOptions) {\n    return new Promise(function (resolve, reject) {\n        if (!isWebAuthnSupported()) {\n            reject(Error(\"UnSupportedBrowserError\"));\n        }\n        resolve(register(publicKeyCredentialCreationOptions));\n    });\n}\n\nfunction register(publicKeyCredentialCreationOptions) {\n    return new Promise(function (resolve, reject) {\n        var options = JSON.parse(publicKeyCredentialCreationOptions);\n        var publicKeyCredential = {};\n        publicKeyCredential.rp = options.rp;\n        publicKeyCredential.user = options.user;\n        publicKeyCredential.user.id = new Uint8Array(options.user.id);\n        publicKeyCredential.challenge = new Uint8Array(options.challenge);\n        publicKeyCredential.pubKeyCredParams = options.pubKeyCredParams;\n        // Optional parameters\n        if ('timeout' in options) {\n            publicKeyCredential.timeout = options.timeout;\n        }\n        if ('excludeCredentials' in options) {\n            publicKeyCredential.excludeCredentials = credentialListConversion(options.excludeCredentials);\n        }\n        if ('authenticatorSelection' in options) {\n            publicKeyCredential.authenticatorSelection = options.authenticatorSelection;\n        }\n        if ('attestation' in options) {\n            publicKeyCredential.attestation = options.attestation;\n        }\n        if ('extensions' in options) {\n            publicKeyCredential.extensions = options.extensions;\n        }\n        navigator.credentials.create({ \"publicKey\": publicKeyCredential, \"signal\": authAbortSignal })\n            .then(function (newCredentialInfo) {\n                // Send new credential info to server for verification and registration.\n                var publicKeyCredential = {};\n                if ('id' in newCredentialInfo) {\n                    publicKeyCredential.id = newCredentialInfo.id;\n                }\n                if ('type' in newCredentialInfo) {\n                    publicKeyCredential.type = newCredentialInfo.type;\n                }\n                if ('rawId' in newCredentialInfo) {\n                    publicKeyCredential.rawId = toBase64Str(newCredentialInfo.rawId);\n                }\n                if ('authenticatorAttachment' in newCredentialInfo) {\n                    publicKeyCredential.authenticatorAttachment = newCredentialInfo.authenticatorAttachment;\n                }\n                if ('clientExtensionResults' in newCredentialInfo) {\n                    publicKeyCredential.clientExtensionResults = parseExtensions(newCredentialInfo);\n                }\n\n                if (!newCredentialInfo.response) {\n                    throw \"Missing 'response' attribute in credential response\";\n                }\n                var response = {};\n                response.clientDataJSON = toBase64Str(newCredentialInfo.response.clientDataJSON);\n                response.attestationObject = toBase64Str(newCredentialInfo.response.attestationObject);\n                publicKeyCredential.response = response;\n                resolve(JSON.stringify(publicKeyCredential));\n                document.getElementById(\"attestationValue\").value = JSON.stringify(publicKeyCredential);\n                document.getElementById(\"attestationButton\").click();\n            }).catch(function (err) {\n                if (err.name === \"InvalidStateError\") {\n                    document.getElementById(\"invalidStateErrorButton\").click();\n                } else if (err.name === \"SecurityError\" && err.message.includes(\"relying party ID\")) {\n                    document.getElementById(\"securityErrorButton\").click();\n                } else {\n                    console.log(err);\n                    reject(Error(err.name));\n                }\n            });\n    });\n}\n\nfunction credentialListConversion(list) {\n    var credList = [];\n    for (var i = 0; i < list.length; i++) {\n        var cred = {\n            type: list[i].type,\n            id: new Uint8Array(list[i].id)\n        };\n        if (list[i].transports) {\n            cred.transports = list[i].transports;\n        }\n        credList.push(cred);\n    }\n    return credList;\n}\n\nfunction parseExtensions(newCredentialInfo) {\n    let extData = null;\n    if (typeof newCredentialInfo?.getClientExtensionResults === 'function') {\n        extData = newCredentialInfo.getClientExtensionResults();\n    }\n\n    return extData;\n}\n\nfunction toBase64Str(bin) {\n    return btoa(String.fromCharCode.apply(null, new Uint8Array(bin)));\n}\nconst fidoButton = document.getElementById(\"fidoButton\");\nfidoButton.addEventListener(\"click\", startFido);\nfunction startFido() {\n    webAuthnRegistration('{{{skjson publicKeyCredentialCreationOptions}}}');\n}"
              },
              "validationRules": {
                "value": []
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"type\",\n        \"data\": \"{{local.vc8o1wnpis.payload.output.type}}\",\n        \"tooltip\": \"{{local.vc8o1wnpis.payload.output.type}}\",\n        \"children\": [\n          {\n            \"text\": \"type\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "publicKeyCredentialCreationOptions": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"publicKeyCredentialCreationOptions\",\n        \"data\": \"{{local.5y2z6x314y.payload.output.rawResponse.publicKeyCredentialCreationOptions}}\",\n        \"tooltip\": \"{{local.5y2z6x314y.payload.output.rawResponse.publicKeyCredentialCreationOptions}}\",\n        \"children\": [\n          {\n            \"text\": \"publicKeyCredentialCreationOptions\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              }
            }
          },
          "position": {
            "x": 1247,
            "y": 4597.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "iru6qhsncf",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "activateDevice",
            "type": "action",
            "properties": {
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.5y2z6x314y.payload.output.device.id}}\",\n        \"tooltip\": \"{{local.5y2z6x314y.payload.output.device.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "attestation": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"attestationValue\",\n        \"data\": \"{{local.6jkz2hx974.payload.output.attestationValue}}\",\n        \"tooltip\": \"{{local.6jkz2hx974.payload.output.attestationValue}}\",\n        \"children\": [\n          {\n            \"text\": \"attestationValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "origin": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"origin\",\n        \"data\": \"{{local.vc8o1wnpis.payload.output.origin}}\",\n        \"tooltip\": \"{{local.vc8o1wnpis.payload.output.origin}}\",\n        \"children\": [\n          {\n            \"text\": \"origin\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Activate FIDO2 Device"
              }
            },
            "idUnique": "9zfsaew1a1"
          },
          "position": {
            "x": 1787,
            "y": 4597.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wms6o050jb",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.6jkz2hx974.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.6jkz2hx974.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"submit\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"submit\"\n      }\n    ]\n  }\n]",
                    "id": "rcdv40p339"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"InvalidStateError\"\n      }\n    ]\n  }\n]",
                    "id": "cn8bjfqdm1"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"SecurityError\"\n      }\n    ]\n  }\n]",
                    "id": "sai4tizng9"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"cancel\"\n      }\n    ]\n  }\n]",
                    "id": "tvctu8a9q2"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Check Status"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 1517,
            "y": 4597.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "92ojigwmkh",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Device already paired.\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Device Already Paired"
              }
            }
          },
          "position": {
            "x": 1787,
            "y": 4717.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "v92cr3znpj",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "updateUserMFAEnabled",
            "type": "action",
            "properties": {
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "mfaEnabled": {
                "value": true
              },
              "nodeTitle": {
                "value": "Enable MFA for user"
              }
            },
            "idUnique": "8p58jrodsp"
          },
          "position": {
            "x": 2057,
            "y": 4597.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "h7w9k7knl9",
            "nodeType": "EVAL",
            "properties": {
              "2kjjqzwb93": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1907,
            "y": 4597.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "qz04gq3vc8",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "4m767nsx46"
              },
              "method": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"complete\"\n      }\n    ]\n  }\n]"
              },
              "result": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"SUCCESS\"\n      }\n    ]\n  }\n]"
              },
              "authMethod": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"user\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "92d56z4soz"
          },
          "position": {
            "x": 2297,
            "y": 4597.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "bp8zqi2ee3",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"There was a problem with updating MFA status.\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "6zql3wfgs6"
          },
          "position": {
            "x": 2297,
            "y": 4717.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "qj9x404zi1",
            "nodeType": "EVAL",
            "properties": {
              "bp8zqi2ee3": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2177,
            "y": 4597.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "qdsmqnczwr",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"type\": {\n\t\t\t\"displayName\": \"Device Type\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"maskedPhone\": {\n\t\t\t\"displayName\": \"Masked Phone\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"maskedEmail\": {\n\t\t\t\"displayName\": \"Masked Email\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"canChangeDevice\": {\n\t\t\t\"displayName\": \"Can change Device\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"resendMessage\": {\n\t\t\t\"displayName\": \"Resend Message\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"errorMessage\": {\n\t\t\t\"displayName\": \"Error Message\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"resendButtonLabel\": {\n\t\t\t\"displayName\": \"Resend Button Label\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"primaryButtonLabel\": {\n\t\t\t\"displayName\": \"Primary Button Label\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t}\n\t}\n}"
              },
              "outputSchema": {
                "value": {}
              },
              "customHTML": {
                "value": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n  <meta charset=\"UTF-8\" />\r\n  <title>Enter OTP</title>\r\n  <link rel=\"stylesheet\" href=\"./codeEntery_success.css\" />\r\n  <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\r\n  <!-- Auther: Swapnali Deshmukh -->\r\n  <!-- version:1.0.6 -->\r\n</head>\r\n\r\n<body>\r\n \r\n\r\n  <!-- Enter code page=============================================== -->\r\n  <div id=\"codeEntryModal\" class=\"main-container\">\r\n    <div class=\"modal\" id=\"entercodeModal\">\r\n      <h2>Enter Code</h2>\r\n      \r\n      <div\r\n          class=\"close-btn\"\r\n          id=\"cancelBtn\"\r\n          data-skcomponent=\"skbutton\"\r\n          data-skbuttontype=\"next-event\"\r\n          data-skbuttonvalue=\"CANCEL\"\r\n          data-skform=\"frmCode\"\r\n        >\r\n         <img width=\"20\" height=\"20\" src=\"https://content.marriottvacationclub.com/icon/close-x.png\" alt=\"external-close-button-it-and-computer-inkubators-basic-outline-inkubators\"/>\r\n        </div>\r\n      <!-- <div id=\"dev-translation-container\" style=\"margin-bottom: 12px;\">\r\n        <p id=\"dev-translation-msg\" style=\"font-weight: bold; color: green; margin: 0;\">\r\n        Translation text will be injected here by applyDevTranslation\r\n        </p>\r\n      </div> -->\r\n      <div class=\"info-box\" id=\"dynamicMessage\">\r\n        Please enter the code {{#ifEquals type \"SMS\"}} sent by text to\r\n        <strong>{{maskedPhone}}</strong> {{/ifEquals}} {{#ifEquals type\r\n        \"VOICE\"}} shared with <strong>{{maskedPhone}}</strong> {{/ifEquals}}\r\n        {{#ifEquals type \"EMAIL\"}} sent by email to\r\n        <strong>{{maskedEmail}}</strong> If you cannot access that email address, please contact <a href=\"https://www.marriottvacationclubs.com/s/contact-us\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"link-text\" style=\"color:black;\"><strong>Owner/Member Services</strong> </a> for assistance.{{/ifEquals}} <br /> <br>\r\n        <strong>Code is valid for 10 minutes.</strong>\r\n      </div>\r\n\r\n      <form id=\"frmCode\">\r\n        {{#if resendMessage}}\r\n        <div class=\"login--ConfirmationMessage\" data-skcomponent=\"sksuccess\">\r\n          <div class=\"login--NewCodeHasBeenSent\" style=\"display: flex;align-items: center;justify-content: flex-start;\">\r\n            <img src=\"https://content.marriottvacationclub.com/icon/green-check-circle.png\" style=\"margin-right: 5px;\"/>A new code has been sent.\r\n          </div>\r\n          <div data-layer=\"Bounding box\" class=\"BoundingBox\">\r\n            \r\n          </div>\r\n        </div>\r\n        {{/if}}\r\n         {{#if errorMessage}}\r\n        <div data-skcomponent=\"sksuccess\">\r\n          <div style=\"display: flex;align-items: center;justify-content: flex-start;\">\r\n            <div class=\"text-danger mdi mdi-alert-circle icon-padding error-div\" style=\"display: flex;align-items: center;justify-content: flex-start;\">\r\n            <img src=\"https://content.marriottvacationclub.com/icon/trianglewarning.png\" style=\"margin-right: 5px;\"/>You have reached the resend limit. Please try with another device or try again later.\r\n          </div>\r\n          <div data-layer=\"Bounding box\" class=\"BoundingBox\">\r\n            \r\n          </div>\r\n        </div>\r\n        {{/if}}     \r\n            \r\n          <div class=\"error-container text-center\">\r\n              <img src=\"https://content.marriottvacationclub.com/icon/trianglewarning.png\" id=\"error-icon\"\r\n                alt=\"Warning\" \r\n                style=\"width:20px;height:20px;vertical-align:middle;margin-right:5px; display:none;\">\r\n            <div class=\"text-danger mdi mdi-alert-circle icon-padding error-div\"\r\n                data-id=\"feedback\" data-skcomponent=\"skerror\" id=\"error-msg\"></div>\r\n          </div>\r\n        <div class=\"checkbox-group\">\r\n          <input\r\n              type=\"checkbox\"\r\n             \t       id=\"rememberMe\"\r\n\t\t       class=\"rememberMe-trust\"\r\n              trustBrowserChecked\r\n              {{global.variables.trustBrowserChecked}}\r\n            />\r\n          <label for=\"rememberme\" class=\"trust-device\">Trust this device</label>\r\n        </div>\r\n\r\n        <div class=\"input-group\">\r\n          <label for=\"codetextbox\">CODE</label>\r\n          <input\r\n              id=\"codetextbox\"\r\n              maxlength=\"6\"\r\n              class=\"otp-box GlobalLinkNoTx\"\r\n            />\r\n        </div>\r\n\r\n        <!-- Auto-submitted button -->\r\n        <button\r\n            id=\"Submit\"\r\n            type=\"submit\"\r\n            aria-label=\"click the button to Send code\"\r\n            style=\"display: none\"\r\n            data-skcomponent=\"skbutton\"\r\n            data-skbuttontype=\"form-submit\"\r\n            data-skbuttonvalue=\"NEXT\"\r\n            data-skform=\"frmCode\"\r\n          >\r\n            Submit\r\n          </button>\r\n\r\n        <div class=\"link-buttons\">\r\n          <button\r\n              id=\"RESEND\"\r\n              type=\"submit\"\r\n              aria-label=\"click the button to Send code\"\r\n              class=\"login--button-resend\"\r\n              data-skcomponent=\"skbutton\"\r\n              data-skbuttontype=\"next-event\"\r\n              data-skbuttonvalue=\"RESEND\"\r\n              data-skform=\"frmCode\"\r\n            >\r\n              Resend Code\r\n            </button>\r\n\r\n          {{#if canChangeDevice}}\r\n          <button\r\n              id=\"CANCEL\"\r\n              type=\"submit\"\r\n              aria-label=\"click the button to Send code\"\r\n              class=\"login--button-choosediffmodel\"\r\n              data-skcomponent=\"skbutton\"\r\n              data-skbuttontype=\"next-event\"\r\n              data-skbuttonvalue=\"CANCEL\"\r\n              data-skform=\"frmCode\" style=\"margin-left: 20px;\"\r\n            >\r\n              Choose Another Method\r\n           \r\n            </button>\r\n          {{/if}}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <script src=\"./codeEntery_success.js\"></script>\r\n</body>\r\n\r\n</html>\r\n"
              },
              "customCSS": {
                "value": "\r\n      * {\r\n        box-sizing: border-box;\r\n        margin: 0;\r\n        padding: 0;\r\n        font-family: Roboto;\r\n      }\r\n\r\n      body {\r\n        font-family: Arial, sans-serif;\r\n      }\r\n.error-container {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: first-start;\r\n  gap: 5px;\r\n}\r\n#error-msg {\r\n  position: relative;\r\n  display: inline-flex;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  text-align: left;\r\n}\r\n\r\n/* Show icon only when message text is not empty */\r\n#error-msg:not(:empty)::before {\r\n  content: url('https://content.marriottvacationclub.com/icon/trianglewarning.png');\r\n  display: inline-block;\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: 5px;\r\n  vertical-align: middle;\r\n}\r\n#error-msg:not(:empty) + .login--ConfirmationMessage {\r\n  display: none;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n.main-container {\r\n  padding: 20px;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n\r\n  /* Your background image */\r\n  /* background-image: url('./image/Screenshot\\ 2025-08-14\\ 235555.png');  */\r\n  background-size: cover;\r\n  background-position: center;\r\n}\r\n\r\n/* Overlay (dark transparent background) */\r\n.main-container::before {\r\n    content: \"\";\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    /* background: rgba(0, 0, 0, 85); */\r\n    z-index: -1;\r\n    opacity: 0.7;\r\n}\r\n\r\n/* Ensure modal sits above the dark overlay */\r\n\r\n      /* Modal */\r\n      .modal {\r\n        position: relative;\r\n        background: white;\r\n        border-radius: 12px;\r\n        /* padding: 24px 24px 20px; */\r\n        padding:48px;\r\n        width: 100%;\r\n        /* max-width: 480px; */\r\n        max-width: 760px;\r\n        height: auto;\r\n        margin: 0 auto;\r\n      }\r\n\r\n      /* Close () */\r\n      .close-btn {\r\n    color: var(--black, #000000);\r\n    text-align: center;\r\n    font-family: 'FontAwesome6Pro-Solid', sans-serif;\r\n    font-size: 24px;\r\n    font-weight: 400;\r\n    position: relative;\r\n    top: -52px;\r\n    left: 650px;\r\n    width: 24px;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    border: none;\r\n    background: white;\r\n      }\r\n\r\n      /* Heading */\r\n      .modal h2 {\r\n        font-size: 20px;\r\n        font-weight: 600;\r\n        /* margin: 0 0 12px; */\r\n      }\r\n\r\n      /* Info text */\r\n      .info-box {\r\n        margin-bottom: 20px;\r\n        /* font-size: 14px; */\r\n        font-size: 16px;\r\n        font-weight: 400;\r\n        color: #333;\r\n        line-height: 1.5;\r\n      }\r\n\r\n      .info-box strong {\r\n        font-weight: 600;\r\n      }\r\n\r\n      /* Label */\r\n      .input-group {\r\n        margin-bottom: 12px;\r\n      }\r\n\r\n      .input-group label {\r\n        display: block;\r\n        font-size: 12px;\r\n        font-weight: 500;\r\n        /* margin-bottom: 6px; */\r\n      }\r\n\r\n      /* OTP Input */\r\n      .otp-box {\r\n        width: 70%;\r\n        height: 38px;\r\n        padding: 8px 10px;\r\n        font-size: 14px;\r\n        border: 1px solid #ccc;\r\n        border-radius: 6px;\r\n        outline: none;\r\n      }\r\n\r\n      /* Checkbox */\r\n      .checkbox-group {\r\n        margin-bottom: 20px;\r\n        display: flex;\r\n      }\r\n\r\n .checkbox-group .rememberMe-trust {\r\n    appearance: none !important;\r\n    -webkit-appearance: none !important;\r\n    width: 20px !important;\r\n    height: 20px !important;\r\n    border: 2px solid #000 !important;\r\n    border-radius: 4px !important;\r\n    margin-right: 8px !important;\r\n    cursor: pointer !important;\r\n    position: relative !important;\r\n}\r\n#remeberme-trust {\r\n  display: inline-block; /* or 'block', 'initial' */\r\n}\r\n \r\n/* Checked state */\r\n.checkbox-group .rememberMe-trust:checked {\r\n    background-color: white !important;\r\n}\r\n \r\n/* Optional: Add a checkmark */\r\n.checkbox-group .rememberMe-trust::after {\r\n    content: \"\" !important;\r\n    position: absolute !important;\r\n    display: none !important;\r\n    top: 2px !important;\r\n    left: 5px !important;\r\n    width: 5px !important;\r\n    height: 10px !important;\r\n    border: solid #000000 !important;\r\n    border-width: 0 2px 2px 0 !important;\r\n    transform: rotate(45deg) !important;\r\n}\r\n \r\n.checkbox-group .rememberMe-trust:checked::after {\r\n    display: block !important;\r\n}\r\n.trust-device{\r\n  font-size: 16px;\r\n  font-family: \"Roboto\";\r\n  font-weight: 400;\r\n}\r\n\r\n   /* Action Buttons */\r\n      .link-buttons {\r\n        display: flex;\r\n        gap: 1rem;\r\n        flex-wrap: wrap;\r\n        margin-top: 25px;\r\n      }\r\n\r\n      .link-buttons button {\r\n        background: none;\r\n        border: none;\r\n        color: #000;\r\n        /* font-size: 13px; */\r\n        font-size: 16px;\r\n        cursor: pointer;\r\n        text-decoration: underline;\r\n        padding: 0;\r\n        transition: color 0.2s ease;\r\n        /* font-weight: 700; */\r\n        font-weight: 600;\r\n      }\r\n\r\n      /* .link-buttons button:hover {\r\n        color: #0073aa;\r\n      } */\r\n\r\n      /* Mobile First Responsive */\r\n      @media (max-width: 480px) {\r\n        .modal {\r\n          padding: 20px 16px;\r\n        }\r\n\r\n        .link-buttons {\r\n          flex-direction: row;\r\n          gap: 30px;\r\n          align-items: flex-start;\r\n          margin-top: 16px;\r\n        }\r\n\r\n        .link-buttons button {\r\n          font-size: 14px;\r\n        }\r\n      }\r\n      \r\n      /* css for iframe===================================================> */\r\n   html, body {\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden; /* prevents scrollbars */\r\n}\r\n\r\n.background-iframe {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: -2;\r\n  border: none;\r\n}\r\n\r\n.main-container {\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.login--NewCodeHasBeenSent{\r\n  padding:10px;\r\n  border:1px solid green;\r\n  color: green;\r\n  border-radius: 5px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.text-danger{\r\n  color:#C50000;\r\n}\r\n.error-div{\r\n border: 1px solid #eb0000;\r\n   background: #f6ecec;\r\n   border-radius: var(--corner-radii-5px, 5px);\r\n  color: #c50000;\r\ntext-align: left;\r\nfont-family: var(--body-smaller-font-family, 'Roboto-Regular', sans-serif);\r\nfont-size: var(--body-smaller-font-size, 14px);\r\nline-height: var(--body-smaller-line-height, 22px);\r\nfont-weight: var(--body-smaller-font-weight, 400);\r\nposition: relative;\r\nflex: 1;\r\n padding: 12px 16px 12px 16px;\r\n margin-bottom: 10px;\r\n}\r\n/* Tablet and Mobile (768px and below) */\r\n@media (max-width: 768px) {\r\n  .close-btn {\r\n    position: absolute;\r\n    top: 12px;   /* adjust for spacing */\r\n    right: 12px;\r\n    left: auto;  /* override desktop left offset */\r\n    transform: none;\r\n    font-size: 20px;\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n\r\n  .modal {\r\n    max-width: 95%;  /* so modal fits smaller screens */\r\n    padding: 24px 16px;\r\n  }\r\n}\r\n\r\n/* Smaller mobile (480px and below) */\r\n@media (max-width: 480px) {\r\n  .close-btn {\r\n    top: 10px;\r\n    right: 10px;\r\n    font-size: 18px;\r\n  }\r\n\r\n  .modal {\r\n    padding: 16px 12px;\r\n  }\r\n}\r\n"
              },
              "customScript": {
                "value": "\n\n\n\n\n\n const codeInput = document.getElementById(\"codetextbox\");\n const autoSubmitBtn = document.getElementById(\"Submit\");\n const ResendButton = document.getElementById('RESEND');\n const cancelBtn = document.getElementById(\"cancelBtn\");\n const modal = document.getElementById(\"entercodeModal\"); \nconst domain = \"{{global.variables.domain}}\";\nconsole.log(\"Domain  is:\", domain); \n\n\n  // ------------------ Config ------------------\n  function getMoxieKey(domain) {\n    switch (domain) {\n        case \"marriottvacationclub.com\":\n            return \"{{global.company.variables.moxieKeyMVC}}\";\n        case \"vacationclubap.com\":\n            return \"{{global.company.variables.moxieKeyVCAP}}\";\n        default:\n            // console.warn(`Unknown domain '${domain}'. Falling back to MVC key.`);\n            console.warn(`Unknown domain '${domain}'. Moxie key left empty.`);\n            return \"\";\n          \n    }\n}\nconst moxieKey = getMoxieKey(domain);\nconsole.log(\"moxieKey is \" ,moxieKey);\n\ndocument.getElementById(\"frmCode\").addEventListener(\"keydown\", function (event) {\n  if (event.key === \"Enter\") {\n    event.preventDefault();   // Stops submit\n    return false;\n  }\n});\n\n// --- NEW: Unique IDs for our dynamic elements ---\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\nconst MOXIE_SCRIPT_ID = 'moxie-translation-script';\n\n// Track whether background is currently active\nlet backgroundVisible = false;\n\n\n\ncancelBtn.addEventListener(\"click\", () => {\n  modal.style.display = \"none\";\n});\n\n\ncodeInput.addEventListener('input', function () {\n  const value = codeInput.value.replace(/\\D/g, '').slice(0, 6);\n  codeInput.value = value\n  if (value.length === 6) {\n    setTimeout(() => {\n      autoSubmitBtn.click();\n    }, 1000);\n  }\n  showErrorMessage();\n});\n\nif (ResendButton) {\n  ResendButton.addEventListener('click', function () {\n    const codeTextbox = document.getElementById('codetextbox');\n    if (codeTextbox) {\n      codeTextbox.value = \"\";\n    }\n    showNewCodeMessage();\n  });\n}\n\n\n\n\n\n// New js for background\n\n\n/**\n * Creates and injects a dimmed, full-screen iframe background.\n * Checks if elements already exist to avoid duplicates.\n * @param {string} url - The URL for the background website.\n */\nfunction insertBackgroundSiteDimmed(url) {\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\n\n  // Create the dimming overlay\n  const overlay = document.createElement('div');\n  overlay.id = BACKGROUND_OVERLAY_ID;\n  overlay.style.cssText = `\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\n      background:rgba(0,0,0,0.8); z-index:-1;\n    `;\n\n  // Create the iframe\n  const iframe = document.createElement('iframe');\n  iframe.id = BACKGROUND_IFRAME_ID;\n  iframe.src = url;\n  iframe.style.cssText = `\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\n      border:none; z-index:-2;\n    `;\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\n  iframe.setAttribute(\"aria-hidden\", \"true\");\niframe.setAttribute(\"tabindex\", \"-1\");\n\n  // Add them to the page\n  document.body.insertBefore(overlay, document.body.firstChild);\n  document.body.insertBefore(iframe, document.body.firstChild);\n\n  console.log(\"Dimmed background and iframe have been injected.\");\n}\n\n/**\n * Removes the background iframe and its overlay.\n */\n// function removeBackgroundSiteDimmed() {\n//   const iframe = document.getElementById(BACKGROUND_IFRAME_ID);\n//   const overlay = document.getElementById(BACKGROUND_OVERLAY_ID);\n\n//   if (iframe) {\n//     iframe.remove();\n//     console.log(\"Background iframe removed.\");\n//   }\n//   if (overlay) {\n//     overlay.remove();\n//     console.log(\"Background overlay removed.\");\n//   }\n// }\n\n// --- 1. Main Logic to Control the Background ---\nconst manageBackgroundVisibility = () => {\n  const modal = document.getElementById('codeEntryModal');\n\n  if (modal && !backgroundVisible) {\n\n    if (domain.includes(\"grandresidenceclub.com\")) {\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\n      backgroundVisible = true;\n\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\n      backgroundVisible = true;\n    }\n    else {\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\n      backgroundVisible = true;\n    }\n  }\n  //  else if (!modal && backgroundVisible) {\n  //   removeBackgroundSiteDimmed();\n  //   backgroundVisible = false;\n  // }\n};\n\n// --- 2. Watch for Page Changes in the SPA ---\nconst observer = new MutationObserver(manageBackgroundVisibility);\nobserver.observe(document.body, { childList: true, subtree: true });\n\n// --- 3. Initial Setup ---\nmanageBackgroundVisibility();\n\n// --- 4. Language Preference Helper ---\n// function getLanguagePreference() {\n//   const langCookie = document.cookie.split('; ')\n//     .find(row => row.startsWith('langPref='));\n//   return langCookie ? langCookie.split('=')[1] : 'en';\n// }\n\n// --- 5. Handle Moxie Script Injection ---\nfunction initLanguageOnLoad() {\n  // if (!dev) {\n  console.log(\"PRODUCTION MODE: Injecting Moxie translation script.\");\n  const moxieScript = document.createElement(\"script\");\n  moxieScript.id = MOXIE_SCRIPT_ID;\n  moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\n  moxieScript.type = \"text/javascript\";\n  moxieScript.setAttribute(\"data-oljs\", moxieKey);\n  moxieScript.onerror = () => console.error(\"CRITICAL: Moxie script failed to load.\");\n  document.head.appendChild(moxieScript);\n  // } else {\n  // console.log('Language pref is: ', getLanguagePreference());\n  // }\n}\n\ninitLanguageOnLoad();\n\n\n\n//Simultenious error msg and success msg handle\n\nconst newCodeMsg = document.querySelector('.login--NewCodeHasBeenSent');\nconst errorMsg = document.getElementById('feedbackError');\n\n// Hide error when new code sent\nfunction showNewCodeMessage() {\n  if (newCodeMsg) newCodeMsg.style.display = \"flex\";\n  if (errorMsg) errorMsg.style.display = \"none\";\n}\n\n// Hide success when there is an error\nfunction showErrorMessage() {\n  if (errorMsg) errorMsg.style.display = \"block\";\n  if (newCodeMsg) newCodeMsg.style.display = \"none\";\n}\n\n\n\n"
              },
              "validationRules": {
                "value": [
                  {
                    "propertyName": "codetextbox",
                    "rules": [
                      {
                        "ruleName": "presence",
                        "message": "Enter the 6-digit one-time passcode."
                      },
                      {
                        "ruleName": "length",
                        "is": "6",
                        "wrongLength": "The one-time passcode must six digits.",
                        "minimum": "",
                        "maximum": "",
                        "tooShort": "",
                        "tooLong": ""
                      },
                      {
                        "ruleName": "format",
                        "pattern": "^[0-9]+$",
                        "message": "The one-time passcode must be six digits."
                      }
                    ]
                  }
                ]
              },
              "nodeTitle": {
                "value": "Prompt For OTP"
              },
              "formFieldsList": {
                "value": [
                  {
                    "propertyName": "buttonValue",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "propertyName": "codetextbox",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "propertyName": "rememberMe",
                    "preferredControlType": "textField",
                    "preferredDataType": "boolean",
                    "value": "",
                    "hashedVisibility": false
                  }
                ]
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceType\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.deviceType}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.deviceType}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "resendMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"resendMessage\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.resendMessage}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.resendMessage}}\",\n        \"children\": [\n          {\n            \"text\": \"resendMessage\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "maskedPhone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"maskedPhone\",\n        \"data\": \"{{local.o3p0lu1ww2.payload.output.maskedPhone}}\",\n        \"tooltip\": \"{{local.o3p0lu1ww2.payload.output.maskedPhone}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedPhone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "maskedEmail": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"maskedEmail\",\n        \"data\": \"{{local.o3p0lu1ww2.payload.output.maskedEmail}}\",\n        \"tooltip\": \"{{local.o3p0lu1ww2.payload.output.maskedEmail}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedEmail\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "canChangeDevice": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"errorMessage\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.errorMessage}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.errorMessage}}\",\n        \"children\": [\n          {\n            \"text\": \"errorMessage\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1491,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hili7n1bzj",
            "nodeType": "CONNECTION",
            "connectionId": "c95c9eee24fb9344c45de82a86da4dc0",
            "connectorId": "stringsConnector",
            "name": "String",
            "label": "String Manipulation",
            "status": "configured",
            "idUnique": "en5tffx09s",
            "capabilityName": "toLowerCase",
            "type": "trigger",
            "properties": {
              "originalValue": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"type\",\n        \"data\": \"{{local.uoppd09l5f.payload.output.rawResponse.type}}\",\n        \"tooltip\": \"{{local.uoppd09l5f.payload.output.rawResponse.type}}\",\n        \"children\": [\n          {\n            \"text\": \"type\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"authType\",\n        \"data\": \"{{local.fcajmc2304.payload.output.authType}}\",\n        \"tooltip\": \"{{local.fcajmc2304.payload.output.authType}}\",\n        \"children\": [\n          {\n            \"text\": \"authType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Get Auth Method"
              }
            }
          },
          "position": {
            "x": 2467,
            "y": 3810
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "e9kw26s8me",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2587,
            "y": 3810
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "o3p0lu1ww2",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Mask Phone Number/Email Address"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "email",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.email}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "phone",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"phone\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.phone}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.phone}}\",\n        \"children\": [\n          {\n            \"text\": \"phone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"maskedEmail\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"maskedPhone\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t}\n\t}\n}"
              },
              "code": {
                "value": "module.exports = a = async ({params}) => {\n    let email = params.email;\n    let phone = params.phone;\n\n    if (email && email.includes('@')) {\n        const [username, domain] = email.split('@');\n\n        if (username.length <= 2) {\n            email = username + '@' + domain;\n        } else {\n            const visible = username.slice(0, 2);\n            const masked = '*'.repeat(username.length - 2);\n            email = visible + masked + '@' + domain;\n        }\n    }\n\n    if (phone) {\n        // Strip all non-numeric characters from the phone number\n        const numericPhoneNumber = phone.replace(/\\D/g, '');\n        // Mask the first six digits of the phone number\n        phone = '***-***-' + numericPhoneNumber.slice(-4);\n    }\n\n    return { 'maskedEmail': email, 'maskedPhone': phone };\n}\n"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 963,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "522ujtnujz",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 813,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xceoebu0xh",
            "nodeType": "EVAL",
            "properties": {
              "5rlurs22n4": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1083,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "zkdofvrmxu",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"message\",\n        \"data\": \"{{local.5y2z6x314y.payload.error.message}}\",\n        \"tooltip\": \"{{local.5y2z6x314y.payload.error.message}}\",\n        \"children\": [\n          {\n            \"text\": \"message\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 977,
            "y": 4717.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wpljz4km80",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1637,
            "y": 4597.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "7z5i8o5gts",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 1637,
            "y": 4837.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "6de8yoq3eb",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"The relying party ID is not the current domain or a registrable domain suffix of the current domain.\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Wrong Relying Party ID"
              }
            }
          },
          "position": {
            "x": 1787,
            "y": 4837.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "p0xbtjpw30",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 1637,
            "y": 4957.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "koamwnv0yf",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "wc0jfkkr3z"
              },
              "usableDevices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"usableDevices\",\n        \"data\": \"{{local.vc8o1wnpis.payload.output.usableDevices}}\",\n        \"tooltip\": \"{{local.vc8o1wnpis.payload.output.usableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"usableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rpid": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"rpid\",\n        \"data\": \"{{local.vc8o1wnpis.payload.output.rpid}}\",\n        \"tooltip\": \"{{local.vc8o1wnpis.payload.output.rpid}}\",\n        \"children\": [\n          {\n            \"text\": \"rpid\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "origin": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"origin\",\n        \"data\": \"{{local.vc8o1wnpis.payload.output.origin}}\",\n        \"tooltip\": \"{{local.vc8o1wnpis.payload.output.origin}}\",\n        \"children\": [\n          {\n            \"text\": \"origin\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1787,
            "y": 4957.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "4he5hctlgw",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"message\",\n        \"data\": \"{{local.slu740f2kg.payload.error.message}}\",\n        \"tooltip\": \"{{local.slu740f2kg.payload.error.message}}\",\n        \"children\": [\n          {\n            \"text\": \"message\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2571,
            "y": 3153.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "i00dggjydf",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Something went wrong. Try again later.\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2841,
            "y": 3153.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "qz2aml0p13",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"updatedErrorMessage\",\n        \"data\": \"{{local.f93pbyvrj2.payload.output.updatedErrorMessage}}\",\n        \"tooltip\": \"{{local.f93pbyvrj2.payload.output.updatedErrorMessage}}\",\n        \"children\": [\n          {\n            \"text\": \"updatedErrorMessage\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Show Error From PingOne"
              }
            }
          },
          "position": {
            "x": 1487,
            "y": 2617.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "gnmbshsowi",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"code\",\n        \"data\": \"{{local.pjzv5pikab.payload.error.code}}\",\n        \"tooltip\": \"{{local.pjzv5pikab.payload.error.code}}\",\n        \"children\": [\n          {\n            \"text\": \"code\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"invalidValue\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Is Error Invalid Phone Number/Email Address?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 947,
            "y": 2617.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "2my7xaouma",
            "nodeType": "EVAL",
            "properties": {
              "z7l0uzlcxw": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1067,
            "y": 2617.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "z7l0uzlcxw",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Something went wrong. Try again later.\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 947,
            "y": 2737.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "s1axmvsfoq",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 1637,
            "y": 5047.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wgvcj4rbmh",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Error when registering FIDO2 device.\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1787,
            "y": 5047.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "2kjjqzwb93",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"message\",\n        \"data\": \"{{local.iru6qhsncf.payload.error.message}}\",\n        \"tooltip\": \"{{local.iru6qhsncf.payload.error.message}}\",\n        \"children\": [\n          {\n            \"text\": \"message\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2057,
            "y": 4717.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xidlsgr1u8",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Gather device types that user can register with "
              },
              "width": {
                "value": 2000
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              },
              "fontStyle": {
                "value": "bold"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 671.7029478458049,
            "y": 388.42176870748295
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "u5kub3qvkq",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "User select device to register with"
              },
              "width": {
                "value": 750
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "strokeWidth": {
                "value": 0
              },
              "cornerRadius": {
                "value": 20
              },
              "fontStyle": {
                "value": "bold"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 647,
            "y": 1057.0702947845805
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fej3sjbngi",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "User selected SMS"
              },
              "width": {
                "value": 900
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              },
              "fontStyle": {
                "value": "bold"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 1427,
            "y": 1057.0702947845805
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "l9xjrjligx",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "User selected FIDO2"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 3427,
            "y": 1260
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "vilx80kut0",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "User cancelled/skipped"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "5p0gfwesxq"
          },
          "position": {
            "x": 2617,
            "y": 1380
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xlmzidbgc9",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Prepare to register OTP device"
              },
              "width": {
                "value": 1900
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "fontStyle": {
                "value": "bold"
              },
              "cornerRadius": {
                "value": 20
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 617,
            "y": 2287.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "zzia2art5i",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Ask for OTP"
              },
              "width": {
                "value": 1000
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              },
              "fontStyle": {
                "value": "bold"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 617,
            "y": 2857.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "2glrp3yq6j",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Resend OTP"
              },
              "width": {
                "value": 1000
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              },
              "fontStyle": {
                "value": "bold"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 1667,
            "y": 2857.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "0mnenav9by",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Cancel"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "firc8lgsh5"
          },
          "position": {
            "x": 1927,
            "y": 3090
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "k1n6kg45vx",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Activate Device"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "vg90vg9h55"
          },
          "position": {
            "x": 1941,
            "y": 3363.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "kmciqzq5l1",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Activate OTP device and enable MFA for user"
              },
              "width": {
                "value": 1500
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              },
              "fontStyle": {
                "value": "bold"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 617,
            "y": 3607.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "s900lnmvn5",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Error"
              },
              "width": {
                "value": 600
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              },
              "fontStyle": {
                "value": "bold"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 797,
            "y": 4057.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "57gtx3hjxk",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Return success"
              },
              "width": {
                "value": 450
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              },
              "fontStyle": {
                "value": "bold"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 629,
            "y": 5913.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9niomoeu0e",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Return error"
              },
              "width": {
                "value": 450
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              },
              "fontStyle": {
                "value": "bold"
              }
            },
            "status": "configured",
            "idUnique": "amik5y5w07"
          },
          "position": {
            "x": 621,
            "y": 6273.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "74gf8z86uw",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Register FIDO2 device and enable MFA for user"
              },
              "width": {
                "value": 1800
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              },
              "fontStyle": {
                "value": "bold"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 617,
            "y": 4477.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "f93pbyvrj2",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "code": {
                "value": "// Write your code here\n// Supported language: Javascript \nmodule.exports = a = async ({params}) => {\n\tlet errorMessage = params.errorMessage;\n\n\tif (errorMessage === \"phone: must be a well-formed phone number with a valid country code followed by a phone number\") {\n\t\terrorMessage = \"Enter a valid phone number, including the country code.\";\n\t}\n\n\treturn {'updatedErrorMessage': errorMessage};\n}"
              },
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"updatedErrorMessage\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t}\n\t}\n}"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "errorMessage",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"message\",\n        \"data\": \"{{local.pjzv5pikab.payload.error.message}}\",\n        \"tooltip\": \"{{local.pjzv5pikab.payload.error.message}}\",\n        \"children\": [\n          {\n            \"text\": \"message\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Update Error Message"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 1217,
            "y": 2617.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hqdb3y3i65",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1337,
            "y": 2617.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "rhbe2mkmk2",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#fffaa0ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Note: Please note if \"autoEnrollEmail\"(Input Schema) value sent from calling flow is \"true\", it will be assumed that \"email\"(Input Schema) has already been verified and user will not be prompted to enter the OTP while registering this email device in this flow."
              },
              "width": {
                "value": 900
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": false
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "d2mbrib33f"
          },
          "position": {
            "x": 846.124716553288,
            "y": 272.14058956916097
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ibotgp2jn2",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#4462edff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "CIAM Passwordless - Device Registration - Subflow"
              },
              "width": {
                "value": 2200
              },
              "fontStyle": {
                "value": "bold"
              },
              "fontSize": {
                "value": 16
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 642.6326530612245,
            "y": 214
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "rqw3x0w2p1",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#fffaa0ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Input Schema: UserId, Email*, AllowCancel*,fidoRegistrationRequired*, PasswordlessRequired*, AutoEnrollEmail*, AllowedDeviceTypes*, *Optional"
              },
              "width": {
                "value": 600
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": false
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "nmbl3krrzw"
          },
          "position": {
            "x": 846.124716553288,
            "y": 330.281179138322
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "nxc2amxsdh",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1637,
            "y": 4717.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "3mzgwd5xbx",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 3231,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "2whff30xov",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Mask Email Address"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "email",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{global.parameters.email}}\",\n        \"tooltip\": \"{{global.parameters.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"maskedEmail\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t}\n\t}\n}"
              },
              "code": {
                "value": "module.exports = a = async ({params}) => {\n    let email = params.email;\n\n    if (email && email.includes('@')) {\n        const [username, domain] = email.split('@');\n\n        if (username.length <= 2) {\n            // If username is too short, show it fully\n            email = username + '@' + domain;\n        } else {\n            const visible = username.slice(0, 2);\n            const masked = '*'.repeat(username.length - 2);\n            email = visible + masked + '@' + domain;\n        }\n    }\n\n    return { 'maskedEmail': email };\n}\n"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "idUnique": "jcpzuc1dmc"
          },
          "position": {
            "x": 593,
            "y": 1177.0000559753707
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "k9rrvndxtf",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 443,
            "y": 1177.0000559753707
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "h2d7rovpq5",
            "nodeType": "EVAL",
            "properties": {
              "qwggt9vgg6": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 713,
            "y": 1177.0000559753707
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "qwggt9vgg6",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Something went wrong. Try again later.\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 870,
            "y": 1290
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "5rlurs22n4",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Something went wrong. Try again later.\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "0729ggjz03"
          },
          "position": {
            "x": 963,
            "y": 3123.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fcajmc2304",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"authType\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Auth type\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"authType\"\n\t\t}\n\t}\n}"
              },
              "nodeTitle": {
                "value": "Enable MFA"
              }
            }
          },
          "position": {
            "x": 970,
            "y": 3693.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "niwd9bvvyl",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1090,
            "y": 3753.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "cpq0d0xrjd",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"fidoRegistrationRequired\",\n        \"data\": \"{{global.parameters.fidoRegistrationRequired}}\",\n        \"tooltip\": \"{{global.parameters.fidoRegistrationRequired}}\",\n        \"children\": [\n          {\n            \"text\": \"fidoRegistrationRequired\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "boolean"
              },
              "nodeTitle": {
                "value": "checks whether FIDO2 registration required"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 863,
            "y": 1177.0000559753707
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "1w327sd0kj",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "undefined": {
                "value": null
              },
              "messageTitle": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Information\"\n      }\n    ]\n  }\n]"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"allowedTypes\": {\n\t\t\t\"type\": \"array\"\n\t\t},\n\t\t\"passwordlessRequired\": {\n\t\t\t\"type\": \"boolean\"\n\t\t},\n\t\t\"allowCancel\": {\n\t\t\t\"type\": \"boolean\"\n\t\t},\n\t\t\"maskedEmail\": {\n\t\t\t\"type\": \"string\"\n\t\t}\n\t}\n}"
              },
              "outputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"buttonValue\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"propertyName\": \"buttonValue\"\n\t\t}\n\t}\n}"
              },
              "customHTML": {
                "value": "<div class=\"end-user-nano\">\n<div\n    class=\"bg-light d-flex flex-column justify-content-center align-items-center position-absolute top-0 start-0 bottom-0 end-0 overflow-auto\">\n    <div class=\"mh-100\" style=\"max-width: 400px; width: 100%;\">\n        <div class=\"card shadow mb-5\">\n            <div class=\"card-body p-5 d-flex flex-column\">\n                {{global.parameters.ciam_companyLogo}}\n                <!-- <h1 class=\"text-center mb-4\">Select Method</h1> -->\n                <p class=\"text-muted text-center\">\n                    For additional security, enroll in passwordless. You will use this method to login next time.\n                </p>\n                <p class=\"text-danger mdi mdi-alert-circle\" data-id=\"feedback\" data-skcomponent=\"skerror\"></p>\n                <form id=\"method-selection\" data-id=\"method-selection\">\n                    <div class=\"d-flex flex-column gap-4 mb-4\">\n                        {{#each allowedTypes as | type |}}\n                        {{#ifEquals type \"FIDO2\"}}\n                        <button class=\"btn btn-outline-light flex-grow-1 d-flex align-items-center gap-4\"\n                            id=\"mfa-type-list-button-FIDO2\" data-skcomponent=\"skbutton\"\n                            data-skbuttontype=\"next-event\" data-skbuttonvalue=\"FIDO2\">\n                            <div class=\"flex-grow-1 d-flex align-items-center gap-4\">\n                                 <svg viewBox=\"0 0 27 26\" role=\"presentation\" style=\"width: 20px; height: 20px;\">\n                                    <path d=\"M10.2632 12.3158C13.6641 12.3158 16.4211 9.55881 16.4211 6.15789C16.4211 2.75698 13.6641 0 10.2632 0C6.86225 0 4.10527 2.75698 4.10527 6.15789C4.10527 9.55881 6.86225 12.3158 10.2632 12.3158Z\" fill=\"#3D454D\" />\n                                    <path d=\"M26.6842 12.3158C26.6842 9.67474 24.5631 7.51263 21.9084 7.51263C19.2674 7.51263 17.1053 9.63369 17.1053 12.2884C17.1053 14.1495 18.1589 15.8326 19.8421 16.6263V23.9474L21.8947 26L25.3158 22.5789L23.2631 20.5263L25.3158 18.4737L23.6189 16.7768C25.4663 16.0653 26.6842 14.2863 26.6842 12.3158ZM21.8947 12.3158C21.1421 12.3158 20.5263 11.7 20.5263 10.9474C20.5263 10.1947 21.1421 9.57895 21.8947 9.57895C22.6474 9.57895 23.2631 10.1947 23.2631 10.9474C23.2631 11.7 22.6474 12.3158 21.8947 12.3158Z\" fill=\"#3D454D\" />\n                                    <path d=\"M15.6547 15.08C14.6011 14.6147 13.4653 14.3684 12.3158 14.3684H8.21053C3.68105 14.3684 0 18.0495 0 22.5789V25.3158H17.7895V17.7758C16.8726 17.0642 16.1337 16.1474 15.6547 15.08Z\" fill=\"#3D454D\" />\n                                </svg>\n                                <div class=\"d-flex flex-column text-start gap-1\">\n                                    <div class=\"fw-semibold text-primary\">\n                                        Biometrics/Security Key\n                                    </div>\n                                    <div class=\"fs-5 text-secondary\">\n                                        Use Biometrics/Security Key to authenticate.\n                                    </div>\n                                </div>\n                            </div>\n                        </button>\n                        {{/ifEquals}} \n                        {{#ifEquals type \"SMS\"}}\n                        <button class=\"btn btn-outline-light flex-grow-1 d-flex align-items-center gap-4\"\n                            id=\"mfa-type-list-button-SMS\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\n                            data-skbuttonvalue=\"SMS\">\n                            <div class=\"flex-grow-1 d-flex align-items-center gap-4\">\n                                <i class=\"mdi mdi-comment-text-outline text-dark fs-2\" aria-hidden=\"true\"></i>\n                                <div class=\"d-flex flex-column text-start gap-1\">\n                                    <div class=\"fw-semibold text-primary\">\n                                        Text Message\n                                    </div>\n                                    <div class=\"fs-5 text-secondary\">\n                                        Receive a text message with a passcode to authenticate.\n                                    </div>\n                                </div>\n                            </div>\n                        </button>\n                        {{/ifEquals}}\n                        {{#ifEquals type \"EMAIL\"}}\n                        <button class=\"btn btn-outline-light flex-grow-1 d-flex align-items-center gap-4\"\n                            id=\"mfa-type-list-button-EMAIL\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\n                            data-skbuttonvalue=\"EMAIL\">\n                            <div class=\"flex-grow-1 d-flex align-items-center gap-4\">\n                                <i class=\"mdi mdi-email-outline text-dark fs-2\" aria-hidden=\"true\"></i>\n                                <div class=\"d-flex flex-column text-start gap-1\">\n                                    <div class=\"fw-semibold text-primary\">\n                                        Email\n                                    </div>\n                                    <div id=\"emailAuthnMessage\" class=\"fs-5 text-secondary\">\n                                        Receive an email with a passcode to authenticate.\n                                    </div>\n                                </div>\n                            </div>\n                        </button>\n                        {{/ifEquals}}\n                        {{/each}}\n                    </div>\n                    \n                   {{#if allowCancel }}\n                    {{#unless passwordlessRequired}}\n                    <div class=\"d-flex flex-column\">\n                        <button class=\"btn btn-link mb-3\" \n                            id=\"mfa-type-list-button-CANCEL\" data-skcomponent=\"skbutton\"\n                            data-skbuttontype=\"next-event\" data-skbuttonvalue=\"CANCEL\">\n                            Skip MFA\n                        </button>\n                    </div>\n                    {{/unless}}\n                    {{/if}}\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n</div>"
              },
              "customCSS": {
                "value": ""
              },
              "customScript": {
                "value": "// Change the displayed message if autoenroll variable is enabled and email passed from the calling flow is not empty\nfunction autoEnrollDisplayMessage() {\n    if(`{{global.parameters.ciam_autoEnrollEmail}}` === \"true\" && `{{maskedEmail}}`) {\n        document.getElementById(\"emailAuthnMessage\").innerText = \"Register \" + `{{maskedEmail}}` + \" as an authentication device.\";\n    } \n}\n\nif (document.readyState === \"loading\") {\n    // Loading hasn't finished yet\n    document.addEventListener(\"DOMContentLoaded\", autoEnrollDisplayMessage);\n} else {\n    // `DOMContentLoaded` has already fired\n    autoEnrollDisplayMessage();\n}\n\n"
              },
              "validationRules": {
                "value": []
              },
              "allowedTypes": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"usableDevices\",\n        \"data\": \"{{local.wc0jfkkr3z.payload.output.usableDevices}}\",\n        \"tooltip\": \"{{local.wc0jfkkr3z.payload.output.usableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"usableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "typeDisplayNames": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"typeDisplayNames\",\n        \"data\": \"{{local.wc0jfkkr3z.payload.output.typeDisplayNames}}\",\n        \"tooltip\": \"{{local.wc0jfkkr3z.payload.output.typeDisplayNames}}\",\n        \"children\": [\n          {\n            \"text\": \"typeDisplayNames\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue",
                    "displayName": ""
                  }
                ]
              },
              "nodeTitle": {
                "value": "FID02 Registration Form"
              },
              "nodeDescription": {
                "value": "FID02 Registration Form"
              },
              "passwordlessRequired": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"passwordlessRequired\",\n        \"data\": \"{{global.parameters.passwordlessRequired}}\",\n        \"tooltip\": \"{{global.parameters.passwordlessRequired}}\",\n        \"children\": [\n          {\n            \"text\": \"passwordlessRequired\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "allowCancel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"allowCancel\",\n        \"data\": \"{{global.parameters.allowCancel}}\",\n        \"tooltip\": \"{{global.parameters.allowCancel}}\",\n        \"children\": [\n          {\n            \"text\": \"allowCancel\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "maskedEmail": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"maskedEmail\",\n        \"data\": \"{{local.2whff30xov.payload.output.maskedEmail}}\",\n        \"tooltip\": \"{{local.2whff30xov.payload.output.maskedEmail}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedEmail\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              }
            },
            "isDisabled": false,
            "idUnique": "i7ot1c3ix8"
          },
          "position": {
            "x": 1405,
            "y": 1323.0702947845805
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "pe11kzvdwm",
            "nodeType": "EVAL",
            "properties": {
              "decvvhflks": {
                "value": "anyTriggersFalse"
              },
              "qfijpdejzw": {
                "value": "anyTriggersFalse"
              },
              "8hqaj06hy6": {
                "value": "anyTriggersFalse"
              },
              "rpe4ixd0ym": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 983,
            "y": 1177.0000559753707
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8k3m13kgyg",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1297,
            "y": 1440
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "70ft1ulrd0",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "vc8o1wnpis"
              },
              "authenticatorAttachment": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"FIDO\"\n      }\n    ]\n  }\n]"
              },
              "rpid": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"rpid\",\n        \"data\": \"{{local.wc0jfkkr3z.payload.output.rpid}}\",\n        \"tooltip\": \"{{local.wc0jfkkr3z.payload.output.rpid}}\",\n        \"children\": [\n          {\n            \"text\": \"rpid\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"FIDO2\"\n      }\n    ]\n  }\n]"
              },
              "usableDevices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"usableDevices\",\n        \"data\": \"{{local.wc0jfkkr3z.payload.output.usableDevices}}\",\n        \"tooltip\": \"{{local.wc0jfkkr3z.payload.output.usableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"usableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "typeDisplayNames": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"typeDisplayNames\",\n        \"data\": \"{{local.wc0jfkkr3z.payload.output.typeDisplayNames}}\",\n        \"tooltip\": \"{{local.wc0jfkkr3z.payload.output.typeDisplayNames}}\",\n        \"children\": [\n          {\n            \"text\": \"typeDisplayNames\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "origin": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"origin\",\n        \"data\": \"{{local.4cgf9zgns7.payload.output.origin}}\",\n        \"tooltip\": \"{{local.4cgf9zgns7.payload.output.origin}}\",\n        \"children\": [\n          {\n            \"text\": \"origin\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "2h2a305eez"
          },
          "position": {
            "x": 1417,
            "y": 1440
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "x4lu2jj85z",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Start"
              }
            }
          },
          "position": {
            "x": 1834.5147392290248,
            "y": 504.70294784580494
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ob2qys7dcd",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1950.7959183673468,
            "y": 562.843537414966
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xv97xv3ey0",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 3367,
            "y": 1230
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "08juwxitwr",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"mfaEnabled\",\n        \"data\": \"{{global.parameters.mfaEnabled}}\",\n        \"tooltip\": \"{{global.parameters.mfaEnabled}}\",\n        \"children\": [\n          {\n            \"text\": \"mfaEnabled\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "boolean"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "MFA enabled for user?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 2737,
            "y": 1470
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wg02v9ubc",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "5eygpo43c0": {
                "value": "anyTriggersFalse"
              },
              "hl3p81mg43": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2857,
            "y": 1470
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "77xkmx7j1m",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"User Cancelled but MFA is enabled\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 3007,
            "y": 1470
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "5eygpo43c0",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "4m767nsx46"
              },
              "result": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"User skipped MFA\"\n      }\n    ]\n  }\n]"
              },
              "authMethod": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Skipped MFA\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 3277,
            "y": 1590
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "qfijpdejzw",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Select Enrollment Device"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"array\",\n\t\"properties\": {\n\t\t\"devices\": {\n\t\t\t\"type\": \"object\",\n\t\t\t\"properties\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"displayName\": \"id\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t},\n\t\t\t\t\"type\": {\n\t\t\t\t\t\"displayName\": \"type\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t},\n\t\t\t\t\"status\": {\n\t\t\t\t\t\"displayName\": \"status\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"allowCancel\": {\n\t\t\t\"type\": \"boolean\"\n\t\t}\n\t}\n}"
              },
              "outputSchema": {
                "value": {}
              },
              "customHTML": {
                "value": "<!-- v1.0 -->\n<!-- 2025-10-27 updated by Tony Kroukamp -->\n<!-- Editable email and phone inputs, prepopulated from matchedUser object -->\n\n<div class=\"container\" style=\"padding:20px;max-width:900px;margin:40px auto;\" id=\"selectDeviceModal\">\n  <div class=\"modal\" style=\"background:#fff;padding:40px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.08);\">\n    <div class=\"secure-your-account\" style=\"font-size:1.25rem;font-weight:600;margin-bottom:10px;\">\n      Register for Two-Factor Authentication\n    </div>\n\n    <p class=\"secure-your-account-description\" style=\"margin-bottom:16px;\">\n      Select a method to authenticate your account. If you dont see your preferred method, select to add or edit your information in your account.\n    </p>\n\n    <div data-skcomponent=\"skerror\" class=\"error-message\" data-skvisibility=\"\" style=\"color:#c50000;  padding :12px 16px 12px 16px;  background: #f6ecec; border-radius: var(--corner-radii-5px, 5px);border-style: solid;width: fit-content;\"></div>\n    <div id=\"errorforNoSelect\"></div>\n\n    <form id=\"authForm\">\n      <!-- Authenticator App -->\n      <div class=\"option-select\">\n        <input type=\"radio\" id=\"authApp\" name=\"selectedDevice\" value=\"TOTP\">\n        <label for=\"authApp\">\n          <strong>Register Authenticator App</strong><br>\n          <small>You need to have an authenticator app already downloaded on your device to use this option</small>\n        </label>\n      </div>\n\n      <!-- Register Email -->\n      <div class=\"option-select\" style=\"margin-top:15px;\">\n        <input type=\"radio\" id=\"email\" name=\"selectedDevice\" value=\"EMAIL\">\n        <label for=\"email\">Register Email</label>\n        <!-- <input type=\"email\" id=\"emailInput\" name=\"emailInput\" class=\"contact-input GlobalLinkNoTx\"\n          style=\"display:none;margin-top:8px;padding:12px 14px\" /> -->\n          <textarea id=\"emailInput\" name=\"emailInput\" class=\"contact-input GlobalLinkNoTx\" style=\"display:none;margin-top:8px;\"></textarea>\n        <span id=\"emailError\" class=\"input-error-message\">Please enter your email</span><br>\n      </div>\n\n      <!-- Register Mobile Phone -->\n      <div class=\"option-select\" style=\"margin-top:15px;\">\n        <input type=\"radio\" id=\"mobile\" name=\"selectedDevice\" value=\"SMS\">\n        <label for=\"mobile\">Register Mobile Phone</label>\n        <!-- <select id=\"countryCode\" class=\"country-selector\" aria-label=\"select country code\" style=\"display:none;\">\n            \n\n          </select>\n        <input type=\"tel\" id=\"phoneInput\" name=\"phoneInput\" class=\"contact-input GlobalLinkNoTx\"\n          style=\"display:none;margin-top:8px;\" /> -->\n           <div class=\"phone-input-group\" id=\"phoneInputGroup\">\n\n                <!-- LEFT: Dropdown -->\n                <div class=\"custom-select-container\" id=\"countryDropdown\">\n                  <div class=\"select-box\" id=\"selectBox\">\n                    <!-- onclick=\"toggleDropdown()\" -->\n                    <div class=\"selected-value\" id=\"selectedValue\">\n                      <!-- JS fills this -->\n                    </div>\n                    <span class=\"arrow\"></span>\n                  </div>\n\n                  <div class=\"options-container\" id=\"optionsList\">\n                    <!-- JS fills this -->\n                  </div>\n                  <input type=\"hidden\"  class=\"input-value GlobalLinkNoTx\" id=\"countryCode\" aria-labelledby=\"phone-unenrolledLabel\">\n                </div>\n\n                <!-- RIGHT: Number Input -->\n                <input type=\"tel\" class=\"phone-input\" id=\"phoneInput\">\n              </div>\n        <span id=\"phoneError\" class=\"input-error-message\">Please enter your phone</span><br>\n      </div>\n\n      <!-- Hidden SK-bound values for submission -->\n      <input type=\"text\" id=\"method\" name=\"method\" data-skcomponent=\"skinput\" readonly style=\"display:none;\" />\n      <input type=\"text\" id=\"methodValue\" name=\"methodValue\" data-skcomponent=\"skinput\" readonly style=\"display:none;\" />\n\n      <!-- Buttons -->\n      <div class=\"buttons\" style=\"display:flex;gap:12px;margin-top:20px;\">\n        <button id=\"sendcode\" type=\"submit\" class=\"primary\"\n          data-skcomponent=\"skbutton\"\n          data-skform=\"authForm\"\n          data-skbuttontype=\"form-submit\"\n          data-skbuttonvalue=\"SendCode\">\n          Continue\n        </button>\n\n        <button id=\"skipButton\" type=\"button\" class=\"link\"\n          data-skcomponent=\"skbutton\"\n          data-skbuttontype=\"next-event\"\n          data-skbuttonvalue=\"SKIP\">\n          Skip\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n"
              },
              "customCSS": {
                "value": "/* === Overlay background === */\r\n/* Creates a dimmed layer behind the modal (currently transparent) */\r\n.overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  /* background-color: rgba(0, 0, 0, 0.85);  // can enable if dimming needed */\r\n  z-index: 1;\r\n}\r\n\r\n/* === Main container === */\r\n/* Centers the modal horizontally and vertically on the screen */\r\n.container {\r\n  position: fixed;\r\n  inset: 0;\r\n  z-index: 2;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.country-selector{\r\n  width: fit-content;\r\n    position: relative;\r\n    top: 50px;\r\n    left: 10px;\r\n    border: none;\r\n}\r\n/* Adds invisible layer for optional background blur/dim */\r\n.container::before {\r\n  content: \"\";\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  /* background: rgba(0, 0, 0, 0.85);  // optional overlay */\r\n  z-index: -1;\r\n  opacity: 0.7;\r\n}\r\n\r\n/* === Modal card === */\r\n/* White box that holds all the content */\r\n.modal {\r\n  background: #fff;\r\n  border-radius: 1rem;\r\n  padding: 48px;             /* inside spacing */\r\n  width: 760px;              /* fixed width as per spec */\r\n  max-width: 760px;\r\n  height: auto;             /* fixed height as per spec */\r\n  box-sizing: border-box;    /* keeps total size 760x462 including padding */\r\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);\r\n  overflow: auto;            /* adds scroll if content overflows */\r\n}\r\n\r\n/*.modal h2 {\r\n    margin-top: 0;\r\n    margin-bottom: 0.5rem;\r\n} */\r\n\r\n/* .modal p {\r\n    font-size: 0.95rem;\r\n    color: #333;\r\n    margin-top: 0;\r\n} */\r\n\r\n/* === Text styles === */\r\n.secure-your-account {\r\n  color: #000;\r\n  font-family: Roboto, Arial, sans-serif;\r\n  font-size: 20px;           /* title font size */\r\n  font-weight: 600;\r\n  line-height: 30px;\r\n  margin: 0 0 16px 0;        /* space below title */\r\n}\r\n\r\n.secure-your-account-description {\r\n  color: #000;\r\n  font-family: Roboto, Arial, sans-serif;\r\n  font-size: 16px;           /* body font size */\r\n  font-weight: 400;\r\n  line-height: 24px;\r\n  margin: 0 0 8px 0;         /* small gap below paragraph */\r\n}\r\n\r\n/* === Option rows (radio + label + optional input) === */\r\n/* Grid layout keeps radio on left, label + input on right */\r\n.option-select{\r\n  display: grid;\r\n  grid-template-columns: 24px 1fr; /* two columns: radio | content */\r\n  column-gap: 12px;\r\n  row-gap: 8px;\r\n  align-items: start;\r\n  margin-top: 16px;\r\n}\r\n/* .contact-input{\r\n padding:12px 57px;\r\n} */\r\n\r\n/* .option input[type=\"radio\"] {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 0.75rem;\r\n    accent-color: black;\r\n    cursor: pointer;\r\n    border-radius: 50%;\r\n} */\r\n\r\n/* === Radio button styling === */\r\n#selectDeviceModal .option-select input[type=\"radio\"] {\r\n  -webkit-appearance: revert !important;\r\n  -moz-appearance: revert !important;\r\n  appearance: revert !important;\r\n  position: static !important;\r\n  background-color: transparent !important;\r\n  color: inherit !important;\r\n  border: initial !important;\r\n  outline: none !important;\r\n\r\n  width: 20px !important;\r\n  height: 20px !important;\r\n  margin: 2px 0 0 0 !important; /* slight alignment fix */\r\n  accent-color: #000 !important;\r\n  cursor: pointer !important;\r\n  border-radius: 50% !important;\r\n\r\n  grid-column: 1;\r\n  grid-row: 1 / span 2; /* spans label and input vertically */\r\n}\r\n\r\n/* === Label text next to radio === */\r\n.option-select label {\r\n  grid-column: 2;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n}\r\n\r\n/* === Small help text under label === */\r\n.option-select label small {\r\n  display: block;\r\n  margin-top: 6px;\r\n  color: #6b7280;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n}\r\n\r\n/* === Email / Phone input box === */\r\n/* JS will show/hide this based on selected radio option */\r\n/* .contact-input {\r\n  grid-column: 2;            \r\n  display: block;\r\n  margin: 0;\r\n  margin-top: 8px;\r\n  padding: 12px 71px;\r\n  width: 300px;\r\n  max-width: 250px;\r\n  min-height: 44px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  box-sizing: border-box;\r\n} */\r\n.contact-input {\r\n  grid-column: 2;\r\n  display: block;\r\n  margin: 0;\r\n  margin-top: 8px;\r\n  padding: 5px 5px 5px 19px;\r\n  height: 25px;\r\n  width: 300px;\r\n  /* max-width: 250px; */\r\n  min-height: 44px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  box-sizing: border-box;\r\n\r\n  /*  ADD ONLY THESE */\r\n    resize: none; \r\n  white-space: nowrap;        /* keep text in single line */\r\n  overflow-x: hidden;         /* hide scroll by default */\r\n  overflow-y: hidden;         /* never show vertical */\r\n  text-overflow: ellipsis;    /* show ... when clipped */\r\n}\r\n\r\n/* Enable horizontal scroll ONLY when needed */\r\n.contact-input:hover,\r\n.contact-input:focus {\r\n  overflow-x: auto;           /* shows scroll only if overflow */\r\n  text-overflow: clip;\r\n}\r\n.contact-input::-webkit-scrollbar {\r\n  height: 6px;\r\n}\r\n\r\n.contact-input::-webkit-scrollbar-thumb {\r\n  background-color: #9ca3af;\r\n  border-radius: 10px;\r\n}\r\n/* Remove Chrome autofill / edit icons */\r\n.contact-input {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  background-image: none !important;\r\n}\r\n\r\n.contact-input::-webkit-credentials-auto-fill-button,\r\n.contact-input::-webkit-contacts-auto-fill-button {\r\n  display: none !important;\r\n  visibility: hidden;\r\n  pointer-events: none;\r\n}\r\n\r\n\r\n/* === Button area === */\r\n/* Aligns Continue and Skip horizontally */\r\n.buttons {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  margin-top: 24px;\r\n  gap: 16px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n/* === Continue button === */\r\nbutton.primary {\r\n  color: #fff;\r\n  font-size: 16px;\r\n  font-family: Roboto, Arial, sans-serif;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n  display: flex;\r\n  height: 48px;\r\n  padding: 0 24px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 12px;\r\n  border-radius: 1000px;\r\n  background: #000;\r\n  border: none;\r\n}\r\n\r\nbutton.primary:disabled {\r\n  background-color: #888;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* === Skip button === */\r\nbutton.link {\r\n  background: none;\r\n  border: none;\r\n  color: #000;\r\n  cursor: pointer;\r\n  text-decoration: underline;\r\n  padding: 0;\r\n  margin-left: 6px;\r\n  font-size: 16px;\r\n  font-family: Roboto, Arial, sans-serif;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n}\r\n\r\n  .input-error-message {\r\n    color: red;\r\n    padding-left: 40px;\r\n    font-family: \"Roboto-Regular\", sans-serif;\r\n    font-size: 12px;\r\n    display: none;\r\n  }\r\n\r\n  /* === Mobile responsive fix === */\r\n  /* When the screen is smaller, allow modal to shrink naturally */\r\n  @media (max-width: 768px) {\r\n    .modal {\r\n      width:100%;\r\n      max-width: 760px;\r\n      height: auto;\r\n      padding: 24px;\r\n    }\r\n\r\n    .option-select{\r\n      row-gap: 6px;\r\n    }\r\n\r\n    .contact-input {\r\n      width: 100%;\r\n    }\r\n    .container{\r\n          padding: 8px 8px !important;\r\n    }\r\n  }\r\n\r\n\r\n.phone-input-group{\r\n    display: flex;\r\n    align-items: center;\r\n    /* width: 280pxpx; */\r\n    background: var(--bg-color);\r\n    border: 1px solid black;\r\n    border-radius: 5px; /* Rounded corners on the outer shell */\r\n    /* box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); */\r\n    transition: all 0.2s ease;\r\n    width: 300px;\r\n    /* margin-left: 40px; */\r\n  }\r\n\r\n  /* Focus state for the entire group */\r\n  .phone-input-group:focus-within {\r\n    border-color: var(--focus-color);\r\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\r\n  }\r\n\r\n  /* 2. The Custom Dropdown (Left Side) */\r\n  .custom-select-container {\r\n    position: relative;\r\n    width: 110px; /* Fixed width for the code part */\r\n    border-right: 1px solid var(--border-color); /* Divider line */\r\n  }\r\n\r\n  .select-box {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 12px;\r\n    cursor: pointer;\r\n    height: 100%; /* Full height of wrapper */\r\n    background: transparent;\r\n    width: 40px !important;\r\n  }\r\n\r\n  .selected-value {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n  }\r\n\r\n  .flag-img {\r\n    width: 20px;\r\n    height: 14px;\r\n    object-fit: cover;\r\n    border-radius: 2px;\r\n  }\r\n\r\n  .dial-code {\r\n    color: var(--text-primary);\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .arrow {\r\n    margin-left: 6px;\r\n    color: var(--text-secondary);\r\n    font-size: 10px;\r\n    transition: transform 0.2s;\r\n  }\r\n\r\n  .select-box.open .arrow {\r\n    transform: rotate(180deg);\r\n  }\r\n\r\n  /* 3. The Dropdown List (Floating) */\r\n  .options-container {\r\n    position: relative;\r\n    top: calc(100% + 4px);\r\n    left: 0;\r\n    width: 300px; /* Wider than the toggle button to show full names */\r\n    background: white;\r\n    border: 1px solid var(--border-color);\r\n    border-radius: 5px;\r\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n    max-height: 250px;\r\n    overflow-y: auto;\r\n    z-index: 100;\r\n    display: none;\r\n  }\r\n\r\n  .options-container.active {\r\n    display: block;\r\n  }\r\n\r\n  .option{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    gap: 10px;\r\n    padding: 10px 16px;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    color: var(--text-primary);\r\n  }\r\n\r\n  /* .option-country:hover {\r\n    background-color: #f1f5f9;\r\n  } */\r\n\r\n  .option.selected {\r\n    background-color: #eff6ff;\r\n  }\r\n\r\n  .option.country-name {\r\n      flex: 1; /* Push dial code to right */\r\n  }\r\n\r\n  .option .dial-code {\r\n      color: var(--text-secondary);\r\n  }\r\n\r\n  /* 4. The Phone Input (Right Side) */\r\n  .phone-input {\r\n    flex: 1; /* Take remaining width */\r\n    border: none;\r\n    outline: none;\r\n    padding: 12px 16px;\r\n    font-size: 14px;\r\n    color:black;\r\n    /* border: 1px solid black; */\r\n    border-radius:5px;\r\n    background: white;\r\n  }\r\n\r\n  .phone-input::placeholder {\r\n    color: #94a3b8;\r\n  }\r\n"
              },
              "customScript": {
                "value": "const radios = document.querySelectorAll('input[name=\"selectedDevice\"]');\r\nconst methodInput = document.getElementById('method');\r\nconst methodValueInput = document.getElementById('methodValue');\r\nconst emailInput = document.getElementById('emailInput');\r\nconst phoneInput = document.getElementById('phoneInput');\r\n//const phoneInputGroup = document.getElementById('phoneInputGroup');\r\nconst skipButton = document.getElementById(\"skipButton\");\r\nconst errorMessageDiv = document.querySelector('[data-skcomponent=\"skerror\"]');\r\nconst errorMessageDivSelect = document.getElementById('errorforNoSelect');\r\nconst selectBox = document.getElementById('selectBox');\r\nconst phoneInputGroup = document.getElementById('phoneInputGroup')\r\n\r\n// Pre-fill email and phone using DaVinci variables\r\nconst prefilledEmail = \"{{local.ifct35turd.payload.output.matchedUser.email}}\";\r\nconst prefilledPhone = \"{{local.rpe4ixd0ym.payload.output.nationalNumber}}\";\r\n\r\nif (prefilledEmail) {\r\n  emailInput.value = prefilledEmail;\r\n}\r\nif (prefilledPhone) {\r\n  phoneInput.value = prefilledPhone;\r\n}\r\n\r\nfunction disableHiddenInputs() {\r\n  if (emailInput.style.display === \"none\") {\r\n    emailInput.disabled = true;\r\n  } else {\r\n    emailInput.disabled = false;\r\n  }\r\n\r\n  if (phoneInput.style.display === \"none\") {\r\n    phoneInput.disabled = true;\r\n  } else {\r\n    phoneInput.disabled = false;\r\n  }\r\n}\r\n\r\nphoneInputGroup.style.display =\"none\"\r\n// Handle radio selection and reveal inputs\r\nfunction hideNoSelectError() {\r\n  if (!errorMessageDivSelect) return;\r\n  errorMessageDivSelect.textContent = \"\";\r\n  errorMessageDivSelect.style.display = \"none\";\r\n}\r\n\r\nradios.forEach(radio => {\r\n  radio.addEventListener('change', () => {\r\n    hideNoSelectError();\r\n    const selectedValue = radio.value;\r\n    methodInput.value = selectedValue;\r\n\r\n    emailInput.style.display = 'none';\r\n    phoneInput.style.display = 'none';\r\n    selectBox.style.display= 'none';\r\n    phoneInputGroup.style.display =\"none\"\r\n\r\n    // --- FIX: Clear both errors when switching methods ---\r\n    const emailError = document.getElementById(\"emailError\");\r\n    const phoneError = document.getElementById(\"phoneError\");\r\n\r\n    if (emailError) { emailError.textContent = \"\"; emailError.style.display = \"none\"; }\r\n    if (phoneError) { phoneError.textContent = \"\"; phoneError.style.display = \"none\"; }\r\n    // // --- FIX: Reset borders ---\r\n    // if (emailInput) emailInput.style.border = \"\";\r\n    // if (phoneInput) phoneInput.style.border = \"\";\r\n\r\n    if (selectedValue === 'EMAIL') {\r\n      emailInput.style.display = 'block';\r\n      methodValueInput.value = emailInput.value;\r\n    } else if (selectedValue === 'SMS') {\r\n      phoneInput.style.display = 'block';\r\n      selectBox.style.display= 'flex';\r\n      phoneInputGroup.style.display= 'flex';\r\n      methodValueInput.value = phoneInput.value;\r\n    } else {\r\n      methodValueInput.value = ''; // TOTP doesnt require a secondary value\r\n    }\r\n\r\n    if (errorMessageDiv) {\r\n      errorMessageDiv.textContent = \"\";\r\n      errorMessageDiv.style.display = \"none\";\r\n    }\r\n    disableHiddenInputs();\r\n  });\r\n});\r\n\r\n// --- Handle form submit ---\r\nfunction handleSendCodeSubmit(event) {\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n\r\n  // No method selected\r\n  // if (!selected) {\r\n  //   event.preventDefault();\r\n  //   errorMessageDiv.textContent = \"Please select a method.\";\r\n  //   errorMessageDiv.style.display = \"block\";\r\n  //   errorMessageDiv.style.color = \"#eb0000\";\r\n  //   errorMessageDiv.style.background = \"#f6ecec\";\r\n  //   errorMessageDiv.style.borderRadius = \"5px\";\r\n  //   errorMessageDiv.style.padding = \"8px 10px\";\r\n  //   return;\r\n  // }\r\n   errorMessageDivSelect.textContent = \"\";\r\n    errorMessageDivSelect.style.display = \"none\";\r\n    let isValid = false;\r\n  if (!selected) {\r\n  event.preventDefault();\r\n  event.stopPropagation();\r\n  let isValid = false;\r\n\r\n\r\n  // if (errorMessageDivSelect) {\r\n    errorMessageDivSelect.textContent = \"Please select a method.\";\r\n    errorMessageDivSelect.style.display = \"block\";\r\n    errorMessageDivSelect.style.color = \"#eb0000\";\r\n    errorMessageDivSelect.style.background = \"#f6ecec\";\r\n    errorMessageDivSelect.style.borderRadius = \"5px\";\r\n    errorMessageDivSelect.style.padding = \"8px 10px\";\r\n  // } else {\r\n  //   console.warn(\"errorMessageDiv not found in DOM\");\r\n  // }\r\n\r\n  return;\r\n}\r\n\r\n\r\n  // Set methodValue based on selected method\r\n  if (selected.value === \"EMAIL\") {\r\n      errorMessageDivSelect.textContent = \"\";\r\n    errorMessageDivSelect.style.display = \"none\";\r\n    methodValueInput.value = emailInput.value;\r\n  } else if (selected.value === \"SMS\") {\r\n    methodValueInput.value = phoneInput.value;\r\n  } else {\r\n    methodValueInput.value = \"\";\r\n  }\r\n\r\n  // Run combined validation (email + phone)\r\n  const valid = validateEmailAndPhone(event);\r\n    //  FORCE countryCode before submit/serialization\r\n  const countryCodeInput = document.getElementById(\"countryCode\");\r\n  const selectedCountry = document.querySelector(\".option.selected\");\r\n\r\n  if (countryCodeInput && selectedCountry) {\r\n    const iso = selectedCountry.dataset.iso;\r\n    const country = countryData.find(c => c.iso2 === iso);\r\n    if (country) {\r\n      countryCodeInput.value = country.dialCode;\r\n    }\r\n  }\r\n  if (!valid) return;  // Stop submission if invalid\r\n}\r\n\r\ndocument.getElementById(\"sendcode\").addEventListener(\"click\", handleSendCodeSubmit);\r\n\r\n// --- Validation on Email and Phone ---\r\n\r\n\r\nfunction validateEmailAndPhone(event) {\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n\r\n  const emailInput = document.getElementById(\"emailInput\");\r\n  const emailError = document.getElementById(\"emailError\");\r\n\r\n  const phoneInput = document.getElementById(\"phoneInput\");\r\n  const phoneError = document.getElementById(\"phoneError\");\r\n  let isValid = true;\r\n\r\n  // Clear error fields\r\n  if (emailError) { emailError.textContent = \"\"; emailError.style.display = \"none\"; }\r\n  if (phoneError) { phoneError.textContent = \"\"; phoneError.style.display = \"none\"; }\r\n  // emailInput.style.border = \"\";\r\n  // phoneInput.style.border = \"\";\r\n  if (emailInput) emailInput.style.border = \"\";\r\n  if (phoneInput) phoneInput.style.border = \"\";\r\n\r\n\r\n  // --- EMAIL validation ---\r\n  if (selected && selected.value === \"EMAIL\") {\r\n    const emailValue = emailInput.value.trim();\r\n    const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n    if (!emailValue || !emailPattern.test(emailValue)) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      emailError.textContent = \"Please enter a valid email address.\";\r\n      emailError.style.color = \"#eb0000\";\r\n      emailError.style.fontSize = \"12px\";\r\n      emailError.style.display = \"block\";\r\n      emailError.style.whiteSpace = \"nowrap\";\r\n      emailInput.style.border = \"1px solid red\";\r\n      isValid = false;\r\n    } else {\r\n      emailInput.style.border = \"\";\r\n      emailError.style.display = \"none\";\r\n    }\r\n\r\n    // --- LIVE email input validation ---\r\n    if (!emailInput._hasEmailListener) {\r\n      emailInput.addEventListener(\"input\", () => {\r\n        const value = emailInput.value.trim();\r\n        if (emailPattern.test(value)) {\r\n          emailError.textContent = \"\";\r\n          emailError.style.display = \"none\";\r\n          emailInput.style.border = \"\";\r\n        }\r\n      });\r\n      emailInput._hasEmailListener = true;\r\n    }\r\n  }\r\n\r\n  // --- PHONE validation ---\r\n  if (selected && selected.value === \"SMS\") {\r\n      errorMessageDivSelect.textContent = \"\";\r\n    errorMessageDivSelect.style.display = \"none\";\r\n    const phoneValue = phoneInput.value.trim();\r\n\r\n\r\n    const allowedChars = /^[0-9]*$/;   // /^[0-9()+\\-\\s]*$/;\r\n    const formattedPattern = /^\\+\\d{1,3}\\s?\\(\\d{3}\\)-\\(\\d{3}\\)-\\(\\d{4}\\)$/; ///^\\+\\d{1,3}\\s?\\(?\\d{3}\\)?[-\\s]?\\(?\\d{3}\\)?[-\\s]?\\(?\\d{4}\\)?$/; \r\n    const plainPattern = /^\\+\\d{1,3}[\\s]?\\d{7,15}$/;\r\n\r\n    const phonePattern = /^[0-9]{6,17}$/; // Only digits, length 6-17\r\n\r\n    const showPhoneError = (msg) => {\r\n      phoneError.textContent = msg;\r\n      phoneError.style.color = \"#eb0000\";\r\n      phoneError.style.fontSize = \"12px\";\r\n      phoneError.style.display = \"block\";\r\n      phoneError.style.whiteSpace = \"nowrap\";\r\n      phoneInputGroup.style.border = \"1px solid red\";\r\n    };\r\n\r\n    const clearPhoneError = () => {\r\n      phoneError.textContent = \"\";\r\n      phoneError.style.display = \"none\";\r\n      phoneInputGroup.style.border = \"\";\r\n    };\r\n\r\n    // --- LIVE phone input validation ---\r\n    if (!phoneInput._hasPhoneListener) {\r\n      phoneInput.addEventListener(\"input\", (e) => {\r\n        console.log(\"login enrollment\");\r\n        const value = e.target.value;\r\n        // --- LIVE EMPTY FIELD CHECK ---\r\n        if (!value) {\r\n          showPhoneError(\"Please enter a valid phone number.\");\r\n          console.log(\"phone required.\");\r\n          return;\r\n        }\r\n        // --- LIVE DIGIT LENGTH CHECK ---\r\n        const digitCount = value.replace(/\\D/g, \"\");\r\n        if (digitCount.length < 6 || digitCount.length > 17) {\r\n          showPhoneError(\"Please enter a valid phone number.\");\r\n          console.log(\"Phone number must contain 617 digits.\");\r\n          return;\r\n        }\r\n        // --- LIVE ALLOWED CHARS CHECK ---\r\n        if (!allowedChars.test(value)) {\r\n          showPhoneError(\"Please enter a valid phone number.\");\r\n          return;\r\n        }\r\n        // If all good, clear errors\r\n        clearPhoneError();\r\n      });\r\n      phoneInput._hasPhoneListener = true;\r\n    }\r\n\r\n    // Validate on submit\r\n    if (!phoneValue || !allowedChars.test(phoneValue)) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      showPhoneError(\"Please enter a valid phone number.\");\r\n      isValid = false;\r\n      return;\r\n    }\r\n\r\n    //+ should not allow\r\n    if (/[+()]/.test(phoneValue)) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      showPhoneError(\"Please enter a valid phone number.\");\r\n      isValid = false;\r\n      return;\r\n    }\r\n\r\n    // Cannot end with a special character\r\n    if (!/[0-9)]$/.test(phoneValue)) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      showPhoneError(\"Please enter a valid phone number.\");\r\n      isValid = false;\r\n      return;\r\n    }\r\n\r\n    // Must match at least one valid pattern\r\n    // if (!formattedPattern.test(phoneValue) && !plainPattern.test(phoneValue)) {\r\n    //   event.preventDefault();\r\n    //   event.stopPropagation();\r\n    //   showPhoneError(\"Please enter a valid phone number.\");\r\n    //   isValid = false;\r\n    // }\r\n\r\n    //allow 10-16 digits\r\n    const digitCount = phoneValue.replace(/\\D/g, \"\");\r\n    if (digitCount.length < 6 || digitCount.length > 17) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      showPhoneError(\"Please enter a valid phone number.\");\r\n      console.log(\"Phone number must contain 1016 digits.\");\r\n      isValid = false;\r\n      return isValid;\r\n    }\r\n\r\n    if (isValid) clearPhoneError();\r\n  }\r\n\r\n  return isValid;\r\n}\r\n\r\n\r\n\r\n\r\n///////////////////////////////////////////////////\r\n// function validateEmailAndPhone(event) {\r\n//   const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n\r\n//   const emailInput = document.getElementById(\"emailInput\");\r\n//   const emailError = document.getElementById(\"emailError\");\r\n\r\n//   const phoneInput = document.getElementById(\"phoneInput\");\r\n//   const phoneError = document.getElementById(\"phoneError\");\r\n//   let isValid = true;\r\n\r\n//   // Clear error fields\r\n//   if (emailError) { emailError.textContent = \"\"; emailError.style.display = \"none\"; }\r\n//   if (phoneError) { phoneError.textContent = \"\"; phoneError.style.display = \"none\"; }\r\n//   // emailInput.style.border = \"\";\r\n//   // phoneInput.style.border = \"\";\r\n//   if (emailInput) emailInput.style.border = \"\";\r\n//   if (phoneInput) phoneInput.style.border = \"\";\r\n\r\n\r\n//     // --- EMAIL validation ---\r\n//     if (selected && selected.value === \"EMAIL\") {\r\n//       const emailValue = emailInput.value.trim();\r\n//       const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n//       if (!emailValue || !emailPattern.test(emailValue)) {\r\n//         event.preventDefault();\r\n//         event.stopPropagation();\r\n//         emailError.textContent = \"Please enter a valid email address.\";\r\n//         emailError.style.color = \"#eb0000\";\r\n//         emailError.style.fontSize = \"12px\";\r\n//         emailError.style.display = \"block\";\r\n//         emailError.style.whiteSpace = \"nowrap\";\r\n//         emailInput.style.border = \"1px solid red\";\r\n//         isValid = false;\r\n//       } else {\r\n//         emailInput.style.border = \"\";\r\n//         emailError.style.display = \"none\";\r\n//       }\r\n\r\n//       // --- LIVE email input validation ---\r\n//       if (!emailInput._hasEmailListener) {\r\n//         emailInput.addEventListener(\"input\", () => {\r\n//           const value = emailInput.value.trim();\r\n//           if (emailPattern.test(value)) {\r\n//             emailError.textContent = \"\";\r\n//             emailError.style.display = \"none\";\r\n//             emailInput.style.border = \"\";\r\n//           }\r\n//         });\r\n//         emailInput._hasEmailListener = true;\r\n//       }\r\n//     }\r\n\r\n//   // --- PHONE validation ---\r\n//   if (selected && selected.value === \"SMS\") {\r\n//       errorMessageDivSelect.textContent = \"\";\r\n//     errorMessageDivSelect.style.display = \"none\";\r\n//     const phoneValue = phoneInput.value.trim();\r\n\r\n//     const allowedChars = /^[0-9()+\\-\\s]*$/;\r\n//     const formattedPattern = /^\\+\\d{1,3}\\s?\\(\\d{3}\\)-\\(\\d{3}\\)-\\(\\d{4}\\)$/; ///^\\+\\d{1,3}\\s?\\(?\\d{3}\\)?[-\\s]?\\(?\\d{3}\\)?[-\\s]?\\(?\\d{4}\\)?$/; \r\n//     const plainPattern = /^\\+\\d{1,3}[\\s]?\\d{7,15}$/;\r\n\r\n//     const phonePattern = /^[0-9]{6,17}$/; // Only digits, length 6-17\r\n\r\n//     const showPhoneError = (msg) => {\r\n//       phoneError.textContent = msg;\r\n//       phoneError.style.color = \"#eb0000\";\r\n//       phoneError.style.fontSize = \"12px\";\r\n//       phoneError.style.display = \"block\";\r\n//       phoneError.style.whiteSpace = \"nowrap\";\r\n//       phoneInput.style.border = \"1px solid red\";\r\n//     };\r\n\r\n//     const clearPhoneError = () => {\r\n//       phoneError.textContent = \"\";\r\n//       phoneError.style.display = \"none\";\r\n//       phoneInput.style.border = \"\";\r\n//     };\r\n\r\n//       // --- LIVE phone input validation ---\r\n//       if (!phoneInput._hasPhoneListener) {\r\n//         phoneInput.addEventListener(\"input\", (e) => {\r\n//           const value = e.target.value;\r\n//           // if (allowedChars.test(value) && (formattedPattern.test(value) || plainPattern.test(value))) {\r\n//           //   clearPhoneError();\r\n//           // }\r\n//         if (!value) {\r\n//           showPhoneError(\"Please enter a valid phone number.\");\r\n//           return;\r\n//         } else if (!/^[0-9]*$/.test(value)) {\r\n//           showPhoneError(\"Please enter a valid phone number.\");\r\n//           return;\r\n//         } else if (value.length < 6 || value.length > 17) {\r\n//           showPhoneError(\"Please enter a valid phone number.\");\r\n//           return;\r\n//         } else {\r\n//           clearPhoneError();\r\n//         }\r\n//         });\r\n//         phoneInput._hasPhoneListener = true;\r\n//       }\r\n\r\n//     // --- Validate on submit ---\r\n//     if (!phoneValue) {\r\n//       event.preventDefault();\r\n//       event.stopPropagation();\r\n//       showPhoneError(\"Please enter a valid phone number.\");\r\n//       isValid = false;\r\n//     } else if (!phonePattern.test(phoneValue)) {\r\n//       event.preventDefault();\r\n//       event.stopPropagation();\r\n//       showPhoneError(\"Please enter a valid phone number.\");\r\n//       isValid = false;\r\n//     } else {\r\n//       clearPhoneError();\r\n//     }\r\n//     // //Validate on submit\r\n//     // if (!phoneValue || !allowedChars.test(phoneValue)) {\r\n//     //   event.preventDefault();\r\n//     //   event.stopPropagation();\r\n//     //   showPhoneError(\"Please enter a valid phone number.\");\r\n//     //   isValid = false;\r\n//     // }\r\n\r\n//     // //Cannot end with a special character\r\n//     // if (!/[0-9)]$/.test(phoneValue)) {\r\n//     //   event.preventDefault();\r\n//     //   event.stopPropagation();\r\n//     //   showPhoneError(\"Please enter a valid phone number.\");\r\n//     //   isValid = false;\r\n//     // }\r\n\r\n//     // Must match at least one valid pattern\r\n//     // if (!formattedPattern.test(phoneValue) && !plainPattern.test(phoneValue)) {\r\n//     //   event.preventDefault();\r\n//     //   event.stopPropagation();\r\n//     //   showPhoneError(\"Please enter a valid phone number.\");\r\n//     //   isValid = false;\r\n//     // }\r\n\r\n//     if (isValid) clearPhoneError();\r\n//   }\r\n\r\n//   return isValid;\r\n// }\r\n\r\n\r\n\r\n// Live validate EMAIL on typing\r\nemailInput.addEventListener(\"input\", () => {\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n  if (selected && selected.value === \"EMAIL\") {\r\n    validateEmailAndPhone(new Event(\"input\"));\r\n  }\r\n});\r\n\r\n// Live validate PHONE on typing\r\nphoneInput.addEventListener(\"input\", () => {\r\n  const phoneError = document.getElementById(\"phoneError\");\r\n  console.log(\"phone input entered\");\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n  if (!selected || selected.value !== \"SMS\") return;\r\n  //if (selected && selected.value === \"SMS\") {\r\n    //validateEmailAndPhone(new Event(\"input\"));\r\n     const value = phoneInput.value.trim();\r\n    const digitCount = value.replace(/\\D/g, \"\").length;\r\n    const allowedChars = /^[0-9]*$/;\r\n\r\n    if (!value || !allowedChars.test(value) || digitCount < 6 || digitCount > 17) {\r\n      phoneError.textContent = \"Please enter a valid phone number.\";\r\n      phoneError.style.display = \"block\";\r\n      phoneInput.style.border = \"1px solid red\";\r\n      console.log(\"in if error\");\r\n    } else {\r\n      phoneError.textContent = \"\";\r\n      phoneError.style.display = \"none\";\r\n      phoneInput.style.border = \"\";\r\n    }\r\n  //}\r\n});\r\n\r\nlet skipByCount = \"{{global.variables.skipByCount}}\";\r\nlet maxSkipCount = \"{{global.company.variables.maxSkipCount}}\";\r\n\r\n// Show or hide the skip button based on expiry date\r\nfunction showSkipButton(skipByCount, maxSkipCount) {\r\n\r\n  console.log(\"Skip By count \", skipByCount);\r\n  console.log(\"Max Skip count \", maxSkipCount);\r\n\r\n  const skipButton = document.getElementById(\"skipButton\");\r\n  if (!skipButton) return; // Exit if button not found\r\n\r\n\r\n  if (maxSkipCount > skipByCount) {\r\n     skipButton.style.display = \"inline-block\"; // Show\r\n  } else {\r\n    skipButton.style.display = \"none\"; // Hide\r\n   \r\n  }\r\n}\r\n\r\n\r\n// Initial call to show/hide button\r\nshowSkipButton(skipByCount, maxSkipCount);\r\n\r\n// Optional: log skip\r\nif (skipButton) {\r\n  skipButton.addEventListener(\"click\", function (event) {\r\n    const buttonType = event.target.getAttribute(\"data-skbuttonvalue\");\r\n    console.log(\"Button clicked:\", buttonType);\r\n    if (buttonType === \"SKIP\") {\r\n      skipByCount = skipByCount + 1; // Increase skip count\r\n\r\n      // Re-evaluate skip button visibility\r\n      showSkipButton(skipByCount, maxSkipCount);\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\r\n//background image \r\n\r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n\r\n\r\nconst domain = \"{{global.variables.domain}}\";\r\nconsole.log(\"Domain  is:\", domain);\r\n\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n  // Create the dimming overlay\r\n  const overlay = document.createElement('div');\r\n  overlay.id = BACKGROUND_OVERLAY_ID;\r\n  overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n  // Create the iframe\r\n  const iframe = document.createElement('iframe');\r\n  iframe.id = BACKGROUND_IFRAME_ID;\r\n  iframe.src = url;\r\n  iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n  // Accessibility fix for WCAG\r\n  iframe.setAttribute('title', 'background iframe');  // required accessible name\r\n  iframe.setAttribute('aria-hidden', 'true');         // hide from screen readers\r\n  iframe.setAttribute('tabindex', '-1');              // remove from tab order\r\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n  // Add them to the page\r\n  document.body.insertBefore(overlay, document.body.firstChild);\r\n  document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n  console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n  const modal = document.getElementById('selectDeviceModal');\r\n\r\n  if (modal && !backgroundVisible) {\r\n    if (domain.includes(\"grandresidenceclub.com\")) {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\r\n      //backgroundVisible = true;\r\n\r\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\r\n\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\r\n      //backgroundVisible = true;\r\n    }\r\n    else {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\r\n      //backgroundVisible = true;\r\n    }\r\n    backgroundVisible = true;\r\n\r\n  } else if (!modal && backgroundVisible) {\r\n    //removeBackgroundSiteDimmed();\r\n    backgroundVisible = false;\r\n  }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n\r\n// const countryCodeData = {{global.company.variables.phoneCountryList}};\r\n    // const countryCodeData = [{\r\n    //     dialCode: \"+1\",\r\n    //     iso2: \"US\",\r\n    //     iso3: \"USA\",\r\n    //     name: \"United State\",\r\n    //     flag: \"flag.png\"\r\n    // },\r\n    // {\r\n    //     dialCode: \"+91\",\r\n    //     iso2: \"IN\",\r\n    //     iso3: \"IND\",\r\n    //     name: \"India\",\r\n    //     flag: \"flag.png\"\r\n    // }]\r\n    // const defaultCountryCode = \"{{local.rpe4ixd0ym.payload.output.countryCode}}\";\r\n\r\n    // const selectElement = document.getElementById(\"countryCode\");\r\n    // //const flagElement = document.getElementById(\"countryFlag\");\r\n\r\n    // function populateCountryDropdown(selectId, countryCode, defaultCode = \"\") {\r\n    //     console.log(countryCodeData);\r\n    //     console.log(\"defaultCountryCode: \", defaultCountryCode);\r\n    //     const selectElement = document.getElementById(selectId);\r\n    //     if (!selectElement) return;\r\n\r\n    //     // Clear existing options\r\n    //     selectElement.innerHTML = '';\r\n\r\n    //     // Add options\r\n    //     countryCode.forEach(country => {\r\n    //         const option = document.createElement(\"option\");\r\n    //         option.value = country.dialCode; // the value submitted in forms\r\n    //         // option.text = `${country.iso2} (${country.dialCode})`; // display text\r\n    //         option.text = country.iso2; // display text\r\n    //         option.classList.add(\"country-code-phone\");\r\n\r\n\r\n    //         // Set default selected\r\n    //         if (country.dialCode === defaultCode) {\r\n    //             option.selected = true;\r\n    //         }\r\n    //         selectElement.appendChild(option);\r\n    //     });\r\n\r\n\r\n    // }\r\n\r\n    // //call function\r\n    // populateCountryDropdown(\"countryCode\", countryCodeData, defaultCountryCode);\r\n\r\nconst countryData = {{global.company.variables.phoneCountryList}};\r\n// sort (kept for future multi-country support)\r\n// countryData.sort((a, b) => a.name.localeCompare(b.name));\r\n// 1. Sort alphabetically\r\n    countryData.sort((a, b) => a.name.localeCompare(b.name));\r\n\r\n    // 2. Move US to top if exists\r\n    const usIndex = countryData.findIndex(\r\n      c => c.iso2.toUpperCase() === \"US\"\r\n    );\r\n\r\n    if (usIndex > -1) {\r\n      const [usCountry] = countryData.splice(usIndex, 1);\r\n      countryData.unshift(usCountry);\r\n    }\r\n\r\n\r\nconst optionsList = document.getElementById(\"optionsList\");\r\nconst selectedValue = document.getElementById(\"selectedValue\");\r\n// const selectBox = document.getElementById(\"selectBox\");\r\nconst optionsContainer = document.querySelector(\".options-container\");\r\nconst hiddenInput = document.getElementById(\"countryCode\");\r\n// const phoneInput = document.getElementById(\"phone-unenrolled-input\");\r\n\r\nconst defaultCountryCode =\" {{local.rpe4ixd0ym.payload.output.countryCode}}\"; //\"{{local.s1gsdp7hyj.payload.output.countryCode}}\";\r\nconsole.log(\"defaultCountryCode: \",defaultCountryCode);\r\n/* ---------------- INIT ---------------- */\r\n// function init() {\r\n//   renderOptions();\r\n//   if (countryData.length > 0) {\r\n//      selectOption(countryData[0]); // US if present, else first country\r\n//     }\r\n//     // Default to first item if available\r\n//     if (countryData.length > 0) selectOption(countryData[0]);\r\n//     let defaultCountry = null;\r\n\r\n//       if (defaultCountryCode) {\r\n//         defaultCountry = countryData.find(\r\n//           c => c.iso2.toLowerCase() === defaultCountryCode.toLowerCase()\r\n//         );\r\n//       }\r\n\r\n//       // Use default if found, else first option\r\n//       if (defaultCountry) {\r\n//         selectOption(defaultCountry);\r\n//       } else if (countryData.length > 0) {\r\n//         selectOption(countryData[0]);\r\n//       }\r\n\r\n\r\n//   // let defaultCountry = null;\r\n\r\n//   // if (defaultCountryCode) {\r\n//   //   defaultCountry = countryData.find(\r\n//   //     c => c.iso2.toLowerCase() === defaultCountryCode.toLowerCase()\r\n//   //   );\r\n//   // }\r\n\r\n//   // selectOption(defaultCountry || countryData[0]);\r\n// }\r\n\r\n function init() {\r\n  renderOptions();\r\n\r\n  if (!countryData.length) return;\r\n\r\n  let selectedCountry = null;\r\n\r\n \r\n  // 1. Match by dial code (+91, +1, etc.)\r\n  if (defaultCountryCode) {\r\n    //const normalizedCode = defaultCountryCode.replace(\"+\", \"\");\r\n    const normalizedCode = defaultCountryCode.replace(/\\D/g, \"\");\r\n\r\n    selectedCountry = countryData.find(\r\n     // c => c.dialCode.replace(\"+\", \"\") === normalizedCode\r\n      c => c.dialCode.replace(/\\D/g, \"\") === normalizedCode\r\n    );\r\n  }\r\n\r\n  // 2. Fallback to US\r\n  if (!selectedCountry) {\r\n    selectedCountry = countryData.find(\r\n      c => c.iso2.toUpperCase() === \"US\"\r\n    );\r\n  }\r\n\r\n  // 3. Final fallback to first item\r\n  if (!selectedCountry) {\r\n    selectedCountry = countryData[0];\r\n  }\r\n\r\n  selectOption(selectedCountry);\r\n}\r\n\r\n/* ---------------- DROPDOWN TOGGLE ---------------- */\r\nfunction toggleDropdown() {\r\n  optionsContainer.classList.add(\"active\");\r\n  //  if (event.target != selectBox) {\r\n  //   optionsContainer.classList.remove('active')\r\n  // }\r\n  optionsContainer.classList.add(\"active\");\r\n selectBox.classList.add(\"open\");\r\n}\r\n\r\n/* ---------------- SELECT COUNTRY ---------------- */\r\nfunction selectOption(country) {\r\n  // Closed view\r\n  selectedValue.innerHTML = `\r\n    <img src=\"${country.flag}\" alt=\"${country.iso2}\" class=\"flag-img\">\r\n    <span class=\"dial-code\">${country.iso2}</span>\r\n  `;\r\n\r\n  // Hidden input value\r\n  hiddenInput.value = country.dialCode;\r\n  hiddenInput.setAttribute(\"value\", country.dialCode);\r\n\r\n  // Highlight selected\r\n  document\r\n    .querySelectorAll(\".option\")\r\n    .forEach(el => el.classList.remove(\"selected\"));\r\n\r\n  const selectedOption = document.querySelector(\r\n    `.option[data-iso=\"${country.iso2}\"]`\r\n  );\r\n  if (selectedOption) selectedOption.classList.add(\"selected\");\r\n      optionsContainer.classList.remove(\"active\");\r\n  // Update phone input\r\n  if (phoneInput) {\r\n    const cleaned = phoneInput.value.replace(/^\\+\\d+\\s*/, \"\");\r\n    phoneInput.value = cleaned; //`${country.dialCode} ${cleaned}`.trim();\r\n  }\r\n\r\n  // Close dropdown\r\n//  optionsContainer.classList.remove(\"active\");\r\n  //selectBox.classList.remove(\"open\");\r\n}\r\n\r\n/* ---------------- RENDER OPTIONS ---------------- */\r\nfunction renderOptions() {\r\n  optionsList.innerHTML = \"\";\r\n\r\n  countryData.forEach(country => {\r\n    const optionDiv = document.createElement(\"div\");\r\n    optionDiv.className = \"option\";\r\n    optionDiv.dataset.iso = country.iso2;\r\n\r\n    optionDiv.innerHTML = `\r\n      <img src=\"${country.flag}\" class=\"flag-img\">\r\n      <span class=\"country-name\">${country.name}</span>\r\n      <span class=\"dial-code\">${country.dialCode}</span>\r\n    `;\r\n\r\n    optionDiv.addEventListener(\"click\", e => {\r\n      e.stopPropagation();\r\n      selectOption(country);\r\n    });\r\n\r\n    optionsList.appendChild(optionDiv);\r\n  });\r\n}\r\n\r\n  selectBox.addEventListener(\"click\", e => {\r\n    optionsContainer.classList.add(\"active\");\r\n    const isClickInside = selectBox.contains(event.target);\r\n\r\n    // If the click was *not* inside the element, remove the 'active' class\r\n    if (!isClickInside) {\r\n      optionsContainer.classList.remove('active')\r\n      console.log('Clicked outside - class removed.');\r\n    } else {\r\n      console.log('Clicked inside - class kept.');\r\n    }\r\n  });\r\ndocument.addEventListener('click', (event) => {\r\n  // Check if the clicked target is NOT the element and NOT inside the element;\r\n let rdioBtnCom = event.target.className.trim();\r\n  if (rdioBtnCom === \"radioBtn\") {\r\n    return;\r\n    }\r\n  else{\r\n        if(!selectBox.contains(event.target)) {\r\n    optionsContainer.classList.remove('active');\r\n  }\r\n  } \r\n\r\n});\r\n\r\n\r\ninit();\r\n"
              },
              "validationRules": {
                "value": []
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "propertyName": "selectedDevice",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "propertyName": "countryCode",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  }
                ]
              },
              "devices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"availableDevices\",\n        \"data\": \"{{global.parameters.availableDevices}}\",\n        \"tooltip\": \"{{global.parameters.availableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"availableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "allowCancel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"allowCancel\",\n        \"data\": \"{{global.parameters.allowCancel}}\",\n        \"tooltip\": \"{{global.parameters.allowCancel}}\",\n        \"children\": [\n          {\n            \"text\": \"allowCancel\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeDescription": {
                "value": ""
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              }
            },
            "idUnique": "vxv2353iqe",
            "isDisabled": false
          },
          "position": {
            "x": 2430,
            "y": 1230
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "yen98dcpti",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "code": {
                "value": "module.exports = a = async ({params}) => {\n    console.log('params: ', params)\n\n    try {\n        if (typeof params.input !== 'string') {\n            throw new Error('Input must be a string.')\n        }\n\n        const input = params.input.trim()\n\n        if (!input.includes('|')) {\n            return {\n                method: input\n            }\n        }\n\n        const [method, value] = input.split('|')\n\n        if (!method || !value) {\n            throw new Error('Invalid format. Expected \"METHOD|VALUE\".')\n        }\n\n        return {\n            method,\n            value\n        }\n\n    } catch (error) {\n        console.error('Error parsing input:', error.message)\n        throw error\n    }\n}\n"
              },
              "outputSchema": {
                "value": "{\n  \"output\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"method\": {\n        \"type\": \"string\"\n      },\n      \"value\": {\n        \"type\": \"string\"\n      }\n    },\n    \"required\": [\"method\"]\n  }\n}\n"
              },
              "nodeTitle": {
                "value": "Process selectedDevice"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "input",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"selectedDevice\",\n        \"data\": \"{{local.qfijpdejzw.payload.output.selectedDevice}}\",\n        \"tooltip\": \"{{local.qfijpdejzw.payload.output.selectedDevice}}\",\n        \"children\": [\n          {\n            \"text\": \"selectedDevice\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              }
            }
          },
          "position": {
            "x": 2977,
            "y": 1170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "5es08qb62k",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 3097,
            "y": 1170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xcbozti742",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "User selected VOICE/SMS"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "i7lbja57ga"
          },
          "position": {
            "x": 2560,
            "y": 1053.0702947845805
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "58g6sz24pa",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceType\",\n        \"data\": \"{{local.7qi7idcwvv.payload.output.deviceType}}\",\n        \"tooltip\": \"{{local.7qi7idcwvv.payload.output.deviceType}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"SMS\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "SMS?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"SMS\"\n      }\n    ]\n  }\n]",
                    "id": "avt8rcpnxd"
                  }
                ]
              }
            }
          },
          "position": {
            "x": 1510,
            "y": 3813.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "rirumd2ibn",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 1630,
            "y": 3813.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "zps8ukupby",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "createDevice",
            "type": "action",
            "properties": {
              "customDeviceType": {
                "value": "{}"
              },
              "customNotificationPolicyId": {
                "value": "{}"
              },
              "customTemplateVariant": {
                "value": "{}"
              },
              "deviceType": {
                "value": "VOICE"
              },
              "status": {
                "value": "ACTIVE"
              },
              "phone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"phone\",\n        \"data\": \"{{local.7qi7idcwvv.payload.output.phone}}\",\n        \"tooltip\": \"{{local.7qi7idcwvv.payload.output.phone}}\",\n        \"children\": [\n          {\n            \"text\": \"phone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Auto Enroll Voice"
              }
            }
          },
          "position": {
            "x": 2197,
            "y": 3810
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "gqsuch4i68",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2317,
            "y": 3810
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "2bdeodjs5u",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2317,
            "y": 3900
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "0teg88zt07",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.qfijpdejzw.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.qfijpdejzw.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"CANCEL\"\n      }\n    ]\n  }\n]"
              },
              "caseSensitive": {
                "value": false
              },
              "nodeTitle": {
                "value": "buttonValue?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"skip\"\n      }\n    ]\n  }\n]",
                    "id": "hjrubbuvub"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"TOTP\"\n      }\n    ]\n  }\n]",
                    "id": "c0lukipeny"
                  }
                ]
              }
            }
          },
          "position": {
            "x": 2707,
            "y": 1170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "beqpi415pb",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "idUnique": "jfmdchmmuw",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "eh45uuo9ep"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.pjzv5pikab.payload.output.device.id}}\",\n        \"tooltip\": \"{{local.pjzv5pikab.payload.output.device.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "usableDevices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"usableDevices\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.usableDevices}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.usableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"usableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "typeDisplayNames": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"typeDisplayNames\",\n        \"data\": \"{{local.dc2mhwx86e.payload.output.typeDisplayNames}}\",\n        \"tooltip\": \"{{local.dc2mhwx86e.payload.output.typeDisplayNames}}\",\n        \"children\": [\n          {\n            \"text\": \"typeDisplayNames\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceType\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.deviceType}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.deviceType}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "countryCode": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"countryCode\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.countryCode}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.countryCode}}\",\n        \"children\": [\n          {\n            \"text\": \"countryCode\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "phone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"phone\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.phone}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.phone}}\",\n        \"children\": [\n          {\n            \"text\": \"phone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rpid": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"rpid\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.rpid}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.rpid}}\",\n        \"children\": [\n          {\n            \"text\": \"rpid\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "email": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.email}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "resendMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"One-time passcode resent.\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 3381,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8hqaj06hy6",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"mfaEnabled\",\n        \"data\": \"{{global.parameters.mfaEnabled}}\",\n        \"tooltip\": \"{{global.parameters.mfaEnabled}}\",\n        \"children\": [\n          {\n            \"text\": \"mfaEnabled\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "boolean"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "MFA enabled for user?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "idUnique": "s48ix1bvw3"
          },
          "position": {
            "x": 1710,
            "y": 1170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "0v4dpfgdjx",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "label",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Cancel\"\n      }\n    ]\n  }\n]",
                    "key": 0.030619671177200658,
                    "label": "label (string - flowInstance)",
                    "type": "string"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Button 'Cancel'"
              }
            }
          },
          "position": {
            "x": 1950,
            "y": 1170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8mq6jrib4q",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "label",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Skip\"\n      }\n    ]\n  }\n]",
                    "key": 0.030619671177200658,
                    "label": "label (string - flowInstance)",
                    "type": "string"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Button 'Skip'"
              }
            },
            "idUnique": "166ose6tnw"
          },
          "position": {
            "x": 1950,
            "y": 1260
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "b9sa31qvj0",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2070,
            "y": 1170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "4s3vma79nu",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"You've reached the maximum number of verification attempts. Please refresh your browser, or choose a different verification method to continue.\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  },\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Device Locked Error"
              }
            },
            "idUnique": "8rvyzglnuq"
          },
          "position": {
            "x": 1237,
            "y": 4230
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "jysvt0ab1m",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1087,
            "y": 4230
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "pu6plbt7v9",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 2100,
            "y": 1260
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "61b794fd5z",
            "nodeType": "CONNECTION",
            "connectionId": "94141bf2f1b9b59a5f5365ff135e02bb",
            "connectorId": "pingOneSSOConnector",
            "name": "PingOne",
            "label": "PingOne",
            "status": "configured",
            "capabilityName": "userLookup",
            "type": "action",
            "properties": {
              "matchAttributes": {
                "value": [
                  "id"
                ]
              },
              "userIdentifierForFindUser": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"userId\",\n        \"data\": \"{{local.4b8gknb7qp.payload.output.userId}}\",\n        \"tooltip\": \"{{local.4b8gknb7qp.payload.output.userId}}\",\n        \"children\": [\n          {\n            \"text\": \"userId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Get Current Resend Count"
              }
            }
          },
          "position": {
            "x": 959,
            "y": 5643.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9x293d00mq",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "nmeymvujhb": {
                "value": "allTriggersTrue"
              }
            }
          },
          "position": {
            "x": 1079,
            "y": 5643.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "nmeymvujhb",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "code": {
                "value": "module.exports = a = async ({params}) => {\n    console.log('params: ', params)\n\n    try {\n        const maxResends = params.maxResends\n        const deviceId = params.deviceId\n        let currentState = params.currentState\n\n        if (!deviceId || typeof maxResends !== 'number') {\n            throw new Error(\"Missing required parameters: deviceId or maxResends\")\n        }\n\n        // Normalize currentState\n        if (!currentState || currentState === '' || currentState === null) {\n            currentState = []\n        } else if (typeof currentState === 'string') {\n            try {\n                currentState = JSON.parse(currentState)\n            } catch {\n                throw new Error(\"Invalid currentState format; expected an array or JSON array string.\")\n            }\n        }\n\n        if (!Array.isArray(currentState)) {\n            throw new Error(\"currentState must be an array\")\n        }\n\n        let found = false\n        const updatedState = []\n\n        for (const entry of currentState) {\n            const [id, countStr] = entry.split('|')\n            const count = parseInt(countStr, 10)\n\n            if (id === deviceId) {\n                found = true\n                if (count >= maxResends) {\n                    throw new Error(\"maxResends Reached\")\n                }\n                updatedState.push(`${deviceId}|${count + 1}`)\n            } else {\n                updatedState.push(entry)\n            }\n        }\n\n        if (!found) {\n            updatedState.push(`${deviceId}|1`)\n        }\n\n        console.log('updatedState: ', updatedState)\n        return { updatedState }\n    } catch (error) {\n        console.error('Error in MFA resend counter:', error.message)\n        throw error\n    }\n}\n"
              },
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"updatedState\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"items\": {\n\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "maxResends",
                    "preferredDataType": "number",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"5\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "currentState",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"{{local.61b794fd5z.payload.output.rawResponse.matchedUsers._embedded.users[0].otpRetries}}\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "deviceId",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceId\",\n        \"data\": \"{{local.4b8gknb7qp.payload.output.deviceId}}\",\n        \"tooltip\": \"{{local.4b8gknb7qp.payload.output.deviceId}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Limit Resend Number"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 1229,
            "y": 5643.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8q4wbmypi1",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "t5a0uhloy6": {
                "value": "anyTriggersFalse"
              },
              "m9ymn8o01o": {
                "value": "allTriggersTrue"
              },
              "y64a07b0le": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1349,
            "y": 5643.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "m9ymn8o01o",
            "nodeType": "CONNECTION",
            "connectionId": "94141bf2f1b9b59a5f5365ff135e02bb",
            "connectorId": "pingOneSSOConnector",
            "name": "PingOne",
            "label": "PingOne",
            "status": "configured",
            "capabilityName": "updateUser",
            "type": "action",
            "properties": {
              "additionalUserProperties": {
                "value": [
                  {
                    "name": "otpRetries",
                    "preferredDataType": "object",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"updatedState\",\n        \"data\": \"{{local.nmeymvujhb.payload.output.updatedState}}\",\n        \"tooltip\": \"{{local.nmeymvujhb.payload.output.updatedState}}\",\n        \"children\": [\n          {\n            \"text\": \"updatedState\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "identifier": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"userId\",\n        \"data\": \"{{local.4b8gknb7qp.payload.output.userId}}\",\n        \"tooltip\": \"{{local.4b8gknb7qp.payload.output.userId}}\",\n        \"children\": [\n          {\n            \"text\": \"userId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "username": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"username\",\n        \"data\": \"{{local.61b794fd5z.payload.output.matchedUser.username}}\",\n        \"tooltip\": \"{{local.61b794fd5z.payload.output.matchedUser.username}}\",\n        \"children\": [\n          {\n            \"text\": \"username\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Update Resend Count"
              },
              "matchAttribute": {
                "value": "id"
              }
            }
          },
          "position": {
            "x": 1499,
            "y": 5643.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "4b8gknb7qp",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Limit Resends"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"deviceId\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Device Id\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"deviceId\"\n\t\t},\n\t\t\"userId\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Ping One User ID\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"userId\"\n\t\t}\n\t}\n}"
              }
            }
          },
          "position": {
            "x": 689,
            "y": 5643.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "uokazcewx0",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 809,
            "y": 5643.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "1sfbj1qhcp",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 1619,
            "y": 5643.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "haxdaa4lzr",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "returnBackToCallingNode",
            "type": "trigger",
            "properties": {}
          },
          "position": {
            "x": 1769,
            "y": 5643.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "erzqj371ts",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "Limit Resends"
              },
              "width": {
                "value": 450
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              },
              "fontStyle": {
                "value": "bold"
              }
            },
            "status": "configured",
            "idUnique": "r773nex4cp"
          },
          "position": {
            "x": 599,
            "y": 5523.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "7z7cuvevdv",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "4b8gknb7qp"
              },
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceType\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.deviceType}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.deviceType}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2017,
            "y": 3000
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "s3nzvnd4hq",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2421,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "dsbfpn557g",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "TOTP"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"success\": {\n\t\t\t\"type\": \"boolean\",\n\t\t\t\"displayName\": \"success\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"success\"\n\t\t},\n\t\t\"canChangeDevice\": {\n\t\t\t\"type\": \"boolean\",\n\t\t\t\"displayName\": \"Can Change Device\",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"canChangeDevice\"\n\t\t}\n\t}\n}"
              }
            }
          },
          "position": {
            "x": 277,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "rb7ym2ipge",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 397,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "d9gz5eor2i",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "createDevice",
            "type": "action",
            "properties": {
              "customDeviceType": {
                "value": "{}"
              },
              "customNotificationPolicyId": {
                "value": "{}"
              },
              "customTemplateVariant": {
                "value": "{}"
              },
              "deviceType": {
                "value": "TOTP"
              },
              "status": {
                "value": "ACTIVATION_REQUIRED"
              },
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nickname": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"DeviceNickname\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Create TOTP Device"
              }
            }
          },
          "position": {
            "x": 547,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "65ocxow858",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 667,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "5pp4x7w2e4",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2827,
            "y": 1230
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "d9iskckyxg",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 2827,
            "y": 1320
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "muwkjryvjf",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "dsbfpn557g"
              }
            }
          },
          "position": {
            "x": 2977,
            "y": 1320
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ax6wjufnov",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "createQr",
            "type": "action",
            "properties": {
              "customUrl": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"keyUri\",\n        \"data\": \"{{local.d9gz5eor2i.payload.output.rawResponse.keyUri}}\",\n        \"tooltip\": \"{{local.d9gz5eor2i.payload.output.rawResponse.keyUri}}\",\n        \"children\": [\n          {\n            \"text\": \"keyUri\"\n          }\n        ]\n      },\n      {\n        \"text\": \"&issuer=MVC\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Generate QR Code"
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              }
            },
            "idUnique": "k2q4xh495h"
          },
          "position": {
            "x": 817,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ozjsmluj5x",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <link rel=\"stylesheet\" href=\"./vars.css\" />\n    <link rel=\"stylesheet\" href=\"scanWithApp.css\" />\n\n    <title>Scan with App</title>\n</head>\n\n<body>\n    <div class=\"overlay\">\n        <div class=\"scan-with-app-modal\" id=\"scanWithAppModal\">\n            <!-- <img class=\"companyLogo align-self-center mb-5\" src=\"{{global.variables.companyLogo}}\"\n                alt=\"{{global.variables.companyName}}\" /> -->\n            <div class=\"text-group\">\n                <div class=\"scan-with-app\">Scan with App</div>\n                <div\n                    class=\"scan-this-qr-code-with-your-authenticator-app-or-copy-enter-the-key-code-below-into-the-app-to-pair-your-app-learn-more-about-authenticator-apps\">\n                    Scan this QR code with your Authenticator App or copy/enter the key\n                    code below into the app to pair your app.<a class=\"learn-link\" target=\"blanck\" href=\"https://s3.amazonaws.com/mvc-web-static/2025/25-1203-4751100/Dowloading_the_Authenticator_app_E.pdf\">Learn More</a> about\n                    Authenticator Apps.\n                </div>\n            </div>\n            <div class=\"frame-61\">\n                <!-- <img alt=\"Scan-image\" class=\"image-1\" src=\"image-10.png\" /> -->\n                <a href=\"{{local.d9gz5eor2i.payload.output.rawResponse.keyUri}}&issuer=NVC\" target=\"_blank\"\n                    class=\"d-block text-center\">\n                    <img alt=\"Verify QR Code\" class=\"image-1\" src=\"{{local.ax6wjufnov.payload.output.generatedQr}}\" />\n                </a>\n                <div class=\"n-2-n-2-etyu-erf-2-edhh-8-ucj-han-3-jun-4-hnc-8\">\n                    {{local.d9gz5eor2i.payload.output.rawResponse.secret}}\n                </div>\n            </div>\n            <!-- Generic Error Message -->\n            <p class=\"text-danger mdi mdi-alert-circle text-center error-msg-scan-app\" data-id=\"feedback\" data-skcomponent=\"skerror\"\n                aria-live=\"assertive\"></p>\n\n            <!-- Field Validation Error Messages -->\n            <p class=\"text-danger mdi mdi-alert-circle text-center error-msg-scan-app\" id=\"passcodeError\" data-skerrorid=\"passcode\"\n                data-skcomponent=\"skerrormessage\" aria-live=\"assertive\">\n            </p>\n<!-- \n              <form id=\"otp-form\" data-id=\"otp-form\">\n                                    <div class=\"mb-4 form-floating\">\n                                        <input class=\"form-control text-center otp-control\" id=\"passcode\" type=\"text\"\n                                            autocomplete=\"one-time-code\" maxlength=\"6\" aria-required=\"true\"\n                                            aria-describedby=\"passcodeLabel\" placeholder=\"Passcode\" />\n                                        <label id=\"passcodeLabel\" class=\"form-label\" for=\"passcode\">Passcode</label>\n                                    </div>\n\n                                    <div class=\"mb-4 form-floating\">\n                                        <input class=\"form-control text-center\" id=\"deviceNickname\" type=\"text\"\n                                            autocomplete=\"off\" aria-required=\"false\" aria-describedby=\"nicknameLabel\"\n                                            placeholder=\"Device Nickname\" />\n                                        <label id=\"nicknameLabel\" class=\"form-label\" for=\"deviceNickname\">Device\n                                            Nickname (optional)</label>\n                                    </div>\n\n                                  \n                                </form> -->\n            <div class=\"frame-44528\">\n                <!-- <img alt=\"divider-line\" class=\"gray-divider\" src=\"gray-divider0.svg\" /> -->\n                <hr class=\"gray-divider\">\n                <div class=\"frame-58\">\n                    <div class=\"omvc-buttons-text-links\">\n                        <button id=\"submit\" type=\"submit\" aria-label=\"click the button to Continue\"\n                            data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"CONTINUE\"\n                            data-skform=\"otp-form\" class=\"submit\">Continue</button>\n                    </div>\n                     {{#if canChangeDevice}}\n                    <div class=\"links\">\n                        <div class=\"omvc-buttons-text-links2\">\n                            <div class=\"frame\">\n                                <button id=\"cancel\" type=\"button\" aria-label=\"click the button to Change Method\"\n                                    data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\n                                    data-skbuttonvalue=\"CANCEL\" data-skform=\"otp-form\" class=\"link-text\">Choose Another Method\n                                    </button>\n                            </div>\n                            {{/if}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"close-btn\">\n                <button id=\"modalX\" class=\"modal-crossBtn\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\n                    data-skbuttonvalue=\"CANCEL\"> <img\n                        src=\"https://content.marriottvacationclub.com/icon/close-x.png\" alt=\"Close\"></button>\n            </div>\n        </div>\n    </div>\n</body>\n\n</html>"
              },
              "formFieldsList": {
                "value": [
                  {
                    "propertyName": "passcode",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "propertyName": "deviceNickname",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "propertyName": "trustDevice",
                    "preferredControlType": "textField",
                    "preferredDataType": "boolean",
                    "value": "",
                    "hashedVisibility": false
                  }
                ]
              },
              "nodeTitle": {
                "value": "Passcode Verification (OTP)"
              },
              "customScript": {
                "value": "const setFieldFocus = (id) => {\n    const element = document.getElementById(id);\n    if (element) {\n        element.focus();\n    }\n}\n\nconst start = () => {\n    setFieldFocus(\"passcode\");\n}\n\nif (document.readyState === \"loading\") {\n    // Loading hasn't finished yet\n    document.addEventListener(\"DOMContentLoaded\", start);\n} else {\n    // `DOMContentLoaded` has already fired\n    start();\n}\n\n\n\n// ------------------ Config ------------------\n// const dev = true; // set to false in production\n// const moxieKey = \"PEE47-327B-3359-EAD0\"; // replace with your OLJS key\n//  const moxieKey =\"{{global.company.variables.moxieKeyMVC}}\";\n\n// --- NEW: Unique IDs for our dynamic elements ---\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\n\nfunction getMoxieKey(domain) {\n  switch (domain) {\n    case \"marriottvacationclub.com\":\n      return \"{{global.company.variables.moxieKeyMVC}}\";\n    case \"vacationclubap.com\":\n      return \"{{global.company.variables.moxieKeyVCAP}}\";\n    default:\n      // console.warn(`Unknown domain '${domain}'. Falling back to MVC key.`);\n      console.warn(`Unknown domain '${domain}'. Moxie key left empty.`);\n      return \"\";\n\n  }\n}\nconst domain = \"{{global.variables.domain}}\";\nconsole.log(\"Domain  is:\", domain);\nconst MOXIE_SCRIPT_ID = 'moxie-translation-script';\nconst moxieKey = getMoxieKey(domain);\nconsole.log(\"Moxie Key is:\", moxieKey);\n\n\n\n// Track whether background is currently active\nlet backgroundVisible = false;\n\n/**\n * Creates and injects a dimmed, full-screen iframe background.\n * Checks if elements already exist to avoid duplicates.\n * @param {string} url - The URL for the background website.\n */\nfunction insertBackgroundSiteDimmed(url) {\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\n\n  // Create the dimming overlay\n  const overlay = document.createElement('div');\n  overlay.id = BACKGROUND_OVERLAY_ID;\n  overlay.style.cssText = `\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\n      background:rgba(0,0,0,0.8); z-index:-1;\n    `;\n\n  // Create the iframe\n  const iframe = document.createElement('iframe');\n  iframe.id = BACKGROUND_IFRAME_ID;\n  iframe.src = url;\n  iframe.style.cssText = `\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\n      border:none; z-index:-2;\n    `;\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\n\n  // Add them to the page\n  document.body.insertBefore(overlay, document.body.firstChild);\n  document.body.insertBefore(iframe, document.body.firstChild);\n\n  console.log(\"Dimmed background and iframe have been injected.\");\n}\n\n\n// --- 1. Main Logic to Control the Background ---\nconst manageBackgroundVisibility = () => {\n  const modal = document.getElementById('scanWithAppModal');\n\n  if (modal && !backgroundVisible) {\n\n\n    insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageCreateAccount}}\");\n    backgroundVisible = true;\n\n  } else if (!modal && backgroundVisible) {\n    //removeBackgroundSiteDimmed();\n    backgroundVisible = false;\n  }\n};\n\n// --- 2. Watch for Page Changes in the SPA ---\nconst observer = new MutationObserver(manageBackgroundVisibility);\nobserver.observe(document.body, { childList: true, subtree: true });\n\n// --- 3. Initial Setup ---\nmanageBackgroundVisibility();\n\n\nfunction applyMoxieTranslations() {\n\n  const existingScript = document.getElementById(MOXIE_SCRIPT_ID);\n\n  if (existingScript) existingScript.remove();\n\n  const moxieScript = document.createElement(\"script\");\n\n  moxieScript.id = MOXIE_SCRIPT_ID;\n\n  moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\n\n  moxieScript.type = \"text/javascript\";\n\n  moxieScript.setAttribute(\"data-oljs\", moxieKey);\n\n  moxieScript.onerror = () => console.error(\"CRITICAL: Moxie script failed to load.\");\n\n  document.head.appendChild(moxieScript);\n\n}\n\napplyMoxieTranslations();\n\n\n\nfunction removeBackgroundSiteDimmed() {\n    const iframe = document.getElementById(BACKGROUND_IFRAME_ID);\n    const overlay = document.getElementById(BACKGROUND_OVERLAY_ID);\n\n    if (iframe) iframe.remove();\n    if (overlay) overlay.remove();\n\n    console.log(\"Dimmed background and iframe have been removed.\");\n}\n\n// On page unload\nwindow.addEventListener('beforeunload', () => {\n  //removeBackgroundSiteDimmed();\n});"
              },
              "nodeDescription": {
                "value": "One-time Passcode entry"
              },
              "customCSS": {
                "value": ".otp-control {\n    padding-top: 0rem !important;\n    padding-bottom: 0rem !important;\n    font-size: 17px;\n}\n\n.overlay {\n    box-sizing: border-box;\n    /* CHANGED: make modal layout flexible & centered */\n    min-height: 100vh; /* CHANGED: replace fixed height */\n    height: auto; /* CHANGED */\n    display: flex; /* CHANGED */\n    justify-content: center; /* CHANGED */\n    align-items: flex-start; /* CHANGED */\n    padding-left: 24px; /* CHANGED: replace 422px */\n    padding-right: 24px; /* CHANGED: replace 421px */\n    padding-top: 150px;\n    /* padding-bottom: 268px; */\n    margin: auto 0;\n}\n\n.scan-with-app-modal,\n.scan-with-app-modal * {\n    box-sizing: border-box;\n}\n\n.scan-with-app-modal {\n    background: var(--surface-primary, #ffffff);\n    border-radius: var(--corner-radii-10px, 10px);\n    padding: var(--spacing-48px, 48px);\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-24px, 24px);\n    align-items: stretch; /* CHANGED: from flex-end */\n    justify-content: flex-start;\n    width: 100%;\n    max-width: 760px;\n    min-width: 352px; /* CHANGED: prevent over-shrink */\n    position: relative;\n    box-shadow: var(--drop-shadows-standard-box-shadow,\n            0px 3px 5px 0px rgba(0, 0, 0, 0.3));\n    overflow: hidden;\n}\n\n.text-group {\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-12px, 12px);\n    align-items: flex-start;\n    justify-content: flex-start;\n    align-self: stretch;\n    flex-shrink: 0;\n    position: relative;\n}\n\n.scan-with-app {\n    color: var(--black, #000000);\n    text-align: left;\n    font-family: var(--headline-subhead-font-family,\n            \"Roboto-SemiBold\",\n            sans-serif);\n    font-size: var(--headline-subhead-font-size, 20px);\n    line-height: var(--headline-subhead-line-height, 30px);\n    font-weight: var(--headline-subhead-font-weight, 600);\n    position: relative;\n    align-self: stretch;\n    display: flex;\n    align-items: flex-end;\n    justify-content: flex-start;\n}\n\n.scan-this-qr-code-with-your-authenticator-app-or-copy-enter-the-key-code-below-into-the-app-to-pair-your-app-learn-more-about-authenticator-apps {\n    color: #000000;\n    text-align: left;\n    font-family: var(--body-body-default-font-family,\n            \"Roboto-Regular\",\n            sans-serif);\n    font-size: var(--body-body-default-font-size, 16px);\n    line-height: var(--body-body-default-line-height, 24px);\n    font-weight: var(--body-body-default-font-weight, 400);\n    position: relative;\n    align-self: stretch;\n    display: flex;\n    align-items: flex-end;\n    justify-content: flex-start;\n}\n.scan-this-qr-code-with-your-authenticator-app-or-copy-enter-the-key-code-below-into-the-app-to-pair-your-app-learn-more-about-authenticator-apps{\n    color: #000000;\n    font-family: var(--body-body-default-font-family);\n    font-size: var(--body-body-default-font-size, 16px);\n    line-height: var(--body-body-default-line-height, 24px);\n    font-weight: var(--body-body-default-font-weight, 400);\n    text-align: left;\n    word-wrap: break-word;\n    display: block;\n}\n\n.scan-this-qr-code-with-your-authenticator-app-or-copy-enter-the-key-code-below-into-the-app-to-pair-your-app-learn-more-about-authenticator-apps .learn-link {\n    margin-left: 6px; /* spacing between sentence & link */\n    color: #000;       /* match design */\n    font-weight: 500;\n    text-decoration: underline;\n    cursor: pointer;\n}\n\n.scan-this-qr-code-with-your-authenticator-app-or-copy-enter-the-key-code-below-into-the-app-to-pair-your-app-learn-more-about-authenticator-apps a {\n    white-space: nowrap; /* keeps 'Learn More' together */\n}\n\n\n.frame-61 {\n    display: flex;\n    flex-direction: column;\n    gap: 24px;\n    align-items: center;\n    justify-content: flex-start;\n    align-self: stretch;\n    flex-shrink: 0;\n    position: relative;\n}\n\n.image-1 {\n    flex-shrink: 0;\n    width: 180px; /* CHANGED: was 109px */\n    height: 180px; /* CHANGED: was 109px */\n    position: relative;\n    object-fit: contain; /* CHANGED: avoid crop */\n    aspect-ratio: 1;\n    border: 1px solid black;\n}\n\n.n-2-n-2-etyu-erf-2-edhh-8-ucj-han-3-jun-4-hnc-8 {\n    color: #000000;\n    text-align: center;\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; /* CHANGED */\n    font-size: 18px; /* CHANGED */\n    line-height: 28px; /* CHANGED */\n    font-weight: var(--body-body-default-font-weight, 400);\n    position: relative;\n    width: 100%; /* CHANGED: was 179px */\n    max-width: 20ch; /* CHANGED: help wrap to two lines */\n    margin: 0 auto; /* CHANGED */\n    display: block; /* CHANGED */\n    word-break: break-all; /* CHANGED */\n    padding: 0 16px; /* CHANGED */\n}\n\n.frame-44528 {\n    display: flex;\n    flex-direction: column;\n    gap: 24px;\n    align-items: flex-start;\n    justify-content: flex-start;\n    flex-shrink: 0;\n    position: relative;\n}\n\n.gray-divider {\n    flex-shrink: 0;\n    width: 100%; /* CHANGED: was 650px */\n    height: 0px;\n    position: relative;\n    overflow: visible;\n    border: none; /* CHANGED */\n    border-top: 1px solid #e5e5e5; /* CHANGED */\n}\n\n.frame-58 {\n    display: flex;\n    flex-direction: row;\n    gap: 32px;\n    align-items: center;\n    justify-content: flex-start;\n    flex-shrink: 0;\n    position: relative;\n    right: 0; /* CHANGED: was 11px */\n}\n\n.omvc-buttons-text-links {\n    background: var(--ink-black, #000000);\n    border-radius: var(--components-button-radius, 1000px);\n    padding: 0px var(--spacing-24px, 24px) 0px var(--spacing-24px, 24px);\n    display: flex;\n    flex-direction: row;\n    gap: var(--spacing-12px, 12px);\n    align-items: center;\n    justify-content: center;\n    flex-shrink: 0;\n    height: 48px;\n    position: relative;\n    overflow: hidden;\n}\n\n.submit {\n    color: var(--components-button-primary-text, #ffffff);\n    text-align: center;\n    font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\n    font-size: 16px;\n    line-height: 24px;\n    font-weight: 600;\n    position: relative;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    border: none;\n    background: none;\n    cursor: pointer;\n}\n\n.links {\n    display: flex;\n    flex-direction: row;\n    gap: 32px;\n    align-items: center;\n    justify-content: flex-start;\n    flex-shrink: 0;\n    position: relative;\n}\n\n.omvc-buttons-text-links2 {\n    display: flex;\n    flex-direction: row;\n    gap: 4px;\n    align-items: center;\n    justify-content: center;\n    flex-shrink: 0;\n    position: relative;\n}\n\n.error-msg-scan-app{\n    color: #c50000;\n    background: #f6ecec;\n    border-radius: 2px;\n    padding: 5px 5px;\n    width: 100%; /* CHANGED: stretch with card */\n    max-width: none; /* CHANGED: remove 300px cap */\n    margin: 0; /* CHANGED: remove side margins */\n    font-family: \"Roboto-Regular\", sans-serif;\n    font-size: 12px;\n    line-height: 18px;\n    font-weight: 400;\n}\n\n.frame {\n    display: flex;\n    flex-direction: column;\n    gap: 0px;\n    align-items: center;\n    justify-content: center;\n    flex-shrink: 0;\n    position: relative;\n}\n\n.link-text {\n    color: var(--ink-black, #000000);\n    text-align: left;\n    font-family: var(--text-body-font, \"Roboto-SemiBold\", sans-serif);\n    font-size: 16px;\n    line-height: 24px;\n    font-weight: 600;\n    text-decoration: underline;\n    position: relative;\n    background: none;\n    border: none;\n    cursor: pointer;\n}\n\n.close-btn .modal-crossBtn {\n    color: var(--black, #000000);\n    text-align: center;\n    font-family: \"FontAwesome6Pro-Solid\", sans-serif;\n    font-size: 24px;\n    font-weight: 400;\n    position: absolute;\n    right: 24px;\n    top: 24px;\n    width: 24px;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    border: none;\n    background: none;\n    cursor: pointer;\n}\n\n.modal-crossBtn {\n    top: 24px;\n    right: 24px;\n    font-family: \"Font Awesome 6 Pro\";\n    font-size: 24px;\n    font-weight: 900;\n}\n\n.modal-crossBtn img {\n    width: 24px;\n    height: 24px;\n    display: block;\n}\n\n/* ===== Desktop spec: Fixed 597px width, Height: Hug ===== */\n@media screen and (min-width: 1123px) {\n  .scan-with-app-modal {\n    width: 597px;        /* CHANGED: fixed width to match design */\n    max-width: 597px;    /* CHANGED */\n    min-width: 352px;    /* CHANGED */\n    height: auto;        /* CHANGED */\n  }\n}\n\n/*Responsive CSS for tablet and Mobile*/\n\n/* ========== Tablet View: max-width 1122px ========== */\n@media screen and (max-width: 1122px) {\n  .overlay {\n    padding: 40px 16px;\n    height: auto;\n    min-height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n  }\n\n  .scan-with-app-modal {\n    width: 100%;\n    max-width: 100%;\n    min-width: auto; /* CHANGED: allow fluid width on tablet */\n    padding: 32px 20px;\n    box-sizing: border-box;\n    align-items: stretch;\n  }\n\n  .frame-58,\n  .links {\n    flex-direction: column;\n    gap: 16px;\n    width: 100%;\n    align-items: stretch;\n  }\n\n  .omvc-buttons-text-links,\n  .submit {\n    width: 100%;\n    justify-content: center;\n  }\n\n  .gray-divider {\n    width: 100%;\n  }\n\n  .modal-crossBtn {\n    top: 16px;\n    right: 16px;\n    font-size: 20px;\n  }\n}\n\n/* ========== Mobile View: max-width 768px ========== */\n@media screen and (max-width: 768px) {\n  .overlay {\n    position: fixed;      /* CHANGED: center overlay in viewport */\n    inset: 0;             /* CHANGED */\n    min-height: 100vh;    /* CHANGED */\n    height: 100vh;        /* CHANGED */\n    display: flex;        /* CHANGED */\n    justify-content: center; /* CHANGED */\n    align-items: center;  /* CHANGED */\n    padding: 24px 12px;   /* CHANGED */\n  }\n\n  .scan-with-app-modal {\n    padding: 24px 16px;\n    border-radius: 8px;\n    gap: 16px;\n    margin: 0;                                /* CHANGED */\n    max-height: calc(100vh - 48px);           /* CHANGED */\n    overflow: auto;                           /* CHANGED */\n  }\n\n  .scan-with-app {\n    font-size: 18px;\n    line-height: 26px;\n  }\n\n  .scan-this-qr-code-with-your-authenticator-app-or-copy-enter-the-key-code-below-into-the-app-to-pair-your-app-learn-more-about-authenticator-apps {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .n-2-n-2-etyu-erf-2-edhh-8-ucj-han-3-jun-4-hnc-8 {\n    font-size: 14px;\n    line-height: 20px;\n    width: 100%;\n    text-align: center;\n    padding: 0 8px; /* CHANGED */\n    max-width: 20ch; /* CHANGED */\n  }\n\n  .image-1 {\n    width: 150px; /* CHANGED */\n    height: 150px; /* CHANGED */\n  }\n\n  .frame-58,\n  .links {\n    flex-direction: column;\n    gap: 12px;\n    width: 100%;\n  }\n\n  .omvc-buttons-text-links {\n    height: 44px;\n  }\n\n  .submit {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .link-text {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .modal-crossBtn {\n    top: 12px;\n    right: 12px;\n    font-size: 18px;\n  }\n}\n"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"type\": {\n\t\t\t\"displayName\": \"Device Type [EMAIL|SMS|VOICE|TOTP]\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n    \"textOne\": {\n\t\t\t\"displayName\": \"Text One\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"maskedContact\": {\n\t\t\t\"displayName\": \"Masked Contact\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"canChangeDevice\": {\n\t\t\t\"displayName\": \"Can change Device\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"resendMessage\": {\n\t\t\t\"displayName\": \"Resend Message\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"resendButtonLabel\": {\n\t\t\t\"displayName\": \"Resend Button Label\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"verifyButtonLabel\": {\n\t\t\t\"displayName\": \"Verify Button Label\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t}\n\t}\n}"
              },
              "textOne": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Complete Enrollment\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"TOTP\"\n      }\n    ]\n  }\n]"
              },
              "canChangeDevice": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"canChangeDevice\",\n        \"data\": \"{{local.dsbfpn557g.payload.output.canChangeDevice}}\",\n        \"tooltip\": \"{{local.dsbfpn557g.payload.output.canChangeDevice}}\",\n        \"children\": [\n          {\n            \"text\": \"canChangeDevice\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "verifyButtonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Verify Passcode\"\n      }\n    ]\n  }\n]"
              },
              "validationRules": {
                "value": [
                  {
                    "propertyName": "passcode",
                    "rules": [
                      {
                        "ruleName": "presence",
                        "message": "Enter the one-time passcode"
                      },
                      {
                        "ruleName": "length",
                        "wrongLength": "The one-time passcode must be six digits.",
                        "is": "6"
                      },
                      {
                        "ruleName": "format",
                        "pattern": "^[0-9]+$",
                        "message": "The one-time passcode must be six digits."
                      }
                    ]
                  }
                ]
              },
              "resendButtonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Resend Passcode\"\n      }\n    ]\n  }\n]"
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              }
            },
            "idUnique": "ok17739tja",
            "isDisabled": false
          },
          "position": {
            "x": 1087,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "k2z1z0vtbz",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 937,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "lv8ujg41ix",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "4m767nsx46"
              },
              "authMethod": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"TOTP\"\n      }\n    ]\n  }\n]"
              },
              "result": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"TOTP\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 4027,
            "y": 5460
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "jpibm7bq45",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "activateDevice",
            "type": "action",
            "properties": {
              "deviceAuthenticationId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.zph5g38hk7.payload.output.rawResponse.rp.id}}\",\n        \"tooltip\": \"{{local.zph5g38hk7.payload.output.rawResponse.rp.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "otp": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"codetextbox\",\n        \"data\": \"{{local.uo0tl28d8f.payload.output.codetextbox}}\",\n        \"tooltip\": \"{{local.uo0tl28d8f.payload.output.codetextbox}}\",\n        \"children\": [\n          {\n            \"text\": \"codetextbox\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "customNotificationPolicyId": {
                "value": "{}"
              },
              "customTemplateVariant": {
                "value": "{}"
              },
              "customApplicationId": {
                "value": "{}"
              },
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.d9gz5eor2i.payload.output.device.id}}\",\n        \"tooltip\": \"{{local.d9gz5eor2i.payload.output.device.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Complete Enrollment"
              }
            }
          },
          "position": {
            "x": 2035,
            "y": 5283.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "1iw1no53sc",
            "nodeType": "EVAL",
            "properties": {
              "b1x0eifo99": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2155,
            "y": 5283.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "b1x0eifo99",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"The passcode you entered isn't valid. Verify the passcode and try again.\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Invalid Passcode Error"
              }
            },
            "idUnique": "5f3dupeosw"
          },
          "position": {
            "x": 2305,
            "y": 5433.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wqy0tyt9h5",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.uo0tl28d8f.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.uo0tl28d8f.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"submit\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "OTP Form Button Action"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"CONTINUE\"\n      }\n    ]\n  }\n]",
                    "id": "js0k5824y5"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"CANCEL\"\n      }\n    ]\n  }\n]",
                    "id": "zb1ojca8u"
                  }
                ]
              },
              "nodeDescription": {
                "value": "Check which button was clicked"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "caseSensitive": {
                "value": false
              }
            },
            "isDisabled": false,
            "idUnique": "5a3elru39r"
          },
          "position": {
            "x": 1777,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "btm44dynua",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1885,
            "y": 5283.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ti742h0vjx",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 1920,
            "y": 5430
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "flxvv8j2g5",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "yhe5j5cca2"
              }
            }
          },
          "position": {
            "x": 2430,
            "y": 5700
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "cznj809key",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "updateDeviceNickname",
            "type": "action",
            "properties": {
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "deviceId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.d9gz5eor2i.payload.output.device.id}}\",\n        \"tooltip\": \"{{local.d9gz5eor2i.payload.output.device.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nickname": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"deviceNickname\",\n        \"data\": \"{{local.ozjsmluj5x.payload.output.deviceNickname}}\",\n        \"tooltip\": \"{{local.ozjsmluj5x.payload.output.deviceNickname}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceNickname\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Apply Nickname"
              }
            }
          },
          "position": {
            "x": 2305,
            "y": 5283.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9ypcirqjce",
            "nodeType": "EVAL",
            "properties": {
              "lv8ujg41ix": {
                "value": "always"
              },
              "cmkxek507": {
                "value": "always"
              }
            }
          },
          "position": {
            "x": 2425,
            "y": 5283.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "cmkxek507",
            "nodeType": "CONNECTION",
            "connectionId": "b72bd44e6be8180bd5988ac74cd9c949",
            "connectorId": "pingOneMfaConnector",
            "name": "PingOne MFA",
            "label": "PingOne MFA",
            "status": "configured",
            "capabilityName": "updateUserMFAEnabled",
            "type": "action",
            "properties": {
              "userId": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "mfaEnabled": {
                "value": true
              },
              "nodeTitle": {
                "value": "Enable MFA For User"
              }
            },
            "idUnique": "r3p097jykd"
          },
          "position": {
            "x": 2557,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "lyc4sf65jq",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2677,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "s6926l9ov7",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Trusted Browser?"
              },
              "saveVariables": {
                "value": [
                  {
                    "name": "RememberMe",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"rememberMe\",\n        \"data\": \"{{local.qdsmqnczwr.payload.output.rememberMe}}\",\n        \"tooltip\": \"{{local.qdsmqnczwr.payload.output.rememberMe}}\",\n        \"children\": [\n          {\n            \"text\": \"rememberMe\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.24626648687004993,
                    "label": "RememberMe (boolean - flowInstance)",
                    "type": "boolean",
                    "nameDefault": "rememberMe"
                  }
                ]
              }
            }
          },
          "position": {
            "x": 2031,
            "y": 3453.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hpteu0j5ln",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2151,
            "y": 3453.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fbj83n0dme",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "RememberMe",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"trustDevice\",\n        \"data\": \"{{local.ozjsmluj5x.payload.output.trustDevice}}\",\n        \"tooltip\": \"{{local.ozjsmluj5x.payload.output.trustDevice}}\",\n        \"children\": [\n          {\n            \"text\": \"trustDevice\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"rememberMe\",\n        \"data\": \"{{local.uo0tl28d8f.payload.output.rememberMe}}\",\n        \"tooltip\": \"{{local.uo0tl28d8f.payload.output.rememberMe}}\",\n        \"children\": [\n          {\n            \"text\": \"rememberMe\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.7363433540556763,
                    "label": "RememberMe (boolean - flowInstance)",
                    "type": "boolean",
                    "nameDefault": "trustDevice"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Trusted Browser?"
              }
            }
          },
          "position": {
            "x": 3757,
            "y": 5400
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "6vt24x2gkw",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 3907,
            "y": 5400
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "r6uua5htrn",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "TOTP Enrollment"
              },
              "width": {
                "value": 450
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              },
              "fontStyle": {
                "value": "bold"
              }
            },
            "status": "configured",
            "idUnique": "4l7sa9yhvb"
          },
          "position": {
            "x": 595,
            "y": 5103.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ub0ibziosj",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "User has no contact points"
              },
              "width": {
                "value": 1050
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              },
              "fontStyle": {
                "value": "bold"
              }
            },
            "status": "configured",
            "idUnique": "zi22ncyka0"
          },
          "position": {
            "x": 681,
            "y": 1743.0702947845805
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8a47pr25qk",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "8tr8nq23dr"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"No Usable Devices\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2648.4829931972786,
            "y": 737.2653061224489
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "63xxb4c20d",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 1689.1632653061224,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "1l1k03tehm",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 3397,
            "y": 1290
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ifct35turd",
            "nodeType": "CONNECTION",
            "connectionId": "94141bf2f1b9b59a5f5365ff135e02bb",
            "connectorId": "pingOneSSOConnector",
            "name": "PingOne",
            "label": "PingOne",
            "status": "configured",
            "capabilityName": "userLookup",
            "type": "action",
            "properties": {
              "userIdentifierForFindUser": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "matchAttributes": {
                "value": [
                  "id"
                ]
              },
              "nodeTitle": {
                "value": "Get User"
              }
            }
          },
          "position": {
            "x": 764,
            "y": 630
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "cx0z1bqh0t",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 875.1950113378684,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ntysk5zop5",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 801,
            "y": 6063.07029478458
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wwl6x1xvsl",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\r\n    <title>Document</title>\r\n    \r\n  </head>\r\n  <body>\r\n \r\n    <div class=\"parent-Auth\" id=\"authSucessModal\">\r\n      <div class=\"standard-modal modal-secure-authentication-mobile\">\r\n        <div class=\"frame-57 top-row\">\r\n          <div class=\"authentication-successful\">Authentication Successful</div>\r\n          <div class=\"frame-53 frame-96\">\r\n            <div\r\n              class=\"you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future\"\r\n            >\r\n              You have successfully authenticated your account. Select <strong>Manage Account/Security Settings</strong> if you wish to update your credentials. For added security, we recommend setting up a secondary backup method such as an alternate email or phone number.\r\n            </div>\r\n            <div class=\"frame-44525\">\r\n              <div class=\"frame-114\">\r\n                <div class=\"omvc-buttons-text-links\">\r\n                  \r\n                 <div class=\"submit\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"Continue\">Continue</div>\r\n                   <div id=\"continueBtn\" class=\"submit-to-continue\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"Continue\">Continue</div> \r\n                </div>\r\n              </div>\r\n              <div class=\"omvc-buttons-text-links2\">\r\n                <div class=\"frame\">\r\n                  <a id=\"seciritySettingLink\" class=\"link-text\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"emailandphone\">Security Settings</a>\r\n                </div>\r\n               \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </body>\r\n</html>"
              },
              "customCSS": {
                "value": "\r\n\r\n    .standard-modal,\r\n.standard-modal * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n.standard-modal {\r\n  background: var(--surface-primary, #ffffff);\r\n  border-radius: var(--corner-radii-10px, 10px);\r\n  padding: var(--spacing-48px, 48px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-24px, 24px);\r\n  align-items: flex-end; /* default (overridden below) */\r\n  justify-content: flex-start;\r\n  height: 272px;         /* default (overridden below) */\r\n  min-width: 352px;\r\n  max-width: 760px;\r\n  position: relative;\r\n  box-shadow: var(--drop-shadows-standard-box-shadow, 0px 3px 5px 0px rgba(0,0,0,.3));\r\n  overflow: hidden;\r\n}\r\n\r\n.frame-57 {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  align-self: stretch;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.authentication-successful {\r\n  color: #000;\r\n  text-align: left;\r\n  font-family: var(--headline-subhead-font-family, \"Roboto\", sans-serif);\r\n  font-size: var(--headline-subhead-font-size, 20px);\r\n  line-height: var(--headline-subhead-line-height, 30px);\r\n  font-weight: var(--headline-subhead-font-weight, 600);\r\n  position: relative;\r\n  align-self: stretch;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.frame-53 {\r\n  flex-shrink: 0;\r\n  width: 604px;     /* default (overridden below) */\r\n  height: 128px;    /* default (overridden below) */\r\n  position: relative; /* default (overridden below) */\r\n}\r\n\r\n.you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future {\r\n  color: #000;\r\n  text-align: left;\r\n  font-family: var(--body-body-default-font-family, \"Roboto\", sans-serif);\r\n  font-size: var(--body-body-default-font-size, 16px);\r\n  line-height: var(--body-body-default-line-height, 24px);\r\n  font-weight: var(--body-body-default-font-weight, 400);\r\n  position: absolute; /* default (overridden below) */\r\n  left: 0;\r\n  top: 0;\r\n  width: 604px;      /* default (overridden below) */\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.frame-44525 {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 24px;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  position: absolute; /* default (overridden below) */\r\n  left: 0;\r\n  top: 80px;\r\n}\r\n\r\n.frame-114 {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 32px;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.omvc-buttons-text-links {\r\n  background: var(--ink-black, #000);\r\n  border-radius: var(--components-button-radius, 1000px);\r\n  padding: 0 var(--spacing-24px, 24px);\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: var(--spacing-12px, 12px);\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  height: 48px;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.submit {\r\n  border: none;\r\n  background: none;\r\n  color: var(--components-button-primary-text, #fff);\r\n  text-align: center;\r\n  font-family: var(--text-body-font, \"Roboto\", sans-serif);\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  font-weight: 600;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: center;\r\n}\r\n\r\n.omvc-buttons-text-links2 {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 4px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.frame {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.link-text {\r\n  color: var(--ink-black, #000);\r\n  text-align: left;\r\n  font-family: var(--text-body-font, \"Roboto\", sans-serif);\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  font-weight: 600;\r\n  text-decoration: underline;\r\n  position: relative;\r\n  border: none;\r\n  background: none;\r\n}\r\n\r\n.parent-Auth {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100vh;\r\n}\r\n\r\n.submit-to-continue {\r\n  display: none;\r\n}\r\n\r\n/* ---------- Responsive ---------- */\r\n@media (max-width: 768px) {\r\n  .standard-modal {\r\n    width: 90%;\r\n    max-width: 400px;\r\n    min-width: auto;\r\n    padding: 24px;\r\n    height: auto;\r\n    border-radius: 12px;\r\n  }\r\n\r\n  .frame-53 {\r\n    width: 100%;\r\n    height: auto;\r\n    position: relative;\r\n  }\r\n\r\n  .you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future {\r\n    width: 100%;\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n    position: relative;\r\n  }\r\n\r\n  .frame-44525 {\r\n    flex-direction: column;\r\n    gap: 12px;\r\n    width: 100%;\r\n    position: relative;\r\n    top: auto;\r\n    left: auto;\r\n    margin-top: 16px;\r\n  }\r\n\r\n  .omvc-buttons-text-links {\r\n    width: 100%;\r\n    height: 44px;\r\n  }\r\n\r\n  .omvc-buttons-text-links2 {\r\n    flex-direction: column;\r\n    gap: 8px;\r\n    width: 100%;\r\n  }\r\n\r\n  .submit-to-continue {\r\n    color: var(--components-button-primary-text, #fff);\r\n    text-align: center;\r\n    font-family: var(--text-body-font, \"Roboto\", sans-serif);\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    font-weight: 600;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    justify-content: center;\r\n  }\r\n\r\n  .submit { display: none; }\r\n  .frame .link-text { display: block; }\r\n\r\n  .authentication-successful {\r\n    font-size: 18px;\r\n    line-height: 26px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .standard-modal { width: 95%; padding: 16px; }\r\n  .authentication-successful { font-size: 16px; line-height: 22px; }\r\n\r\n  .omvc-buttons-text-links {\r\n    background: var(--ink-black, #000);\r\n    border-radius: var(--components-button-radius, 1000px);\r\n    padding: 0 var(--spacing-24px, 24px);\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: var(--spacing-12px, 12px);\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-shrink: 0;\r\n    width: 304px;\r\n    height: 48px;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .omvc-buttons-text-links2 { display: block; }\r\n\r\n  .submit-to-continue {\r\n    color: var(--components-button-primary-text, #fff);\r\n    text-align: center;\r\n    font-family: var(--text-body-font, \"Roboto\", sans-serif);\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    font-weight: 600;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    justify-content: center;\r\n    border: none;\r\n    background: none;\r\n  }\r\n\r\n  .submit { display: none; }\r\n  .frame .link-text { display: block; }\r\n}\r\n\r\n/* =======================\r\n   OVERRIDES FOR CLEAN LAYOUT\r\n   ======================= */\r\n\r\n/* Align content left + auto height */\r\n.standard-modal {\r\n  align-items: flex-start;\r\n  height: auto;\r\n}\r\n\r\n/* Let content stack naturally */\r\n.frame-53 {\r\n  width: 100%;\r\n  height: auto;\r\n  position: static;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px; /* space between paragraph and buttons */\r\n}\r\n\r\n/* Paragraph in normal flow */\r\n.you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future {\r\n  position: static;\r\n  width: 100%;\r\n  display: block;\r\n  align-items: initial;\r\n  justify-content: initial;\r\n  margin: 0;\r\n}\r\n\r\n/* Buttons row in normal flow */\r\n.frame-44525 {\r\n  position: static;\r\n  margin-top: 4px;\r\n}\r\n\r\n\r\n"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "nodeTitle": {
                "value": "Authentication Successful Message"
              },
              "customScript": {
                "value": "\r\n\r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n\r\n// function getMoxieKey(domain) {\r\n//   switch (domain) {\r\n//     case \"marriottvacationclub.com\":\r\n//       return \"{{global.company.variables.moxieKeyMVC}}\";\r\n//     case \"vacationclubap.com\":\r\n//       return \"{{global.company.variables.moxieKeyVCAP}}\";\r\n//     default:\r\n//       // console.warn(`Unknown domain '${domain}'. Falling back to MVC key.`);\r\n//       console.warn(`Unknown domain '${domain}'. Moxie key left empty.`);\r\n//       return \"\";\r\n\r\n//   }\r\n// }\r\nconst domain = \"{{global.variables.domain}}\";\r\nconsole.log(\"Domain  is:\", domain);\r\n// const MOXIE_SCRIPT_ID = 'moxie-translation-script';\r\n// const moxieKey = getMoxieKey(domain);\r\n// console.log(\"Moxie Key is:\", moxieKey);\r\n\r\n\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n  // Create the dimming overlay\r\n  const overlay = document.createElement('div');\r\n  overlay.id = BACKGROUND_OVERLAY_ID;\r\n  overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n  // Create the iframe\r\n  const iframe = document.createElement('iframe');\r\n  iframe.id = BACKGROUND_IFRAME_ID;\r\n  iframe.src = url;\r\n  iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n  // Add them to the page\r\n  document.body.insertBefore(overlay, document.body.firstChild);\r\n  document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n  console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n  const modal = document.getElementById('authSucessModal');\r\n\r\n  if (modal && !backgroundVisible) {\r\n\r\n    if (domain.includes(\"grandresidenceclub.com\")) {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\r\n      backgroundVisible = true;\r\n\r\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\r\n\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n    else {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n  } else if (!modal && backgroundVisible) {\r\n    // removeBackgroundSiteDimmed();\r\n    backgroundVisible = false;\r\n  }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n\r\n\r\n\r\n\r\n\r\n// function applyMoxieTranslations() {\r\n\r\n//   const existingScript = document.getElementById(MOXIE_SCRIPT_ID);\r\n\r\n//   if (existingScript) existingScript.remove();\r\n\r\n//   const moxieScript = document.createElement(\"script\");\r\n\r\n//   moxieScript.id = MOXIE_SCRIPT_ID;\r\n\r\n//   moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n\r\n//   moxieScript.type = \"text/javascript\";\r\n\r\n//   moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n\r\n//   moxieScript.onerror = () => console.error(\"CRITICAL: Moxie script failed to load.\");\r\n\r\n//   document.head.appendChild(moxieScript);\r\n\r\n// }\r\n\r\n// applyMoxieTranslations();\r\n"
              }
            },
            "idUnique": "u5kow6bdth"
          },
          "position": {
            "x": 2767,
            "y": 3810
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8az6tnhdxs",
            "nodeType": "EVAL",
            "properties": {
              "ew8wmbtjs7": {
                "value": "anyTriggersFalse"
              },
              "lbContext": {
                "value": "global"
              }
            }
          },
          "position": {
            "x": 2887,
            "y": 3810
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ai8g2rm6op",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "code": {
                "value": "module.exports = a = async ({params}) => {\n    console.log('params: ', params)\n\n    try {\n        const email = params.email;\n        const phone = params.phone;\n        const type = params.type;\n\n        if (type === 'register') {\n            return { canChangeDeviceEnrollment: true }\n        }\n\n        if ((!email && !phone) || !phone) {\n            return { canChangeDeviceEnrollment: false }\n        }\n\n        return { canChangeDeviceEnrollment: true }\n\n    } catch (error) {\n        throw new Error(`Error processing inputs: ${error.message}`)\n    }\n}\n"
              },
              "outputSchema": {
                "value": "{\n  \"output\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"canChangeDeviceEnrollment\": {\n        \"type\": \"boolean\"\n      }\n    }\n  }\n}\n"
              },
              "nodeTitle": {
                "value": "Can Change Device Enrollment?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "email",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{local.ifct35turd.payload.output.matchedUser.email}}\",\n        \"tooltip\": \"{{local.ifct35turd.payload.output.matchedUser.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "phone",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"primaryPhone\",\n        \"data\": \"{{local.ifct35turd.payload.output.matchedUser.primaryPhone}}\",\n        \"tooltip\": \"{{local.ifct35turd.payload.output.matchedUser.primaryPhone}}\",\n        \"children\": [\n          {\n            \"text\": \"primaryPhone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "type",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"type\",\n        \"data\": \"{{global.parameters.type}}\",\n        \"tooltip\": \"{{global.parameters.type}}\",\n        \"children\": [\n          {\n            \"text\": \"type\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              }
            }
          },
          "position": {
            "x": 1221,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ye80i2chrb",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1341,
            "y": 3003.0702947845803
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hl3p81mg43",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "incrementByN",
            "type": "action",
            "properties": {
              "variable": {
                "value": "skipByCount"
              },
              "incrementCounter": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"1\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Increment skipByCount"
              }
            }
          },
          "position": {
            "x": 2737,
            "y": 1590
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "94x2kbz207",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 2857,
            "y": 1590
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xxaudccxwg",
            "nodeType": "CONNECTION",
            "connectionId": "94141bf2f1b9b59a5f5365ff135e02bb",
            "connectorId": "pingOneSSOConnector",
            "name": "PingOne",
            "label": "PingOne",
            "status": "configured",
            "capabilityName": "updateUser",
            "type": "action",
            "properties": {
              "additionalUserProperties": {
                "value": [
                  {
                    "name": "skipByCount",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"skipByCount\",\n        \"data\": \"{{global.variables.skipByCount}}\",\n        \"tooltip\": \"{{global.variables.skipByCount}}\",\n        \"children\": [\n          {\n            \"text\": \"skipByCount\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "identifier": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"id\",\n        \"data\": \"{{local.ifct35turd.payload.output.matchedUser.id}}\",\n        \"tooltip\": \"{{local.ifct35turd.payload.output.matchedUser.id}}\",\n        \"children\": [\n          {\n            \"text\": \"id\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "username": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"username\",\n        \"data\": \"{{local.ifct35turd.payload.output.matchedUser.username}}\",\n        \"tooltip\": \"{{local.ifct35turd.payload.output.matchedUser.username}}\",\n        \"children\": [\n          {\n            \"text\": \"username\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Update skipByCount"
              }
            }
          },
          "position": {
            "x": 3007,
            "y": 1590
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "1hbe6lfivw",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "variable": {
                "value": "skip"
              },
              "saveVariables": {
                "value": [
                  {
                    "name": "skipByCount",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"{{local.ifct35turd.payload.output.rawResponse.matchedUsers._embedded.users[0].skipByCount}}\"\n      }\n    ]\n  }\n]",
                    "key": 0.5925587306866317,
                    "label": "skipByCount (number - flowInstance)",
                    "type": "number",
                    "nameDefault": "skipByCount"
                  }
                ]
              }
            }
          },
          "position": {
            "x": 1020.546485260771,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "v2ozb025hm",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1136.827664399093,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "osnmh797fi",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 3127,
            "y": 1590
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "d46l4ikf0a",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<!-- v1.0 -->\r\n<!-- 2025-08-26 updated by Tony Kroukamp -->\r\n<!-- used input 'spinTime' to control delay for button click -->\r\n\r\n<div id=\"spinner-container\">\r\n  <div class=\"spinner\"></div>\r\n</div>\r\n\r\n<button\r\n  type=\"button\"\r\n  data-skcomponent=\"skbutton\"\r\n  id=\"nextEventBtn\"\r\n  class=\"hidden\"\r\n  data-skbuttontype=\"next-event\"\r\n  data-skbuttonvalue=\"proceed\"\r\n>\r\n  Next\r\n</button>\r\n"
              },
              "customCSS": {
                "value": "#spinner-container {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 9999;\r\n}\r\n\r\n.spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 4px solid #ccc;\r\n  border-top-color: #333;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n\r\n@keyframes spin {\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n"
              },
              "customScript": {
                "value": "// Parse the input value 'spinTime' and use it for delay\r\nconst spinDelay = parseInt(\"{{spinTime}}\", 10) || 15;\r\n\r\nsetTimeout(function () {\r\n  document.getElementById(\"nextEventBtn\").click();\r\n}, spinDelay);\r\n"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "nodeTitle": {
                "value": "Spinner"
              },
              "inputSchema": {
                "value": "{\r\n  \"type\": \"object\",\r\n  \"properties\": {\r\n    \"spinTime\": {\r\n      \"type\": \"integer\",\r\n      \"title\": \"Spinner Delay Time (ms)\",\r\n      \"description\": \"Time in milliseconds before the next-event button is triggered.\",\r\n      \"minimum\": 0,\r\n      \"default\": 15\r\n    }\r\n  },\r\n  \"required\": [\"spinTime\"]\r\n}\r\n"
              },
              "spinTime": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"500\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "ue62exac86",
            "isDisabled": false
          },
          "position": {
            "x": 2257,
            "y": 3000
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "bx4ydvr6ha",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"type\",\n        \"data\": \"{{global.parameters.type}}\",\n        \"tooltip\": \"{{global.parameters.type}}\",\n        \"children\": [\n          {\n            \"text\": \"type\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"register\"\n      }\n    ]\n  }\n]",
                    "id": "4907vgdon8"
                  }
                ]
              },
              "caseSensitive": {
                "value": false
              },
              "nodeTitle": {
                "value": "Invoke Method"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 1282.1791383219954,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "dq02g1new7",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1398.4603174603174,
            "y": 620.984126984127
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "3pmfl1aui6",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 1136.827664399093,
            "y": 824.4761904761904
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ul2qvh0q1f",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "code": {
                "value": "module.exports = a = async ({params}) => {\n    console.log('params: ', params)\n\n    try {\n        const email = params.email;\n        const phone = params.phone;\n\n        const hasEmail = typeof email === 'string' && email.trim() !== '';\n        const hasPhone = typeof phone === 'string' && phone.trim() !== '';\n\n        if (!hasEmail && hasPhone) {\n            return { method: 'SMS' }\n        }\n\n        if (hasEmail && !hasPhone) {\n            return { method: 'EMAIL' }\n        }\n\n        return { method: 'EMAIL' }\n\n    } catch (error) {\n        throw new Error(`Error determining method: ${error.message}`)\n    }\n}\n"
              },
              "outputSchema": {
                "value": "{\n  \"output\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"method\": {\n        \"type\": \"string\"\n      }\n    }\n  }\n}\n"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "email",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{global.parameters.email}}\",\n        \"tooltip\": \"{{global.parameters.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  {
                    "name": "phone",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"phone\",\n        \"data\": \"{{global.parameters.phone}}\",\n        \"tooltip\": \"{{global.parameters.phone}}\",\n        \"children\": [\n          {\n            \"text\": \"phone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Determine Reg Method"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 1282.1791383219954,
            "y": 824.4761904761904
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "lovp7olqma",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 1398.4603174603174,
            "y": 824.4761904761904
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8jenkqs9c7",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "dc2mhwx86e"
              },
              "deviceType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"method\",\n        \"data\": \"{{local.ul2qvh0q1f.payload.output.method}}\",\n        \"tooltip\": \"{{local.ul2qvh0q1f.payload.output.method}}\",\n        \"children\": [\n          {\n            \"text\": \"method\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "phone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"phone\",\n        \"data\": \"{{global.parameters.phone}}\",\n        \"tooltip\": \"{{global.parameters.phone}}\",\n        \"children\": [\n          {\n            \"text\": \"phone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "email": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{global.parameters.email}}\",\n        \"tooltip\": \"{{global.parameters.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1543.8117913832198,
            "y": 824.4761904761904
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "os8r0vdddt",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"type\",\n        \"data\": \"{{global.parameters.type}}\",\n        \"tooltip\": \"{{global.parameters.type}}\",\n        \"children\": [\n          {\n            \"text\": \"type\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"register\"\n      }\n    ]\n  }\n]",
                    "id": "4907vgdon8"
                  }
                ]
              },
              "caseSensitive": {
                "value": false
              },
              "nodeTitle": {
                "value": "Invoke Method"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "idUnique": "z1tyqkq8ut"
          },
          "position": {
            "x": 2017,
            "y": 3180
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "gxliagbi44",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2167,
            "y": 3270
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "lybtpbxlui",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 2167,
            "y": 3180
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "px68cab1ak",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "createErrorResponse",
            "type": "action",
            "properties": {
              "claimsNameValuePairs": {
                "value": [
                  {
                    "name": "action",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"cancel\"\n      }\n    ]\n  }\n]",
                    "key": 0.8609854683917606,
                    "label": "action (string - flowInstance)",
                    "type": "string"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Return to calling flow"
              },
              "backgroundColor": {
                "value": "#d0021bff"
              }
            },
            "idUnique": "zaqk86m6bu"
          },
          "position": {
            "x": 2317,
            "y": 3180
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hshmxqqhw6",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "companyName",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Vistana\"\n      }\n    ]\n  }\n]",
                    "key": 0.8558926100565449,
                    "label": "companyName (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "companyLogo",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"https://upload.wikimedia.org/wikipedia/en/4/48/Blank.JPG\"\n      }\n    ]\n  }\n]",
                    "key": 0.39163997835833153,
                    "label": "companyLogo (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "rpid",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"auth.pingone.com\"\n      }\n    ]\n  }\n]",
                    "key": 0.10591689908436841,
                    "label": "rpid (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "origin",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"https://auth.pingone.com\"\n      }\n    ]\n  }\n]",
                    "key": 0.1334072925178882,
                    "label": "origin (string - flowInstance)",
                    "type": "string"
                  },
                  {
                    "name": "domain",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"domain\",\n        \"data\": \"{{local.29r3jl39ef.payload.output.domain}}\",\n        \"tooltip\": \"{{local.29r3jl39ef.payload.output.domain}}\",\n        \"children\": [\n          {\n            \"text\": \"domain\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.12154563615777003,
                    "label": "domain (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "domain"
                  },
                  {
                    "name": "baseUrl",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"baseUrl\",\n        \"data\": \"{{local.29r3jl39ef.payload.output.baseUrl}}\",\n        \"tooltip\": \"{{local.29r3jl39ef.payload.output.baseUrl}}\",\n        \"children\": [\n          {\n            \"text\": \"baseUrl\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.8578859481908947,
                    "label": "baseUrl (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "baseUrl"
                  },
                  {
                    "name": "abbreviation",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"abbreviation\",\n        \"data\": \"{{local.29r3jl39ef.payload.output.abbreviation}}\",\n        \"tooltip\": \"{{local.29r3jl39ef.payload.output.abbreviation}}\",\n        \"children\": [\n          {\n            \"text\": \"abbreviation\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.34972997254112403,
                    "label": "abbreviation (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "abbreviation"
                  },
                  {
                    "name": "friendlyName",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"friendlyName\",\n        \"data\": \"{{local.29r3jl39ef.payload.output.friendlyName}}\",\n        \"tooltip\": \"{{local.29r3jl39ef.payload.output.friendlyName}}\",\n        \"children\": [\n          {\n            \"text\": \"friendlyName\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.32171048831671833,
                    "label": "friendlyName (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "friendlyName"
                  },
                  {
                    "name": "contactUsLink",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"contactUsLink\",\n        \"data\": \"{{local.29r3jl39ef.payload.output.contactUsLink}}\",\n        \"tooltip\": \"{{local.29r3jl39ef.payload.output.contactUsLink}}\",\n        \"children\": [\n          {\n            \"text\": \"contactUsLink\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.8198166970985717,
                    "label": "contactUsLink (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "contactUsLink"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set flow instance variables"
              },
              "nodeDescription": {}
            },
            "idUnique": "zyvcc0ssnv"
          },
          "position": {
            "x": 554,
            "y": 480
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "29r3jl39ef",
            "nodeType": "CONNECTION",
            "connectionId": "c1fb1305c68853e6894536e49ffbd0d1",
            "connectorId": "codeSnippetConnector",
            "name": "Name by Domain",
            "label": "Name by Domain",
            "status": "configured",
            "capabilityName": "snippet",
            "type": "trigger",
            "properties": {
              "functionArgumentList": {
                "value": {
                  "input": {
                    "type": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"origin\",\n        \"data\": \"{{global.origin}}\",\n        \"tooltip\": \"{{global.origin}}\",\n        \"children\": [\n          {\n            \"text\": \"origin\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                }
              }
            }
          },
          "position": {
            "x": 314,
            "y": 630
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "kq5xhkzozd",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 434,
            "y": 630
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "g6enrqjtio",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 656.4569160997733,
            "y": 625.4920634920635
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "mmqkleoi92",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2122,
            "y": 3000
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "q5tenx0vkx",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 2557,
            "y": 1170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "6kk2cqci87",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 2530.5,
            "y": 855.0527128063652
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "3mijhvdikd",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"selectedDevice\",\n        \"data\": \"{{local.qfijpdejzw.payload.output.selectedDevice}}\",\n        \"tooltip\": \"{{local.qfijpdejzw.payload.output.selectedDevice}}\",\n        \"children\": [\n          {\n            \"text\": \"selectedDevice\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Authenticator App selected"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"TOTP\"\n      }\n    ]\n  }\n]"
              },
              "caseSensitive": {
                "value": false
              }
            }
          },
          "position": {
            "x": 2647,
            "y": 840
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hzekxp0px1",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "yen98dcpti": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2806.5,
            "y": 894.5530286673863
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "j16froj3df",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "dsbfpn557g"
              },
              "canChangeDevice": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2951,
            "y": 934.0533445284076
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "fm4l23kacb",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"skipSuccessMessage\",\n        \"data\": \"{{global.parameters.skipSuccessMessage}}\",\n        \"tooltip\": \"{{global.parameters.skipSuccessMessage}}\",\n        \"children\": [\n          {\n            \"text\": \"skipSuccessMessage\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "boolean"
              },
              "nodeTitle": {
                "value": "Skip Success Message?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            }
          },
          "position": {
            "x": 2497,
            "y": 3990
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "psz28a18x0",
            "nodeType": "EVAL",
            "properties": {
              "wwl6x1xvsl": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2617,
            "y": 3990
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "l789k5080k",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsMultipleB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.ozjsmluj5x.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.ozjsmluj5x.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"submit\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "OTP Form Button Action"
              },
              "rightValueMultiple": {
                "value": [
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"CONTINUE\"\n      }\n    ]\n  }\n]",
                    "id": "js0k5824y5"
                  },
                  {
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"CANCEL\"\n      }\n    ]\n  }\n]",
                    "id": "zb1ojca8u"
                  }
                ]
              },
              "nodeDescription": {
                "value": "Check which button was clicked"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "caseSensitive": {
                "value": false
              }
            },
            "isDisabled": false,
            "idUnique": "h22lh8fox3"
          },
          "position": {
            "x": 1327,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "w9qbcgvzvd",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1417,
            "y": 5430
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "uo0tl28d8f",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"type\": {\n\t\t\t\"displayName\": \"Device Type\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"maskedPhone\": {\n\t\t\t\"displayName\": \"Masked Phone\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"maskedEmail\": {\n\t\t\t\"displayName\": \"Masked Email\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"canChangeDevice\": {\n\t\t\t\"displayName\": \"Can change Device\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"resendMessage\": {\n\t\t\t\"displayName\": \"Resend Message\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"resendButtonLabel\": {\n\t\t\t\"displayName\": \"Resend Button Label\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t},\n\t\t\"primaryButtonLabel\": {\n\t\t\t\"displayName\": \"Primary Button Label\",\n\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\"enableParameters\": true\n\t\t}\n\t}\n}"
              },
              "outputSchema": {
                "value": {}
              },
              "customHTML": {
                "value": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n  <meta charset=\"UTF-8\" />\r\n  <title>Enter OTP</title>\r\n  <link rel=\"stylesheet\" href=\"./codeEntery_success.css\" />\r\n  <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\r\n  <!-- Auther: Swapnali Deshmukh -->\r\n  <!-- version:1.0.6 -->\r\n</head>\r\n\r\n<body>\r\n \r\n\r\n  <!-- Enter code page=============================================== -->\r\n  <div id=\"codeEntryModal\" class=\"main-container\">\r\n    <div class=\"modal\" id=\"entercodeModal\">\r\n      <h2>Enter Code</h2>\r\n      \r\n      <div\r\n          class=\"close-btn\"\r\n          id=\"cancelBtn\"\r\n          data-skcomponent=\"skbutton\"\r\n          data-skbuttontype=\"next-event\"\r\n          data-skbuttonvalue=\"CANCEL\"\r\n          data-skform=\"frmCode\"\r\n        >\r\n         <img width=\"20\" height=\"20\" src=\"https://content.marriottvacationclub.com/icon/close-x.png\" alt=\"external-close-button-it-and-computer-inkubators-basic-outline-inkubators\"/>\r\n        </div> \r\n      \r\n      <div class=\"info-box\" id=\"dynamicMessage\">\r\n       Please enter the code sent shown in your Authenticator App.\r\n      </div>\r\n\r\n      <form id=\"frmCode\">\r\n        {{#if resendMessage}}\r\n        <div class=\"login--ConfirmationMessage\" data-skcomponent=\"sksuccess\">\r\n          <div class=\"login--NewCodeHasBeenSent\" style=\"display: flex;align-items: center;justify-content: flex-start;\">\r\n            <img src=\"https://content.marriottvacationclub.com/icon/green-check-circle.png\" style=\"margin-right: 5px;\"/>A new code has been sent.\r\n          </div>\r\n          <div data-layer=\"Bounding box\" class=\"BoundingBox\">\r\n            \r\n          </div>\r\n        </div>\r\n        {{/if}}\r\n\r\n         <div class=\"error-container text-center\">\r\n              <img src=\"https://content.marriottvacationclub.com/icon/trianglewarning.png\" id=\"error-icon\"\r\n                alt=\"Warning\" \r\n                style=\"width:20px;height:20px;vertical-align:middle;margin-right:5px; display:none;\">\r\n            <div class=\"text-danger mdi mdi-alert-circle icon-padding error-div\"\r\n                data-id=\"feedback\" data-skcomponent=\"skerror\" id=\"error-msg\"></div>\r\n          </div>\r\n        <div class=\"checkbox-group\">\r\n          <input\r\n              type=\"checkbox\" aria-label=\"trust-this-device\"\r\n             \t       id=\"rememberMe\"\r\n\t\t       class=\"rememberMe-trust\"\r\n              trustBrowserChecked\r\n              {{global.variables.trustBrowserChecked}}\r\n            />\r\n          <label for=\"rememberme\" class=\"trust-device\">Trust this device</label>\r\n        </div>\r\n\r\n        <div class=\"input-group\">\r\n          <label for=\"codetextbox\">CODE</label>\r\n          <input\r\n              id=\"codetextbox\"\r\n              maxlength=\"6\"\r\n              class=\"otp-box GlobalLinkNoTx\"\r\n            />\r\n        </div>\r\n\r\n        <!-- Auto-submitted button -->\r\n        <button\r\n            id=\"Submit\"\r\n            type=\"submit\"\r\n            aria-label=\"click the button to Send code\"\r\n            style=\"display: none\"\r\n            data-skcomponent=\"skbutton\"\r\n            data-skbuttontype=\"form-submit\"\r\n            data-skbuttonvalue=\"Continue\"\r\n            data-skform=\"frmCode\"\r\n          >\r\n            Submit\r\n          </button>\r\n\r\n        <div class=\"link-buttons\">\r\n         \r\n        {{#if canChangeDevice}}\r\n          <button\r\n              id=\"CANCEL\"\r\n              type=\"submit\"\r\n              aria-label=\"click the button to Send code\"\r\n              class=\"login--button-choosediffmodel\"\r\n              data-skcomponent=\"skbutton\"\r\n              data-skbuttontype=\"next-event\"\r\n              data-skbuttonvalue=\"CANCEL\"\r\n              data-skform=\"frmCode\" style=\"margin-left: 20px;\"\r\n            >\r\n              Choose Another Method\r\n           \r\n            </button>\r\n          {{/if}} \r\n       <!--     {{#if canChangeDevice}}\r\n                    <div class=\"links\">\r\n                        <div class=\"omvc-buttons-text-links2\">\r\n                            <div class=\"frame\">\r\n                                <button id=\"cancel\" type=\"button\" aria-label=\"click the button to Change Method\"\r\n                                    data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\"\r\n                                    data-skbuttonvalue=\"CANCEL\" data-skform=\"otp-form\" class=\"link-text\">Change\r\n                                    Method</button>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    {{/if}}-->\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <script src=\"./codeEntery_success.js\"></script>\r\n</body>\r\n\r\n</html>\r\n"
              },
              "customCSS": {
                "value": "\r\n      * {\r\n        box-sizing: border-box;\r\n        margin: 0;\r\n        padding: 0;\r\n        font-family: Roboto;\r\n      }\r\n\r\n      body {\r\n        font-family: Arial, sans-serif;\r\n       \r\n      }\r\n .error-container {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: first-start;\r\n  gap: 5px;\r\n}\r\n#error-msg {\r\n  position: relative;\r\n  display: inline-flex;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  text-align: left;\r\n}\r\n\r\n/* Show icon only when message text is not empty */\r\n#error-msg:not(:empty)::before {\r\n  content: url('https://content.marriottvacationclub.com/icon/trianglewarning.png');\r\n  display: inline-block;\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: 5px;\r\n  vertical-align: middle;\r\n}\r\n#error-msg:not(:empty) + .login--ConfirmationMessage {\r\n  display: none;\r\n}\r\n\r\n      body {\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n.main-container {\r\n  padding: 20px;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n\r\n  /* Your background image */\r\n  /* background-image: url('./image/Screenshot\\ 2025-08-14\\ 235555.png');  */\r\n  background-size: cover;\r\n  background-position: center;\r\n}\r\n\r\n/* Overlay (dark transparent background) */\r\n.main-container::before {\r\n    content: \"\";\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    /* background: rgba(0, 0, 0, 85); */\r\n    z-index: -1;\r\n    opacity: 0.7;\r\n}\r\n\r\n/* Ensure modal sits above the dark overlay */\r\n\r\n      /* Modal */\r\n      .modal {\r\n        position: relative;\r\n        background: white;\r\n        border-radius: 12px;\r\n        /* padding: 24px 24px 20px; */\r\n        padding:48px;\r\n        width: 100%;\r\n        /* max-width: 480px; */\r\n        max-width: 760px;\r\n        height: auto;\r\n        margin: 0 auto;\r\n      }\r\n\r\n      /* Close () */\r\n      .close-btn {\r\n    color: var(--black, #000000);\r\n    text-align: center;\r\n    font-family: 'FontAwesome6Pro-Solid', sans-serif;\r\n    font-size: 24px;\r\n    font-weight: 400;\r\n    position: relative;\r\n    top: -52px;\r\n    left: 650px;\r\n    width: 24px;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    border: none;\r\n    background: white;\r\n      }\r\n\r\n      /* Heading */\r\n      .modal h2 {\r\n        font-size: 20px;\r\n        font-weight: 600;\r\n        /* margin: 0 0 12px; */\r\n      }\r\n\r\n      /* Info text */\r\n      .info-box {\r\n        margin-bottom: 20px;\r\n        /* font-size: 14px; */\r\n        font-size: 16px;\r\n        font-weight: 400;\r\n        color: #333;\r\n        line-height: 1.5;\r\n      }\r\n\r\n      .info-box strong {\r\n        font-weight: 600;\r\n      }\r\n\r\n      /* Label */\r\n      .input-group {\r\n        margin-bottom: 12px;\r\n      }\r\n\r\n      .input-group label {\r\n        display: block;\r\n        font-size: 12px;\r\n        font-weight: 500;\r\n        /* margin-bottom: 6px; */\r\n      }\r\n\r\n      /* OTP Input */\r\n      .otp-box {\r\n        width: 70%;\r\n        height: 38px;\r\n        padding: 8px 10px;\r\n        font-size: 14px;\r\n        border: 1px solid #ccc;\r\n        border-radius: 6px;\r\n        outline: none;\r\n      }\r\n\r\n      /* Checkbox */\r\n      .checkbox-group {\r\n        margin-bottom: 20px;\r\n        display: flex;\r\n      }\r\n\r\n .checkbox-group .rememberMe-trust {\r\n    appearance: none !important;\r\n    -webkit-appearance: none !important;\r\n    width: 20px !important;\r\n    height: 20px !important;\r\n    border: 2px solid #000 !important;\r\n    border-radius: 4px !important;\r\n    margin-right: 8px !important;\r\n    cursor: pointer !important;\r\n    position: relative !important;\r\n}\r\n#remeberme-trust {\r\n  display: inline-block; /* or 'block', 'initial' */\r\n}\r\n \r\n/* Checked state */\r\n.checkbox-group .rememberMe-trust:checked {\r\n    background-color: white !important;\r\n}\r\n \r\n/* Optional: Add a checkmark */\r\n.checkbox-group .rememberMe-trust::after {\r\n    content: \"\" !important;\r\n    position: absolute !important;\r\n    display: none !important;\r\n    top: 2px !important;\r\n    left: 5px !important;\r\n    width: 5px !important;\r\n    height: 10px !important;\r\n    border: solid #000000 !important;\r\n    border-width: 0 2px 2px 0 !important;\r\n    transform: rotate(45deg) !important;\r\n}\r\n \r\n.checkbox-group .rememberMe-trust:checked::after {\r\n    display: block !important;\r\n}\r\n.trust-device{\r\n  font-size: 16px;\r\n  font-family: \"Roboto\";\r\n  font-weight: 400;\r\n}\r\n\r\n   /* Action Buttons */\r\n      .link-buttons {\r\n        display: flex;\r\n        gap: 1rem;\r\n        flex-wrap: wrap;\r\n        margin-top: 25px;\r\n      }\r\n\r\n      .link-buttons button {\r\n        background: none;\r\n        border: none;\r\n        color: #000;\r\n        /* font-size: 13px; */\r\n        font-size: 16px;\r\n        cursor: pointer;\r\n        text-decoration: underline;\r\n        padding: 0;\r\n        transition: color 0.2s ease;\r\n        /* font-weight: 700; */\r\n        font-weight: 600;\r\n      }\r\n\r\n      /* .link-buttons button:hover {\r\n        color: #0073aa;\r\n      } */\r\n\r\n      /* Mobile First Responsive */\r\n      @media (max-width: 480px) {\r\n        .modal {\r\n          padding: 20px 16px;\r\n        }\r\n\r\n        .link-buttons {\r\n          flex-direction: row;\r\n          gap: 30px;\r\n          align-items: flex-start;\r\n          margin-top: 16px;\r\n        }\r\n\r\n        .link-buttons button {\r\n          font-size: 14px;\r\n        }\r\n      }\r\n      \r\n      /* css for iframe===================================================> */\r\n   html, body {\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden; /* prevents scrollbars */\r\n}\r\n\r\n.background-iframe {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: -2;\r\n  border: none;\r\n}\r\n\r\n.main-container {\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.login--NewCodeHasBeenSent{\r\n  padding:10px;\r\n  border:1px solid green;\r\n  color: green;\r\n  border-radius: 5px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.text-danger{\r\n  color:#C50000;\r\n}\r\n.error-div{\r\n border: 1px solid #eb0000;\r\n   background: #f6ecec;\r\n   border-radius: var(--corner-radii-5px, 5px);\r\n  color: #c50000;\r\ntext-align: left;\r\nfont-family: var(--body-smaller-font-family, 'Roboto-Regular', sans-serif);\r\nfont-size: var(--body-smaller-font-size, 14px);\r\nline-height: var(--body-smaller-line-height, 22px);\r\nfont-weight: var(--body-smaller-font-weight, 400);\r\nposition: relative;\r\nflex: 1;\r\n padding: 12px 16px 12px 16px;\r\n margin-bottom: 10px;\r\n}\r\n/* Tablet and Mobile (768px and below) */\r\n@media (max-width: 768px) {\r\n  .close-btn {\r\n    position: absolute;\r\n    top: 12px;   /* adjust for spacing */\r\n    right: 12px;\r\n    left: auto;  /* override desktop left offset */\r\n    transform: none;\r\n    font-size: 20px;\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n\r\n  .modal {\r\n    max-width: 95%;  /* so modal fits smaller screens */\r\n    padding: 24px 16px;\r\n  }\r\n}\r\n\r\n/* Smaller mobile (480px and below) */\r\n@media (max-width: 480px) {\r\n  .close-btn {\r\n    top: 10px;\r\n    right: 10px;\r\n    font-size: 18px;\r\n  }\r\n\r\n  .modal {\r\n    padding: 16px 12px;\r\n  }\r\n}\r\n"
              },
              "customScript": {
                "value": "\n\n\n\n\n\n const codeInput = document.getElementById(\"codetextbox\");\n const autoSubmitBtn = document.getElementById(\"Submit\");\n const ResendButton = document.getElementById('RESEND');\n const cancelBtn = document.getElementById(\"cancelBtn\");\n const modal = document.getElementById(\"entercodeModal\"); \nconst domain = \"{{global.variables.domain}}\";\nconsole.log(\"Domain  is:\", domain); \n\n\n//   // ------------------ Config ------------------\n//   function getMoxieKey(domain) {\n//     switch (domain) {\n//         case \"marriottvacationclub.com\":\n//             return \"{{global.company.variables.moxieKeyMVC}}\";\n//         case \"vacationclubap.com\":\n//             return \"{{global.company.variables.moxieKeyVCAP}}\";\n//         default:\n//             // console.warn(`Unknown domain '${domain}'. Falling back to MVC key.`);\n//             console.warn(`Unknown domain '${domain}'. Moxie key left empty.`);\n//             return \"\";\n          \n//     }\n// }\n// const moxieKey = getMoxieKey(domain);\n// console.log(\"moxieKey is \" ,moxieKey);\n\n\n\n// --- NEW: Unique IDs for our dynamic elements ---\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\n//const MOXIE_SCRIPT_ID = 'moxie-translation-script';\n\n// Track whether background is currently active\nlet backgroundVisible = false;\n\n\n\ncancelBtn.addEventListener(\"click\", () => {\n  modal.style.display = \"none\";\n});\n\n\ncodeInput.addEventListener('input', function () {\n  const value = codeInput.value.replace(/\\D/g, '').slice(0, 6);\n  codeInput.value = value\n  if (value.length === 6) {\n    setTimeout(() => {\n      autoSubmitBtn.click();\n    }, 1000);\n  }\n  //showErrorMessage();\n});\n\nif (ResendButton) {\n  ResendButton.addEventListener('click', function () {\n    const codeTextbox = document.getElementById('codetextbox');\n    if (codeTextbox) {\n      codeTextbox.value = \"\";\n    }\n    //showNewCodeMessage();\n  });\n}\n\n\n\n\n// New js for background\n\n\n/**\n * Creates and injects a dimmed, full-screen iframe background.\n * Checks if elements already exist to avoid duplicates.\n * @param {string} url - The URL for the background website.\n */\nfunction insertBackgroundSiteDimmed(url) {\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\n\n  // Create the dimming overlay\n  const overlay = document.createElement('div');\n  overlay.id = BACKGROUND_OVERLAY_ID;\n  overlay.style.cssText = `\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\n      background:rgba(0,0,0,0.8); z-index:-1;\n    `;\n\n  // Create the iframe\n  const iframe = document.createElement('iframe');\n  iframe.id = BACKGROUND_IFRAME_ID;\n  iframe.src = url;\n  iframe.style.cssText = `\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\n      border:none; z-index:-2;\n    `;\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\n  iframe.setAttribute(\"aria-hidden\", \"true\");\niframe.setAttribute(\"tabindex\", \"-1\");\n\n  // Add them to the page\n  document.body.insertBefore(overlay, document.body.firstChild);\n  document.body.insertBefore(iframe, document.body.firstChild);\n\n  console.log(\"Dimmed background and iframe have been injected.\");\n}\n\n\n\n// --- 1. Main Logic to Control the Background ---\nconst manageBackgroundVisibility = () => {\n  const modal = document.getElementById('codeEntryModal');\n\n  if (modal && !backgroundVisible) {\n\n    if (domain.includes(\"grandresidenceclub.com\")) {\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\n      backgroundVisible = true;\n\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\n      backgroundVisible = true;\n    }\n    else {\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\n      backgroundVisible = true;\n    }\n  }\n  //  else if (!modal && backgroundVisible) {\n  //   removeBackgroundSiteDimmed();\n  //   backgroundVisible = false;\n  // }\n};\n\n// --- 2. Watch for Page Changes in the SPA ---\nconst observer = new MutationObserver(manageBackgroundVisibility);\nobserver.observe(document.body, { childList: true, subtree: true });\n\n// --- 3. Initial Setup ---\nmanageBackgroundVisibility();\n\n\n\n// // --- 5. Handle Moxie Script Injection ---\n// function initLanguageOnLoad() {\n//   // if (!dev) {\n//   console.log(\"PRODUCTION MODE: Injecting Moxie translation script.\");\n//   const moxieScript = document.createElement(\"script\");\n//   moxieScript.id = MOXIE_SCRIPT_ID;\n//   moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\n//   moxieScript.type = \"text/javascript\";\n//   moxieScript.setAttribute(\"data-oljs\", moxieKey);\n//   moxieScript.onerror = () => console.error(\"CRITICAL: Moxie script failed to load.\");\n//   document.head.appendChild(moxieScript);\n//   // } else {\n//   // console.log('Language pref is: ', getLanguagePreference());\n//   // }\n// }\n\n// initLanguageOnLoad();\n\n\n\n// //Simultenious error msg and success msg handle\n\n// const newCodeMsg = document.querySelector('.login--NewCodeHasBeenSent');\n// const errorMsg = document.getElementById('feedbackError');\n\n// // Hide error when new code sent\n// function showNewCodeMessage() {\n//   if (newCodeMsg) newCodeMsg.style.display = \"flex\";\n//   if (errorMsg) errorMsg.style.display = \"none\";\n// }\n\n// // Hide success when there is an error\n// function showErrorMessage() {\n//   if (errorMsg) errorMsg.style.display = \"block\";\n//   if (newCodeMsg) newCodeMsg.style.display = \"none\";\n// }\n\n\n"
              },
              "validationRules": {
                "value": [
                  {
                    "propertyName": "codetextbox",
                    "rules": [
                      {
                        "ruleName": "presence",
                        "message": "Enter the 6-digit one-time passcode."
                      },
                      {
                        "ruleName": "length",
                        "is": "6",
                        "wrongLength": "The one-time passcode must six digits.",
                        "minimum": "",
                        "maximum": "",
                        "tooShort": "",
                        "tooLong": ""
                      },
                      {
                        "ruleName": "format",
                        "pattern": "^[0-9]+$",
                        "message": "The one-time passcode must be six digits."
                      }
                    ]
                  }
                ]
              },
              "nodeTitle": {
                "value": "TOTP Prompt For OTP"
              },
              "formFieldsList": {
                "value": [
                  {
                    "propertyName": "buttonValue",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "propertyName": "codetextbox",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "propertyName": "rememberMe",
                    "preferredControlType": "textField",
                    "preferredDataType": "boolean",
                    "value": "",
                    "hashedVisibility": false
                  }
                ]
              },
              "type": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"deviceType\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.deviceType}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.deviceType}}\",\n        \"children\": [\n          {\n            \"text\": \"deviceType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "resendMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"resendMessage\",\n        \"data\": \"{{local.eh45uuo9ep.payload.output.resendMessage}}\",\n        \"tooltip\": \"{{local.eh45uuo9ep.payload.output.resendMessage}}\",\n        \"children\": [\n          {\n            \"text\": \"resendMessage\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "maskedPhone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"maskedPhone\",\n        \"data\": \"{{local.o3p0lu1ww2.payload.output.maskedPhone}}\",\n        \"tooltip\": \"{{local.o3p0lu1ww2.payload.output.maskedPhone}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedPhone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "maskedEmail": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"maskedEmail\",\n        \"data\": \"{{local.o3p0lu1ww2.payload.output.maskedEmail}}\",\n        \"tooltip\": \"{{local.o3p0lu1ww2.payload.output.maskedEmail}}\",\n        \"children\": [\n          {\n            \"text\": \"maskedEmail\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "canChangeDevice": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "resendButtonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Resend Passcode\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "3rz1edc2mi"
          },
          "position": {
            "x": 1537,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "eyp9ivv2ls",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1447,
            "y": 5370
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xrjefor8t0",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 1657,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "7tegoo8puw",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1207,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hm8447gwzf",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1867,
            "y": 5460
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8hlsc38gnw",
            "nodeType": "CONNECTION",
            "connectionId": "94141bf2f1b9b59a5f5365ff135e02bb",
            "connectorId": "pingOneSSOConnector",
            "name": "PingOne",
            "label": "PingOne",
            "status": "configured",
            "capabilityName": "updateUser",
            "type": "action",
            "properties": {
              "additionalUserProperties": {
                "value": [
                  {
                    "name": "phoneCountryCode",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"countryCode\",\n        \"data\": \"{{local.rpe4ixd0ym.payload.output.countryCode}}\",\n        \"tooltip\": \"{{local.rpe4ixd0ym.payload.output.countryCode}}\",\n        \"children\": [\n          {\n            \"text\": \"countryCode\"\n          }\n        ]\n      },\n      {\n        \"text\": \" \"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"code-snippet.svg\",\n        \"url\": \"countryName\",\n        \"data\": \"{{local.rpe4ixd0ym.payload.output.countryName}}\",\n        \"tooltip\": \"{{local.rpe4ixd0ym.payload.output.countryName}}\",\n        \"children\": [\n          {\n            \"text\": \"countryName\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "identifier": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "username": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"username\",\n        \"data\": \"{{local.ifct35turd.payload.output.matchedUser.username}}\",\n        \"tooltip\": \"{{local.ifct35turd.payload.output.matchedUser.username}}\",\n        \"children\": [\n          {\n            \"text\": \"username\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "primaryPhone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"phone\",\n        \"data\": \"{{local.uoppd09l5f.payload.output.rawResponse.phone}}\",\n        \"tooltip\": \"{{local.uoppd09l5f.payload.output.rawResponse.phone}}\",\n        \"children\": [\n          {\n            \"text\": \"phone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Update Phone"
              }
            }
          },
          "position": {
            "x": 1807,
            "y": 3810
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "hx6l9r486s",
            "nodeType": "EVAL",
            "properties": {
              "zps8ukupby": {
                "value": "always"
              }
            }
          },
          "position": {
            "x": 2002,
            "y": 3810
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "a5vpfhfthn",
            "nodeType": "CONNECTION",
            "connectionId": "94141bf2f1b9b59a5f5365ff135e02bb",
            "connectorId": "pingOneSSOConnector",
            "name": "PingOne",
            "label": "PingOne",
            "status": "configured",
            "capabilityName": "updateUser",
            "type": "action",
            "properties": {
              "additionalUserProperties": {
                "value": []
              },
              "identifier": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"pingOneUserId\",\n        \"data\": \"{{global.parameters.pingOneUserId}}\",\n        \"tooltip\": \"{{global.parameters.pingOneUserId}}\",\n        \"children\": [\n          {\n            \"text\": \"pingOneUserId\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "username": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"username\",\n        \"data\": \"{{local.ifct35turd.payload.output.matchedUser.username}}\",\n        \"tooltip\": \"{{local.ifct35turd.payload.output.matchedUser.username}}\",\n        \"children\": [\n          {\n            \"text\": \"username\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "primaryPhone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "email": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{local.uoppd09l5f.payload.output.rawResponse.email}}\",\n        \"tooltip\": \"{{local.uoppd09l5f.payload.output.rawResponse.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Update Email"
              }
            },
            "idUnique": "4nezxqk7bh"
          },
          "position": {
            "x": 1807,
            "y": 3930
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "7mmqz1h079",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1658.5,
            "y": 3930
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "jiyzfvj7qa",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "manageAccountFlag",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]",
                    "key": 0.09513921091781652,
                    "label": "manageAccountFlag (string - flowInstance)",
                    "type": "string"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Manage Account Flag True"
              }
            }
          },
          "position": {
            "x": 3307,
            "y": 3810
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ji2sbpozzi",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.gdva263hgy.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.gdva263hgy.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"emailandphone\"\n      }\n    ]\n  }\n]"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "nodeTitle": {
                "value": "checkMangeAccountButtonValue"
              }
            }
          },
          "position": {
            "x": 3007,
            "y": 3810
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "tdryr3nis6",
            "nodeType": "EVAL",
            "properties": {
              "ew8wmbtjs7": {
                "value": "anyTriggersFalse"
              },
              "lbContext": {
                "value": "global"
              },
              "c4tlfo6d6e": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 3127,
            "y": 3810
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "midmdaie5a",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 3397,
            "y": 3960
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "7doo7jvg7u",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>\r\n    <title>Document</title>\r\n    \r\n  </head>\r\n  <body>\r\n \r\n    <div class=\"parent-Auth\" id=\"authSucessModal\">\r\n      <div class=\"standard-modal modal-secure-authentication-mobile\">\r\n        <div class=\"frame-57 top-row\">\r\n          <div class=\"authentication-successful\">Authentication Successful</div>\r\n          <div class=\"frame-53 frame-96\">\r\n            <div\r\n              class=\"you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future\"\r\n            >\r\n              You have successfully authenticated your account. Select <strong>Manage Account/Security Settings</strong> if you wish to update your credentials. For added security, we recommend setting up a secondary backup method such as an alternate email or phone number.\r\n            </div>\r\n            <div class=\"frame-44525\">\r\n              <div class=\"frame-114\">\r\n                <div class=\"omvc-buttons-text-links\">\r\n                  \r\n                 <div class=\"submit\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"Continue\">Continue</div>\r\n                   <div id=\"continueBtn\" class=\"submit-to-continue\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"Continue\">Continue</div> \r\n                </div>\r\n              </div>\r\n              <div class=\"omvc-buttons-text-links2\">\r\n                <div class=\"frame\">\r\n                  <a id=\"seciritySettingLink\" class=\"link-text\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"emailandphone\">Security Settings</a>\r\n                </div>\r\n               \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </body>\r\n</html>"
              },
              "customCSS": {
                "value": "\r\n\r\n    .standard-modal,\r\n.standard-modal * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n.standard-modal {\r\n  background: var(--surface-primary, #ffffff);\r\n  border-radius: var(--corner-radii-10px, 10px);\r\n  padding: var(--spacing-48px, 48px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: var(--spacing-24px, 24px);\r\n  align-items: flex-end; /* default (overridden below) */\r\n  justify-content: flex-start;\r\n  height: 272px;         /* default (overridden below) */\r\n  min-width: 352px;\r\n  max-width: 760px;\r\n  position: relative;\r\n  box-shadow: var(--drop-shadows-standard-box-shadow, 0px 3px 5px 0px rgba(0,0,0,.3));\r\n  overflow: hidden;\r\n}\r\n\r\n.frame-57 {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  align-self: stretch;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.authentication-successful {\r\n  color: #000;\r\n  text-align: left;\r\n  font-family: var(--headline-subhead-font-family, \"Roboto\", sans-serif);\r\n  font-size: var(--headline-subhead-font-size, 20px);\r\n  line-height: var(--headline-subhead-line-height, 30px);\r\n  font-weight: var(--headline-subhead-font-weight, 600);\r\n  position: relative;\r\n  align-self: stretch;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.frame-53 {\r\n  flex-shrink: 0;\r\n  width: 604px;     /* default (overridden below) */\r\n  height: 128px;    /* default (overridden below) */\r\n  position: relative; /* default (overridden below) */\r\n}\r\n\r\n.you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future {\r\n  color: #000;\r\n  text-align: left;\r\n  font-family: var(--body-body-default-font-family, \"Roboto\", sans-serif);\r\n  font-size: var(--body-body-default-font-size, 16px);\r\n  line-height: var(--body-body-default-line-height, 24px);\r\n  font-weight: var(--body-body-default-font-weight, 400);\r\n  position: absolute; /* default (overridden below) */\r\n  left: 0;\r\n  top: 0;\r\n  width: 604px;      /* default (overridden below) */\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.frame-44525 {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 24px;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  position: absolute; /* default (overridden below) */\r\n  left: 0;\r\n  top: 80px;\r\n}\r\n\r\n.frame-114 {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 32px;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.omvc-buttons-text-links {\r\n  background: var(--ink-black, #000);\r\n  border-radius: var(--components-button-radius, 1000px);\r\n  padding: 0 var(--spacing-24px, 24px);\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: var(--spacing-12px, 12px);\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  height: 48px;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.submit {\r\n  border: none;\r\n  background: none;\r\n  color: var(--components-button-primary-text, #fff);\r\n  text-align: center;\r\n  font-family: var(--text-body-font, \"Roboto\", sans-serif);\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  font-weight: 600;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: center;\r\n}\r\n\r\n.omvc-buttons-text-links2 {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 4px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.frame {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n}\r\n\r\n.link-text {\r\n  color: var(--ink-black, #000);\r\n  text-align: left;\r\n  font-family: var(--text-body-font, \"Roboto\", sans-serif);\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  font-weight: 600;\r\n  text-decoration: underline;\r\n  position: relative;\r\n  border: none;\r\n  background: none;\r\n}\r\n\r\n.parent-Auth {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100vh;\r\n}\r\n\r\n.submit-to-continue {\r\n  display: none;\r\n}\r\n\r\n/* ---------- Responsive ---------- */\r\n@media (max-width: 768px) {\r\n  .standard-modal {\r\n    width: 90%;\r\n    max-width: 400px;\r\n    min-width: auto;\r\n    padding: 24px;\r\n    height: auto;\r\n    border-radius: 12px;\r\n  }\r\n\r\n  .frame-53 {\r\n    width: 100%;\r\n    height: auto;\r\n    position: relative;\r\n  }\r\n\r\n  .you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future {\r\n    width: 100%;\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n    position: relative;\r\n  }\r\n\r\n  .frame-44525 {\r\n    flex-direction: column;\r\n    gap: 12px;\r\n    width: 100%;\r\n    position: relative;\r\n    top: auto;\r\n    left: auto;\r\n    margin-top: 16px;\r\n  }\r\n\r\n  .omvc-buttons-text-links {\r\n    width: 100%;\r\n    height: 44px;\r\n  }\r\n\r\n  .omvc-buttons-text-links2 {\r\n    flex-direction: column;\r\n    gap: 8px;\r\n    width: 100%;\r\n  }\r\n\r\n  .submit-to-continue {\r\n    color: var(--components-button-primary-text, #fff);\r\n    text-align: center;\r\n    font-family: var(--text-body-font, \"Roboto\", sans-serif);\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    font-weight: 600;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    justify-content: center;\r\n  }\r\n\r\n  .submit { display: none; }\r\n  .frame .link-text { display: block; }\r\n\r\n  .authentication-successful {\r\n    font-size: 18px;\r\n    line-height: 26px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .standard-modal { width: 95%; padding: 16px; }\r\n  .authentication-successful { font-size: 16px; line-height: 22px; }\r\n\r\n  .omvc-buttons-text-links {\r\n    background: var(--ink-black, #000);\r\n    border-radius: var(--components-button-radius, 1000px);\r\n    padding: 0 var(--spacing-24px, 24px);\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: var(--spacing-12px, 12px);\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-shrink: 0;\r\n    width: 304px;\r\n    height: 48px;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .omvc-buttons-text-links2 { display: block; }\r\n\r\n  .submit-to-continue {\r\n    color: var(--components-button-primary-text, #fff);\r\n    text-align: center;\r\n    font-family: var(--text-body-font, \"Roboto\", sans-serif);\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    font-weight: 600;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    justify-content: center;\r\n    border: none;\r\n    background: none;\r\n  }\r\n\r\n  .submit { display: none; }\r\n  .frame .link-text { display: block; }\r\n}\r\n\r\n/* =======================\r\n   OVERRIDES FOR CLEAN LAYOUT\r\n   ======================= */\r\n\r\n/* Align content left + auto height */\r\n.standard-modal {\r\n  align-items: flex-start;\r\n  height: auto;\r\n}\r\n\r\n/* Let content stack naturally */\r\n.frame-53 {\r\n  width: 100%;\r\n  height: auto;\r\n  position: static;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px; /* space between paragraph and buttons */\r\n}\r\n\r\n/* Paragraph in normal flow */\r\n.you-have-successfully-authenticated-your-account-select-edit-account-information-if-you-wish-to-authenticate-with-a-different-email-or-phone-number-in-the-future {\r\n  position: static;\r\n  width: 100%;\r\n  display: block;\r\n  align-items: initial;\r\n  justify-content: initial;\r\n  margin: 0;\r\n}\r\n\r\n/* Buttons row in normal flow */\r\n.frame-44525 {\r\n  position: static;\r\n  margin-top: 4px;\r\n}\r\n\r\n\r\n"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              },
              "nodeTitle": {
                "value": "TOTP Authentication Successful Message"
              },
              "customScript": {
                "value": "\r\n\r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n\r\nfunction getMoxieKey(domain) {\r\n  switch (domain) {\r\n    case \"marriottvacationclub.com\":\r\n      return \"{{global.company.variables.moxieKeyMVC}}\";\r\n    case \"vacationclubap.com\":\r\n      return \"{{global.company.variables.moxieKeyVCAP}}\";\r\n    default:\r\n      // console.warn(`Unknown domain '${domain}'. Falling back to MVC key.`);\r\n      console.warn(`Unknown domain '${domain}'. Moxie key left empty.`);\r\n      return \"\";\r\n\r\n  }\r\n}\r\nconst domain = \"{{global.variables.domain}}\";\r\nconsole.log(\"Domain  is:\", domain);\r\nconst MOXIE_SCRIPT_ID = 'moxie-translation-script';\r\nconst moxieKey = getMoxieKey(domain);\r\nconsole.log(\"Moxie Key is:\", moxieKey);\r\n\r\n\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n  // Create the dimming overlay\r\n  const overlay = document.createElement('div');\r\n  overlay.id = BACKGROUND_OVERLAY_ID;\r\n  overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n  // Create the iframe\r\n  const iframe = document.createElement('iframe');\r\n  iframe.id = BACKGROUND_IFRAME_ID;\r\n  iframe.src = url;\r\n  iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n  // Add them to the page\r\n  document.body.insertBefore(overlay, document.body.firstChild);\r\n  document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n  console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n  const modal = document.getElementById('authSucessModal');\r\n\r\n  if (modal && !backgroundVisible) {\r\n\r\n    if (domain.includes(\"grandresidenceclub.com\")) {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\r\n      backgroundVisible = true;\r\n\r\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\r\n\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n    else {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\r\n      backgroundVisible = true;\r\n    }\r\n  } else if (!modal && backgroundVisible) {\r\n    // removeBackgroundSiteDimmed();\r\n    backgroundVisible = false;\r\n  }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction applyMoxieTranslations() {\r\n\r\n  const existingScript = document.getElementById(MOXIE_SCRIPT_ID);\r\n\r\n  if (existingScript) existingScript.remove();\r\n\r\n  const moxieScript = document.createElement(\"script\");\r\n\r\n  moxieScript.id = MOXIE_SCRIPT_ID;\r\n\r\n  moxieScript.src = \"https://www.onelink-edge.com/moxie.min.js\";\r\n\r\n  moxieScript.type = \"text/javascript\";\r\n\r\n  moxieScript.setAttribute(\"data-oljs\", moxieKey);\r\n\r\n  moxieScript.onerror = () => console.error(\"CRITICAL: Moxie script failed to load.\");\r\n\r\n  document.head.appendChild(moxieScript);\r\n\r\n}\r\n\r\napplyMoxieTranslations();\r\n"
              }
            },
            "idUnique": "u5kow6bdth"
          },
          "position": {
            "x": 3037,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "jv730kjs71",
            "nodeType": "EVAL",
            "properties": {
              "lbContext": {
                "value": "global"
              },
              "undefined": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 3157,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "o2su8ph9n4",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "manageAccountFlag",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]",
                    "key": 0.09513921091781652,
                    "label": "manageAccountFlag (string - flowInstance)",
                    "type": "string"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Manage Account Flag True"
              }
            }
          },
          "position": {
            "x": 3577,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "s127jsa3wc",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.7doo7jvg7u.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.7doo7jvg7u.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"emailandphone\"\n      }\n    ]\n  }\n]"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "nodeTitle": {
                "value": "checkMangeAccountButtonValue"
              }
            }
          },
          "position": {
            "x": 3277,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "41gzj0xpaf",
            "nodeType": "EVAL",
            "properties": {
              "lbContext": {
                "value": "global"
              },
              "undefined": {
                "value": "anyTriggersFalse"
              },
              "fbj83n0dme": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 3397,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "n003jstptx",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 3667,
            "y": 5340
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "c4tlfo6d6e",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "RememberMe",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"rememberMe\",\n        \"data\": \"{{local.qdsmqnczwr.payload.output.rememberMe}}\",\n        \"tooltip\": \"{{local.qdsmqnczwr.payload.output.rememberMe}}\",\n        \"children\": [\n          {\n            \"text\": \"rememberMe\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.7363433540556763,
                    "label": "RememberMe (boolean - flowInstance)",
                    "type": "boolean",
                    "nameDefault": "rememberMe"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Trusted Browser?"
              }
            },
            "idUnique": "4dv3exilv5"
          },
          "position": {
            "x": 3397,
            "y": 4080
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "3gep71joie",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 3502,
            "y": 4125
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "t2wsxoa2u8",
            "nodeType": "CONNECTION",
            "connectionId": "53ab83a4a4ab919d9f2cb02d9e111ac8",
            "connectorId": "errorConnector",
            "name": "Error Message",
            "label": "Error Customize",
            "status": "configured",
            "capabilityName": "customErrorMessage",
            "type": "action",
            "properties": {
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \" The code you entered is incorrect. Please try again, or choose a different verification method to continue if available.\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "OTP Expired"
              }
            },
            "idUnique": "44c9opht64",
            "isDisabled": false
          },
          "position": {
            "x": 1237,
            "y": 4320
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "uy4847w2o",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1100,
            "y": 4320
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "rpe4ixd0ym",
            "nodeType": "CONNECTION",
            "connectionId": "dfef27033831a7a833448d19172e7030",
            "connectorId": "codeSnippetConnector",
            "name": "International Number Handling",
            "label": "International Number Handling",
            "status": "configured",
            "capabilityName": "snippet",
            "type": "trigger",
            "properties": {
              "functionArgumentList": {
                "value": {
                  "phone": {
                    "type": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"primaryPhone\",\n        \"data\": \"{{local.ifct35turd.payload.output.matchedUser.primaryPhone}}\",\n        \"tooltip\": \"{{local.ifct35turd.payload.output.matchedUser.primaryPhone}}\",\n        \"children\": [\n          {\n            \"text\": \"primaryPhone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  },
                  "countryCode": {
                    "type": "string",
                    "value": ""
                  },
                  "phoneList": {
                    "type": "object",
                    "value": ""
                  }
                }
              }
            }
          },
          "position": {
            "x": 1163,
            "y": 1177.0000559753707
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "3wpcdcrt04",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1253,
            "y": 1177.0000559753707
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xjsvojouve",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "yhe5j5cca2"
              }
            }
          },
          "position": {
            "x": 1863,
            "y": 799
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "rhgb0edsmt",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "idUnique": "oe6os47b92",
            "capabilityName": "AIsEmpty",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"email\",\n        \"data\": \"{{local.ifct35turd.payload.output.matchedUser.email}}\",\n        \"tooltip\": \"{{local.ifct35turd.payload.output.matchedUser.email}}\",\n        \"children\": [\n          {\n            \"text\": \"email\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"primaryPhone\",\n        \"data\": \"{{local.ifct35turd.payload.output.matchedUser.primaryPhone}}\",\n        \"tooltip\": \"{{local.ifct35turd.payload.output.matchedUser.primaryPhone}}\",\n        \"children\": [\n          {\n            \"text\": \"primaryPhone\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "No phone or Email?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "checkNullORUndefined": {
                "value": true
              }
            }
          },
          "position": {
            "x": 1837,
            "y": 630
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "upvggce8d1",
            "nodeType": "EVAL",
            "properties": {
              "xjsvojouve": {
                "value": "allTriggersTrue"
              },
              "te6t0zwohr": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1957,
            "y": 630
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "yhe5j5cca2",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "No Contact Points"
              }
            }
          },
          "position": {
            "x": 450,
            "y": 2100
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "98pctuvf3t",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "dc2mhwx86e"
              },
              "deviceType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"SMS\"\n      }\n    ]\n  }\n]"
              },
              "phone": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"countryCode\",\n        \"data\": \"{{local.na9fh95cwm.payload.output.countryCode}}\",\n        \"tooltip\": \"{{local.na9fh95cwm.payload.output.countryCode}}\",\n        \"children\": [\n          {\n            \"text\": \"countryCode\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"phoneInput\",\n        \"data\": \"{{local.na9fh95cwm.payload.output.phoneInput}}\",\n        \"tooltip\": \"{{local.na9fh95cwm.payload.output.phoneInput}}\",\n        \"children\": [\n          {\n            \"text\": \"phoneInput\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1946,
            "y": 2034
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "na9fh95cwm",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Register Two Factor Authentication</title>\r\n  <link rel=\"stylesheet\" href=\"createAccountEnrollment.css\">\r\n</head>\r\n\r\n<body>\r\n  <!-- v1 -->\r\n  <!-- 2025-09-03 updated by Tony Kroukamp -->\r\n  <!-- Created conditional display for 2FA radio selection -->\r\n  <div class=\"overlay\">\r\n    <div class=\"twoFactorContainer\" id=\"twoFactorModal\">\r\n      <h2 class=\"secure-your-account\">Register for Two-Factor Authentication</h2>\r\n\r\n      <p class=\"secure-your-account-description\" style=\"margin-bottom:16px;\">Select a method to authenticate and secure\r\n        your account. If you don't see your preferred method, select to add or edit your information in your account.\r\n      </p>\r\n      <div id=\"error-message\" class=\"error-msgBackground\"></div>\r\n      <div data-id=\"feedback\" data-skcomponent=\"skerror\" id=\"error-msg\" style=\"color:#c50000;  padding :12px 16px 12px 16px;  background: #f6ecec; border-radius: var(--corner-radii-5px, 5px);border-style: solid;width: fit-content;\"></div>\r\n      <form id=\"twoFactorForm\">\r\n        <div class=\"radioGroup\">\r\n          <label>\r\n            <input type=\"radio\" name=\"authMethod\" class=\"radioBtn\" value=\"authApp\" />\r\n\r\n            <strong class=\"radio-button-auth-label-name\">Register Authenticator App</strong>\r\n            <div class=\"optionDescription\">You need to have an authenticator app already downloaded on your device to\r\n              use this option.</div>\r\n          </label>\r\n\r\n          <label>\r\n            <input type=\"radio\" name=\"authMethod\" class=\"radioBtn\" value=\"email\" />\r\n            <strong class=\"radio-button-label-name\">Register Email</strong>\r\n            <div id=\"emailInputContainer\" class=\"conditionalInput hidden\">\r\n              <!-- <label for=\"emailInput\">Email Address</label> -->\r\n              <!-- <input type=\"email\" id=\"emailInput\" name=\"email\" class=\"input-field\" value=\"{{local.8rmfmjn5xo.payload.output.email}}\"/> -->\r\n\r\n              <!-- <input type=\"email\" id=\"emailInput\" name=\"email\" class=\"input-field GlobalLinkNoTx\" style=\"padding:12px 14px;\" /> -->\r\n              <textarea id=\"emailInput\" name=\"emailInput\" class=\"input-field GlobalLinkNoTx\" style=\"margin-top:8px;padding: 5px 5px 5px 12px;height:45px\"></textarea>\r\n              <span id=\"emailError\" class=\"input-error-message\">Please enter your email</span><br>\r\n\r\n\r\n            </div>\r\n          </label>\r\n\r\n          <label>\r\n            <input type=\"radio\" name=\"authMethod\" class=\"radioBtn\" value=\"phone\" />\r\n            <strong class=\"radio-button-label-name\">Register Mobile Phone</strong>\r\n            <div id=\"phoneInputContainer\" class=\"conditionalInput hidden\">\r\n              <!-- <label for=\"phoneInput\">Mobile Number</label> -->\r\n               <!-- <select id=\"countryCode\" class=\"country-selector\" aria-label=\"select country code\">\r\n                                    \r\n\r\n              </select>\r\n\r\n              <input type=\"tel\" id=\"phoneInput\" name=\"phone\" class=\"input-field GlobalLinkNoTx\" value=\"\" /> -->\r\n              <div class=\"phone-input-group\" id=\"phoneInputGroup\">\r\n\r\n                <!-- LEFT: Dropdown -->\r\n                <div class=\"custom-select-container\" id=\"countryDropdown\">\r\n                  <div class=\"select-box\" id=\"selectBox\">\r\n                    <!-- onclick=\"toggleDropdown()\" -->\r\n                    <div class=\"selected-value\" id=\"selectedValue\">\r\n                      <!-- JS fills this -->\r\n                    </div>\r\n                    <span class=\"arrow\"></span>\r\n                  </div>\r\n\r\n                  <div class=\"options-container\" id=\"optionsList\">\r\n                    <!-- JS fills this -->\r\n                  </div>\r\n                  <input type=\"hidden\" name=\"countryCode\" class=\"input-value GlobalLinkNoTx\" id=\"countryCode\"\r\n                    aria-labelledby=\"phone-unenrolledLabel\">\r\n                </div>\r\n\r\n                <!-- RIGHT: Number Input -->\r\n                <input type=\"tel\" class=\"phone-input\" id=\"phoneInput\">\r\n              </div>\r\n              <span id=\"phoneError\" class=\"input-error-message\">Please enter your phone</span><br>\r\n\r\n            </div>\r\n          </label>\r\n        </div>\r\n\r\n        <!-- <div id=\"emailInputContainer\" class=\"conditionalInput hidden\">\r\n          <label for=\"emailInput\">Email Address</label>\r\n          <input type=\"email\" id=\"emailInput\" name=\"email\" class=\"input-field\"/>\r\n        </div> -->\r\n\r\n        <!-- <div id=\"phoneInputContainer\" class=\"conditionalInput hidden\">\r\n          <label for=\"phoneInput\">Mobile Number</label>\r\n          <input type=\"tel\" id=\"phoneInput\" name=\"phone\" class=\"input-field\" />\r\n        </div> -->\r\n\r\n\r\n\r\n\r\n        <div class=\"omvc-buttons-text-links \">\r\n          <button id=\"continueBtn\" type=\"submit\" data-skcomponent=\"skbutton\" class=\"continueBtn\"\r\n            data-skbuttontype=\"form-submit\" data-skform=\"twoFactorForm\" data-skbuttonvalue=\"continue\">\r\n            Continue\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <script src=\"createAccountEnrollment.js\"></script>\r\n</body>\r\n\r\n</html>"
              },
              "customCSS": {
                "value": "body {\r\n  margin: 0;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #f4f4f4;\r\n}\r\n\r\n.overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  z-index: 2;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  /* background-color: rgba(0, 0, 0, 0.85); */\r\n}\r\n\r\n.overlay::before {\r\n  content: \"\";\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  /* background: rgba(0, 0, 0, 0.85); */\r\n  z-index: -1;\r\n  opacity: 0.7;\r\n}\r\n\r\n.twoFactorContainer {\r\n  width: 100%;\r\n  max-width: 760px;\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 48px;\r\n  box-shadow: 0 0 12px rgba(0, 0, 0, 0.1);\r\n  font-family: Arial, sans-serif;\r\n\r\n}\r\n\r\n.radioGroup label {\r\n  display: block;\r\n  margin-bottom: 16px;\r\n  cursor: pointer;\r\n}\r\n\r\n.radioGroup input[type=\"radio\"] {\r\n  margin-right: 8px;\r\n}\r\n\r\n.optionDescription {\r\n  /* font-size: 0.9em;\r\n  color: #444; */\r\n  margin-left: 37px;\r\n  margin-top: 4px;\r\n  color: #000000;\r\n  text-align: left;\r\n  font-family: \"Roboto-Regular\", sans-serif;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  align-self: stretch;\r\n  max-width: 600px;\r\n}\r\n\r\n/* .conditionalInput {\r\n  margin-top: 16px;\r\n} */\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n\r\n/* .continueBtn {\r\n  margin-top: 24px;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  background-color: black;\r\n  color: white;\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n\r\n\r\n} */\r\n.country-selector{\r\n    position: relative;\r\n    top: 43px;\r\n    left: 50px;\r\n    z-index: 25;\r\n    border: none;\r\n}\r\n\r\n.secure-your-account {\r\n  color: #000000;\r\n  text-align: left;\r\n  font-family: \"Roboto-SemiBold\", sans-serif;\r\n  font-size: 20px;\r\n  line-height: 30px;\r\n  font-weight: 600;\r\n  position: relative;\r\n  align-self: stretch;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.secure-your-account-description {\r\n\r\n  color: #000000;\r\n  text-align: left;\r\n  font-family: \"Roboto-Regular\", sans-serif;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  align-self: stretch;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: flex-start;\r\n  max-width: 685px;\r\n}\r\n\r\n.radioBtn {\r\n  background: #ffffff;\r\n  border-radius: 1000px;\r\n  border-style: solid;\r\n  border-color: #000000;\r\n  border-width: 1px;\r\n  /* display: flex; */\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  width: 20px;\r\n  height: 20px;\r\n  position: relative;\r\n  accent-color: black !important;\r\n}\r\n\r\n.radio-button-auth-label-name {\r\n  bottom: 4px;\r\n  color: #000000;\r\n  text-align: left;\r\n  font-family: \"Roboto-Bold\", sans-serif;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  font-weight: 700;\r\n  position: relative;\r\n}\r\n\r\n.radio-button-label-name {\r\n  bottom: 4px;\r\n  color: #000000;\r\n  text-align: left;\r\n  font-family: \"Roboto-Regular\", sans-serif;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  flex: 1;\r\n\r\n}\r\n\r\n.omvc-buttons-text-links {\r\n  background: #000000;\r\n  border-radius: 1000px;\r\n  padding: 0px 24px 0px 24px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 12px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  height: 48px;\r\n  max-width: fit-content;\r\n  position: relative;\r\n  overflow: hidden;\r\n  margin-top: 40px;\r\n}\r\n\r\n.continueBtn {\r\n  color: #ffffff;\r\n  text-align: center;\r\n  font-family: \"Roboto-SemiBold\", sans-serif;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  font-weight: 600;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: center;\r\n  /* margin-top: 24px; */\r\n  padding: 10px 20px;\r\n  border: none;\r\n  background-color: black;\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n}\r\n\r\n.conditionalInput .input-field {\r\n  background: #ffffff;\r\n\r\n  border: 1px solid black;\r\n   border-radius: 5px;\r\n  /* padding: 12px 16px 12px 70px; */\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 12px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  width: 300px;\r\n  min-width: 250px;\r\n  min-height: 44px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  margin-left: 38px;\r\n  font-family: \"Roboto-SemiBold\", sans-serif;\r\n  font-size: 16px;\r\n}\r\n\r\n.conditionalInput .input-field {\r\n  background: #ffffff;\r\n  width: 300px;\r\n  /* min-width: 250px; */\r\n  min-height: 44px;\r\n\r\n  display: block;\r\n  box-sizing: border-box;\r\n\r\n  font-family: \"Roboto-SemiBold\", sans-serif;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n\r\n  position: relative;\r\n  margin-left: 38px;\r\n\r\n  /*  INPUT BEHAVIOR */\r\n  white-space: nowrap;        /* single line */\r\n  overflow-x: hidden;         /* hide scroll initially */\r\n  overflow-y: hidden;\r\n  text-overflow: ellipsis;    /* show ... */\r\n\r\n  resize: none;\r\n  appearance: none;\r\n  -webkit-appearance: none;\r\n  background-image: none !important;\r\n}\r\n\r\n/* Enable horizontal scroll only on hover / focus */\r\n.conditionalInput .input-field:hover,\r\n.conditionalInput .input-field:focus {\r\n  overflow-x: auto;\r\n  text-overflow: clip;\r\n}\r\n\r\n/* Scrollbar styling */\r\n.conditionalInput .input-field::-webkit-scrollbar {\r\n  height: 6px;\r\n}\r\n\r\n.conditionalInput .input-field::-webkit-scrollbar-thumb {\r\n  background-color: #9ca3af;\r\n  border-radius: 10px;\r\n}\r\n\r\n/* Remove Chrome autofill / edit icons */\r\n.conditionalInput .input-field::-webkit-credentials-auto-fill-button,\r\n.conditionalInput .input-field::-webkit-contacts-auto-fill-button {\r\n  display: none !important;\r\n  visibility: hidden;\r\n  pointer-events: none;\r\n}\r\n\r\n\r\n.error-msgBackground {\r\n  background: #f6ecec;\r\n  border:1px solid eb0000;\r\n  border-radius: 5px;\r\n  font-family: \"Roboto-Regular\", sans-serif;\r\n  padding: 10px 20px;\r\n  width: 100%;\r\n  max-width: 300px;\r\n  display: none;\r\n}\r\n\r\n\r\n.input-error-message {\r\n  color: red;\r\n  padding-left: 40px;\r\n  font-family: \"Roboto-Regular\", sans-serif;\r\n  font-size: 12px;\r\n  display: none;\r\n}\r\n\r\n/* Tablet View: up to 768px */\r\n@media (max-width: 768px) {\r\n  .twoFactorContainer {\r\n    max-width: 90%;\r\n    padding: 20px;\r\n  }\r\n\r\n  .conditionalInput .input-field {\r\n    width: 100%;\r\n    min-width: unset;\r\n  }\r\n\r\n  .omvc-buttons-text-links {\r\n    width: 100%;\r\n    justify-content: center;\r\n  }\r\n\r\n  .radioGroup label {\r\n    margin-bottom: 12px;\r\n  }\r\n\r\n  .optionDescription {\r\n    margin-left: 30px;\r\n  }\r\n}\r\n\r\n/* Mobile View: up to 480px */\r\n@media (max-width: 480px) {\r\n  .twoFactorContainer {\r\n    padding: 16px;\r\n    border-radius: 6px;\r\n  }\r\n\r\n  .conditionalInput .input-field {\r\n    width: 70%;\r\n  }\r\n\r\n  .omvc-buttons-text-links {\r\n    flex-direction: column;\r\n    width: 100%;\r\n    gap: 8px;\r\n  }\r\n\r\n  .continueBtn {\r\n    width: 100%;\r\n    min-width: 300px;\r\n    padding: 12px;\r\n    border-radius: 12px;\r\n  }\r\n\r\n  .radioGroup label {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .optionDescription,\r\n  .radio-button-label-name,\r\n  .radio-button-auth-label-name {\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n  }\r\n\r\n  .secure-your-account {\r\n    font-size: 18px;\r\n    line-height: 26px;\r\n  }\r\n\r\n  .secure-your-account-description {\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n  }\r\n}\r\n .phone-input-group {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 280pxpx;\r\n    background: var(--bg-color);\r\n    border: 1px solid black;\r\n    border-radius: 5px; /* Rounded corners on the outer shell */\r\n    /* box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); */\r\n    transition: all 0.2s ease;\r\n    width: 300px;\r\n    margin-left: 40px;\r\n  }\r\n\r\n  /* Focus state for the entire group */\r\n  .phone-input-group:focus-within {\r\n    border-color: var(--focus-color);\r\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\r\n  }\r\n\r\n  /* 2. The Custom Dropdown (Left Side) */\r\n  .custom-select-container {\r\n    position: relative;\r\n    width: 110px; /* Fixed width for the code part */\r\n    border-right: 1px solid var(--border-color); /* Divider line */\r\n  }\r\n\r\n  .select-box {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 12px;\r\n    cursor: pointer;\r\n    height: 100%; /* Full height of wrapper */\r\n    background: transparent;\r\n    width: 40px !important;\r\n  }\r\n\r\n  .selected-value {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n  }\r\n\r\n  .flag-img {\r\n    width: 20px;\r\n    height: 14px;\r\n    object-fit: cover;\r\n    border-radius: 2px;\r\n  }\r\n\r\n  .dial-code {\r\n    color: var(--text-primary);\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .arrow {\r\n    margin-left: 6px;\r\n    color: var(--text-secondary);\r\n    font-size: 10px;\r\n    transition: transform 0.2s;\r\n  }\r\n\r\n  .select-box.open .arrow {\r\n    transform: rotate(180deg);\r\n  }\r\n\r\n  /* 3. The Dropdown List (Floating) */\r\n  .options-container {\r\n    position: relative;\r\n    top: calc(100% + 4px);\r\n    left: 0;\r\n    width: 300px; /* Wider than the toggle button to show full names */\r\n    background: white;\r\n    border: 1px solid var(--border-color);\r\n    border-radius: 5px;\r\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n    max-height: 250px;\r\n    overflow-y: auto;\r\n    z-index: 100;\r\n    display: none;\r\n  }\r\n\r\n  .options-container.active {\r\n    display: block;\r\n  }\r\n\r\n  .option {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    gap: 10px;\r\n    padding: 10px 16px;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    color: var(--text-primary);\r\n  }\r\n\r\n  .option:hover {\r\n    background-color: #f1f5f9;\r\n  }\r\n\r\n  .option.selected {\r\n    background-color: #eff6ff;\r\n  }\r\n\r\n  .option .country-name {\r\n      flex: 1; /* Push dial code to right */\r\n  }\r\n\r\n  .option .dial-code {\r\n      color: var(--text-secondary);\r\n  }\r\n\r\n  /* 4. The Phone Input (Right Side) */\r\n  .phone-input {\r\n    flex: 1; /* Take remaining width */\r\n    border: none;\r\n    outline: none;\r\n    padding: 12px 16px;\r\n    font-size: 14px;\r\n    color:black;\r\n    /* border: 1px solid black; */\r\n    border-radius:5px;\r\n    background: white;\r\n  }\r\n\r\n  .phone-input::placeholder {\r\n    color: #94a3b8;\r\n  }\r\n"
              },
              "customScript": {
                "value": "\r\n// Logic to toggle inputs based on selection\r\nconst authRadios = document.querySelectorAll('input[name=\"authMethod\"]');\r\nconst emailContainer = document.getElementById('emailInputContainer');\r\nconst phoneContainer = document.getElementById('phoneInputContainer');\r\nconst description = document.querySelector('.optionDescription');\r\nconst errorMessage = document.getElementById('error-message');\r\nconst emailInput = document.getElementById('emailInput');\r\nconst phoneInput = document.getElementById('phoneInput');\r\nconst emailError = document.getElementById('emailError');\r\nconst phoneError = document.getElementById('phoneError');\r\nconst form = document.getElementById('twoFactorForm');\r\nconst phoneInputGroup = document.getElementById('phoneInputGroup');\r\n\r\nconsole.log(\"  email output : \", \"{{local.8rmfmjn5xo.payload.output.email}}\");\r\nconsole.log(\"email output :\", \"{{global.parameters.email}}\");\r\n\r\nauthRadios.forEach(radio => {\r\n  radio.addEventListener('change', () => {\r\n    switch (radio.value) {\r\n      case 'authApp':\r\n        emailContainer.classList.add('hidden');\r\n        phoneContainer.classList.add('hidden');\r\n         if(description)  description.style.display = 'block';\r\n        errorMessage.style.display = 'none';\r\n        break;\r\n      case 'email':\r\n        emailContainer.classList.remove('hidden');\r\n        phoneContainer.classList.add('hidden');\r\n        emailInput.value = \"{{global.parameters.email}}\";\r\n        if(description) description.style.display = 'none';\r\n        errorMessage.style.display = 'none';\r\n        break;\r\n      case 'phone':\r\n        phoneContainer.classList.remove('hidden');\r\n        emailContainer.classList.add('hidden');\r\n         if(description) description.style.display = 'none';\r\n        errorMessage.style.display = 'none';\r\n        break;\r\n    }\r\n  });\r\n});\r\n\r\n// ================= LIVE VALIDATION =================\r\n\r\n// ---------- EMAIL LIVE VALIDATION ----------\r\nif (emailInput) {\r\n  emailInput.addEventListener(\"input\", () => {\r\n    const value = emailInput.value.trim();\r\n    const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n    if (!value) {\r\n      emailError.textContent = \"Please enter your email address.\";\r\n      emailError.style.display = \"block\";\r\n      emailInput.style.border = \"1px solid red\";\r\n      return;\r\n    }\r\n\r\n    if (!emailPattern.test(value)) {\r\n      emailError.textContent = \"Please enter a valid email address.\";\r\n      emailError.style.display = \"block\";\r\n      emailInput.style.border = \"1px solid red\";\r\n      return;\r\n    }\r\n\r\n    emailError.textContent = \"\";\r\n    emailError.style.display = \"none\";\r\n    emailInput.style.border = \"\";\r\n  });\r\n}\r\n\r\n\r\n// ---------- PHONE LIVE VALIDATION ----------\r\nif (phoneInput) {\r\n  const phonePattern = /^\\d+$/; ///^\\+?\\d+$/;\r\n\r\n  phoneInput.addEventListener(\"input\", () => {\r\n    const value = phoneInput.value.trim();\r\n\r\n    if (!value) {\r\n      phoneError.textContent = \"Please enter valid phone number.\";\r\n      phoneError.style.display = \"block\";\r\n      phoneInputGroup.style.border = \"1px solid red\";\r\n      return;\r\n    }\r\n\r\n    // Only digits and optional + at start\r\n    if (!phonePattern.test(value)) {\r\n      phoneError.textContent = \"Please enter valid phone number.\";\r\n      phoneError.style.display = \"block\";\r\n      phoneInputGroup.style.border = \"1px solid red\";\r\n      return;\r\n    }\r\n\r\n    const digitsOnly = value.replace(/\\D/g, \"\");\r\n    if (digitsOnly.length < 6 || digitsOnly.length > 17) {\r\n      phoneError.textContent = \"Please enter valid phone number.\";\r\n      phoneError.style.display = \"block\";\r\n      phoneInputGroup.style.border = \"1px solid red\";\r\n      return;\r\n    }\r\n\r\n    phoneError.textContent = \"\";\r\n    phoneError.style.display = \"none\";\r\n    phoneInputGroup.style.border = \"\";\r\n  });\r\n}\r\n\r\n\r\nfunction handleSendCodeClick(event) {\r\n  const selected = document.querySelector('input[name=\"authMethod\"]:checked');\r\n  const errorMessageDiv = document.getElementById(\"error-message\");\r\n\r\n  const emailInput = document.getElementById(\"emailInput\");\r\n  const emailError = document.getElementById(\"emailError\");\r\n\r\n  const phoneInput = document.getElementById(\"phoneInput\");\r\n  const phoneError = document.getElementById(\"phoneError\");\r\n  const phoneInputGroup = document.getElementById('phoneInputGroup');\r\n\r\n  let isValid = false;\r\n\r\n  // Clear previous error messages\r\n  errorMessageDiv.textContent = \"\";\r\n  errorMessageDiv.style.display = \"none\";\r\n  emailError.textContent = \"\";\r\n  emailError.style.display = \"none\";\r\n  phoneError.textContent = \"\";\r\n  phoneError.style.display = \"none\";\r\n\r\n  // Check if no auth method is selected\r\n  if (!selected) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    isValid = false;\r\n    errorMessageDiv.textContent = \"Please select a method.\";\r\n    errorMessageDiv.style.color = \"#eb0000\";\r\n    errorMessageDiv.style.fontFamily = \"Roboto-Regular, sans-serif\";\r\n    errorMessageDiv.style.textAlign = \"left\";\r\n    errorMessageDiv.style.fontSize = \"12px\";\r\n    errorMessageDiv.style.lineHeight = \"18px\";\r\n    errorMessageDiv.style.fontWeight = \"400\";\r\n    errorMessageDiv.style.marginLeft = \"15px\";\r\n    errorMessageDiv.style.display = \"block\";\r\n    return;\r\n  }\r\n\r\n  // Email validation\r\n  if (selected.value === \"email\") {\r\n    const emailValue = emailInput.value.trim();\r\n    const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n    if (!emailValue) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      isValid = false;\r\n      emailError.textContent = \"Please enter a valid email address.\";\r\n      emailError.style.color = \"#eb0000\";\r\n      emailError.style.fontSize = \"12px\";\r\n      emailError.style.display = \"block\";\r\n      emailInput.style.border = \"1px solid red\"; // add red border\r\n      return;\r\n    } else {\r\n      // Clear email error when typing\r\n      emailInput.addEventListener('input', () => {\r\n        if (emailInput.value.trim() !== \"\") {\r\n          emailError.textContent = \"\";\r\n          emailError.style.display = \"none\";\r\n          console.log(\"EmailInput\", emailInput.value);\r\n          emailInput.style.border = \"\";\r\n        }\r\n      });\r\n    }\r\n\r\n    if (!emailPattern.test(emailValue)) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      isValid = false;\r\n      emailError.textContent = \"Please enter a valid email address.\";\r\n      emailError.style.color = \"#eb0000\";\r\n      emailError.style.fontSize = \"12px\";\r\n      emailError.style.display = \"block\";\r\n      emailInput.style.border = \"1px solid red\"; // add red border\r\n      return;\r\n    }\r\n    emailInput.style.border = \"\";\r\n  }\r\n\r\n  if (selected.value === \"phone\") {\r\n  const showError = (msg) => {\r\n    phoneError.textContent = msg;\r\n    phoneError.style.color = \"#eb0000\";\r\n    phoneError.style.fontSize = \"12px\";\r\n    phoneError.style.display = \"block\";\r\n    phoneInputGroup.style.border = \"1px solid red\";\r\n  };\r\n\r\n  const clearError = () => {\r\n    phoneError.textContent = \"\";\r\n    phoneError.style.display = \"none\";\r\n    phoneInputGroup.style.border = \"\";\r\n  };\r\n\r\n  //  Allow optional + at start, digits only after\r\n  const phonePattern = /^\\+?\\d+$/;\r\n\r\n  const handleLiveValidation = (e) => {\r\n    const value = e.target.value.trim();\r\n\r\n    if (!value) {\r\n      showError(\"Please enter valid phone number.\");\r\n      return;\r\n    }\r\n\r\n    //  invalid characters or + not at start\r\n    if (!phonePattern.test(value)) {\r\n      showError(\"Please enter valid phone number.\");\r\n      return;\r\n    }\r\n\r\n    // Remove + for length validation\r\n    const digitsOnly = value.replace(/\\D/g, \"\");\r\n\r\n    if (digitsOnly.length < 6 || digitsOnly.length > 17) {\r\n      showError(\"Please enter valid phone number.\");\r\n      console.log(\"minlength max length\");\r\n      return;\r\n    }\r\n\r\n    //  valid\r\n    clearError();\r\n  };\r\n\r\n  // Avoid duplicate listeners\r\n  if (!phoneInput._hasPhoneListener) {\r\n    phoneInput.addEventListener(\"input\", handleLiveValidation);\r\n    phoneInput._hasPhoneListener = true;\r\n  }\r\n\r\n  // ---------- FINAL SUBMIT VALIDATION ----------\r\n  const phoneValue = phoneInput.value.trim();\r\n\r\n  if (!phoneValue) {\r\n    isValid = false;\r\n    showError(\"Please enter valid phone number.\");\r\n    return;\r\n  }\r\n\r\n  if (!phonePattern.test(phoneValue)) {\r\n    isValid = false;\r\n    showError(\"Please enter valid phone number.\");\r\n    return;\r\n  }\r\n\r\n  const digitsOnly = phoneValue.replace(/\\D/g, \"\");\r\n\r\n  if (digitsOnly.length < 6 || digitsOnly.length > 17) {\r\n    isValid = false;\r\n    showError(\"Please enter valid phone number.\");\r\n    return;\r\n  }\r\n\r\n\r\n  clearError();\r\n  \r\n    // --- Ensure countryCode is preserved ---\r\n  const countryCodeInput = document.getElementById(\"countryCode\");\r\n  const selectedOption = document.querySelector(\".option.selected\");\r\n\r\n  if (countryCodeInput && selectedOption) {\r\n    const iso = selectedOption.dataset.iso;\r\n    const country = countryData.find(c => c.iso2 === iso);\r\n    if (country) {\r\n      countryCodeInput.value = country.dialCode;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n}\r\n\r\ndocument.getElementById(\"continueBtn\").addEventListener(\"click\", handleSendCodeClick);\r\n\r\n\r\n// ------------------ Config ------------------\r\n\r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\nconst domain = \"{{global.variables.domain}}\";\r\n// const MOXIE_SCRIPT_ID = 'moxie-translation-script';\r\n// const moxieKey = getMoxieKey(domain);\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n  // Create the dimming overlay\r\n  const overlay = document.createElement('div');\r\n  overlay.id = BACKGROUND_OVERLAY_ID;\r\n  overlay.style.cssText = `position:fixed; top:0; left:0; width:100vw; height:100vh;background:rgba(0,0,0,0.8); z-index:-1; `;\r\n\r\n  // Create the iframe\r\n  const iframe = document.createElement('iframe');\r\n  iframe.id = BACKGROUND_IFRAME_ID;\r\n  iframe.src = url;\r\n  iframe.style.cssText = `position:fixed; top:0; left:0; width:100vw; height:100vh;border:none; z-index:-2;`;\r\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n  // Add them to the page\r\n  document.body.insertBefore(overlay, document.body.firstChild);\r\n  document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n  console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n  const modal = document.getElementById('twoFactorModal');\r\n  if (modal && !backgroundVisible) {\r\n\r\n    insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageCreateAccount}}\");\r\n    backgroundVisible = true;\r\n\r\n  } else if (!modal && backgroundVisible) {\r\n    //removeBackgroundSiteDimmed();\r\n    backgroundVisible = false;\r\n  }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n\r\nfunction removeBackgroundSiteDimmed() {\r\n  const iframe = document.getElementById(BACKGROUND_IFRAME_ID);\r\n  const overlay = document.getElementById(BACKGROUND_OVERLAY_ID);\r\n\r\n  if (iframe) iframe.remove();\r\n  if (overlay) overlay.remove();\r\n\r\n  console.log(\"Dimmed background and iframe have been removed.\");\r\n}\r\n\r\n// On page unload\r\nwindow.addEventListener('beforeunload', () => {\r\n  //removeBackgroundSiteDimmed();\r\n});\r\n\r\n\r\n\r\n const countryData = {{global.company.variables.phoneCountryList}};\r\n// sort (kept for future multi-country support)\r\n// countryData.sort((a, b) => a.name.localeCompare(b.name));\r\n// 1. Sort alphabetically\r\n    countryData.sort((a, b) => a.name.localeCompare(b.name));\r\n\r\n    // 2. Move US to top if exists\r\n    const usIndex = countryData.findIndex(\r\n      c => c.iso2.toUpperCase() === \"US\"\r\n    );\r\n\r\n    if (usIndex > -1) {\r\n      const [usCountry] = countryData.splice(usIndex, 1);\r\n      countryData.unshift(usCountry);\r\n    }\r\n\r\n\r\nconst optionsList = document.getElementById(\"optionsList\");\r\nconst selectedValue = document.getElementById(\"selectedValue\");\r\nconst selectBox = document.getElementById(\"selectBox\");\r\nconst optionsContainer = document.querySelector(\".options-container\");\r\nconst hiddenInput = document.getElementById(\"countryCode\");\r\n// const phoneInput = document.getElementById(\"phone-unenrolled-input\");\r\n\r\nconst defaultCountryCode =\"\";\r\n  // \"{{local.s1gsdp7hyj.payload.output.countryCode}}\";\r\n\r\n/* ---------------- INIT ---------------- */\r\nfunction init() {\r\n  renderOptions();\r\n  if (countryData.length > 0) {\r\n     selectOption(countryData[0]); // US if present, else first country\r\n    }\r\n    // Default to first item if available\r\n    if (countryData.length > 0) selectOption(countryData[0]);\r\n    let defaultCountry = null;\r\n\r\n      if (defaultCountryCode) {\r\n        defaultCountry = countryData.find(\r\n          c => c.iso2.toLowerCase() === defaultCountryCode.toLowerCase()\r\n        );\r\n      }\r\n\r\n      // Use default if found, else first option\r\n      if (defaultCountry) {\r\n        selectOption(defaultCountry);\r\n      } else if (countryData.length > 0) {\r\n        selectOption(countryData[0]);\r\n      }\r\n\r\n\r\n  // let defaultCountry = null;\r\n\r\n  // if (defaultCountryCode) {\r\n  //   defaultCountry = countryData.find(\r\n  //     c => c.iso2.toLowerCase() === defaultCountryCode.toLowerCase()\r\n  //   );\r\n  // }\r\n\r\n  // selectOption(defaultCountry || countryData[0]);\r\n}\r\n\r\n/* ---------------- DROPDOWN TOGGLE ---------------- */\r\nfunction toggleDropdown() {\r\n  optionsContainer.classList.add(\"active\");\r\n  //  if (event.target != selectBox) {\r\n  //   optionsContainer.classList.remove('active')\r\n  // }\r\n  optionsContainer.classList.add(\"active\");\r\n selectBox.classList.add(\"open\");\r\n}\r\n\r\n/* ---------------- SELECT COUNTRY ---------------- */\r\nfunction selectOption(country) {\r\n  // Closed view\r\n  selectedValue.innerHTML = `\r\n    <img src=\"${country.flag}\" alt=\"${country.iso2}\" class=\"flag-img\">\r\n    <span class=\"dial-code\">${country.iso2}</span>\r\n  `;\r\n\r\n  // Hidden input value\r\n  // hiddenInput.value = country.dialCode;\r\n  hiddenInput.setAttribute(\"value\", country.dialCode);\r\n\r\n  // Highlight selected\r\n  document\r\n    .querySelectorAll(\".option\")\r\n    .forEach(el => el.classList.remove(\"selected\"));\r\n\r\n  const selectedOption = document.querySelector(\r\n    `.option[data-iso=\"${country.iso2}\"]`\r\n  );\r\n  if (selectedOption) selectedOption.classList.add(\"selected\");\r\n      optionsContainer.classList.remove(\"active\");\r\n  // Update phone input\r\n  if (phoneInput) {\r\n    const cleaned = phoneInput.value.replace(/^\\+\\d+\\s*/, \"\");\r\n    phoneInput.value =cleaned;/// `${country.dialCode} ${cleaned}`.trim();\r\n  }\r\n\r\n  // Close dropdown\r\n//  optionsContainer.classList.remove(\"active\");\r\n  //selectBox.classList.remove(\"open\");\r\n}\r\n\r\n/* ---------------- RENDER OPTIONS ---------------- */\r\nfunction renderOptions() {\r\n  optionsList.innerHTML = \"\";\r\n\r\n  countryData.forEach(country => {\r\n    const optionDiv = document.createElement(\"div\");\r\n    optionDiv.className = \"option\";\r\n    optionDiv.dataset.iso = country.iso2;\r\n\r\n    optionDiv.innerHTML = `\r\n      <img src=\"${country.flag}\" class=\"flag-img\">\r\n      <span class=\"country-name\">${country.name}</span>\r\n      <span class=\"dial-code\">${country.dialCode}</span>\r\n    `;\r\n\r\n    optionDiv.addEventListener(\"click\", e => {\r\n      e.stopPropagation();\r\n      selectOption(country);\r\n    });\r\n\r\n    optionsList.appendChild(optionDiv);\r\n  });\r\n}\r\n\r\n  selectBox.addEventListener(\"click\", e => {\r\n    optionsContainer.classList.add(\"active\");\r\n    const isClickInside = selectBox.contains(event.target);\r\n\r\n    // If the click was *not* inside the element, remove the 'active' class\r\n    if (!isClickInside) {\r\n      optionsContainer.classList.remove('active')\r\n      console.log('Clicked outside - class removed.');\r\n    } else {\r\n      console.log('Clicked inside - class kept.');\r\n    }\r\n  });\r\ndocument.addEventListener('click', (event) => {\r\n  // Check if the clicked target is NOT the element and NOT inside the element;\r\n let rdioBtnCom = event.target.className.trim();\r\n  if (rdioBtnCom === \"radioBtn\") {\r\n    return;\r\n    }\r\n  else{\r\n        if(!selectBox.contains(event.target)) {\r\n    optionsContainer.classList.remove('active');\r\n  }\r\n  } \r\n\r\n});\r\n\r\n\r\ninit();\r\n"
              },
              "nodeTitle": {
                "value": "Register for MFA"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "propertyName": "emailInput",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "propertyName": "phoneInput",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "propertyName": "countryCode",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  }
                ]
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              }
            },
            "idUnique": "th9y7cfbub",
            "isDisabled": false
          },
          "position": {
            "x": 926,
            "y": 2094
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "3omqo4dfp2",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "dsbfpn557g"
              },
              "canChangeDevice": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1826,
            "y": 2244
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ryc1a5w88f",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1106,
            "y": 2064
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "chxjkxb7an",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AIsEmpty",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"emailInput\",\n        \"data\": \"{{local.na9fh95cwm.payload.output.emailInput}}\",\n        \"tooltip\": \"{{local.na9fh95cwm.payload.output.emailInput}}\",\n        \"children\": [\n          {\n            \"text\": \"emailInput\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"phoneInput\",\n        \"data\": \"{{local.na9fh95cwm.payload.output.phoneInput}}\",\n        \"tooltip\": \"{{local.na9fh95cwm.payload.output.phoneInput}}\",\n        \"children\": [\n          {\n            \"text\": \"phoneInput\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "checkNullORUndefined": {
                "value": true
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              },
              "nodeTitle": {
                "value": "TOTP Selected"
              }
            }
          },
          "position": {
            "x": 1256,
            "y": 2124
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "tgcisw3o8v",
            "nodeType": "EVAL",
            "properties": {
              "98pctuvf3t": {
                "value": "anyTriggersFalse"
              },
              "eehmojjd41": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1406,
            "y": 2124
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9oye8l8aip",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "dc2mhwx86e"
              },
              "deviceType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"EMAIL\"\n      }\n    ]\n  }\n]"
              },
              "email": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"emailInput\",\n        \"data\": \"{{local.na9fh95cwm.payload.output.emailInput}}\",\n        \"tooltip\": \"{{local.na9fh95cwm.payload.output.emailInput}}\",\n        \"children\": [\n          {\n            \"text\": \"emailInput\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "rxt4idog6n"
          },
          "position": {
            "x": 1976,
            "y": 2124
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "eehmojjd41",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AIsEmpty",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"emailInput\",\n        \"data\": \"{{local.na9fh95cwm.payload.output.emailInput}}\",\n        \"tooltip\": \"{{local.na9fh95cwm.payload.output.emailInput}}\",\n        \"children\": [\n          {\n            \"text\": \"emailInput\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "checkNullORUndefined": {
                "value": true
              },
              "nodeTitle": {
                "value": "Email ID Entered??"
              }
            }
          },
          "position": {
            "x": 1526,
            "y": 2004
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "yg3imbhjkr",
            "nodeType": "EVAL",
            "properties": {
              "9oye8l8aip": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1736,
            "y": 2019
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "r9gkc1v9ix",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"skipSuccessMessage\",\n        \"data\": \"{{global.parameters.skipSuccessMessage}}\",\n        \"tooltip\": \"{{global.parameters.skipSuccessMessage}}\",\n        \"children\": [\n          {\n            \"text\": \"skipSuccessMessage\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "boolean"
              },
              "nodeTitle": {
                "value": "Skip Success Message?"
              },
              "backgroundColor": {
                "value": "#9b9b9bff"
              }
            },
            "idUnique": "2zqlxpqt6u"
          },
          "position": {
            "x": 2797,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9q6i6d2wuw",
            "nodeType": "EVAL",
            "properties": {
              "7doo7jvg7u": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2917,
            "y": 5280
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "yr4muq81pq",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"createAccountEnrollment\",\n        \"data\": \"{{global.parameters.createAccountEnrollment}}\",\n        \"tooltip\": \"{{global.parameters.createAccountEnrollment}}\",\n        \"children\": [\n          {\n            \"text\": \"createAccountEnrollment\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "boolean"
              },
              "nodeTitle": {
                "value": "create account flow ??"
              }
            },
            "idUnique": "7m6b4psh5d"
          },
          "position": {
            "x": 2130,
            "y": 5610
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "j62log92mp",
            "nodeType": "EVAL",
            "properties": {
              "g8gf7t9g1x": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2265,
            "y": 5595
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "g8gf7t9g1x",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "x4lu2jj85z"
              }
            }
          },
          "position": {
            "x": 2492.75,
            "y": 5551.0542801167485
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "wht4m9wirq",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"createAccountEnrollment\",\n        \"data\": \"{{global.parameters.createAccountEnrollment}}\",\n        \"tooltip\": \"{{global.parameters.createAccountEnrollment}}\",\n        \"children\": [\n          {\n            \"text\": \"createAccountEnrollment\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "boolean"
              },
              "nodeTitle": {
                "value": "create account flow ??"
              }
            },
            "idUnique": "olhg58ad7a"
          },
          "position": {
            "x": 2220,
            "y": 1170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xlq6gx8nmd",
            "nodeType": "EVAL",
            "properties": {
              "qfijpdejzw": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 2325,
            "y": 1200
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "74zkiwx9qz",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "yhe5j5cca2"
              }
            }
          },
          "position": {
            "x": 2401.5,
            "y": 1105.0517132461719
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "rf7hvg9du2",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "AEqualsB",
            "type": "trigger",
            "properties": {
              "leftValueA": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"createAccountEnrollment\",\n        \"data\": \"{{global.parameters.createAccountEnrollment}}\",\n        \"tooltip\": \"{{global.parameters.createAccountEnrollment}}\",\n        \"children\": [\n          {\n            \"text\": \"createAccountEnrollment\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "rightValueB": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              },
              "type": {
                "value": "boolean"
              },
              "nodeTitle": {
                "value": "create account flow ??"
              }
            },
            "idUnique": "nzaah2qz4o"
          },
          "position": {
            "x": 1410,
            "y": 1170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xwg1yqffa5",
            "nodeType": "EVAL",
            "properties": {
              "8mq6jrib4q": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1830,
            "y": 1215
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "45i978uahk",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 1602.125,
            "y": 1307.527216024949
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "8usuhs9iak",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "yhe5j5cca2"
              }
            }
          },
          "position": {
            "x": 1734.25,
            "y": 1445.054432049898
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "nrgw56kky3",
            "nodeType": "EVAL",
            "properties": {
              "8hqaj06hy6": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1590,
            "y": 1170
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "24oflmmavz",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 540,
            "y": 2100
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "y64a07b0le",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Teleport",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "eh45uuo9ep"
              },
              "resendMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"false\"\n      }\n    ]\n  }\n]"
              },
              "errorMessage": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"true\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 1230,
            "y": 5760
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "uplkf7x5tv",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "08Jan2026-Select Enrollment Device"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"array\",\n\t\"properties\": {\n\t\t\"devices\": {\n\t\t\t\"type\": \"object\",\n\t\t\t\"properties\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"displayName\": \"id\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t},\n\t\t\t\t\"type\": {\n\t\t\t\t\t\"displayName\": \"type\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t},\n\t\t\t\t\"status\": {\n\t\t\t\t\t\"displayName\": \"status\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"allowCancel\": {\n\t\t\t\"type\": \"boolean\"\n\t\t}\n\t}\n}"
              },
              "outputSchema": {
                "value": {}
              },
              "customHTML": {
                "value": "<!-- v1.0 -->\n<!-- 2025-10-27 updated by Tony Kroukamp -->\n<!-- Editable email and phone inputs, prepopulated from matchedUser object -->\n\n<div class=\"container\" style=\"padding:20px;max-width:900px;margin:40px auto;\" id=\"selectDeviceModal\">\n  <div class=\"modal\" style=\"background:#fff;padding:40px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.08);\">\n    <div class=\"secure-your-account\" style=\"font-size:1.25rem;font-weight:600;margin-bottom:10px;\">\n      Register for Two-Factor Authentication\n    </div>\n\n    <p class=\"secure-your-account-description\" style=\"margin-bottom:16px;\">\n      Select a method to authenticate your account. If you dont see your preferred method, select to add or edit your information in your account.\n    </p>\n\n    <div data-skcomponent=\"skerror\" class=\"error-message\" data-skvisibility=\"\" style=\"color:#c50000;  padding :12px 16px 12px 16px;  background: #f6ecec; border-radius: var(--corner-radii-5px, 5px);border-style: solid;width: fit-content;\"></div>\n    <div id=\"errorforNoSelect\"></div>\n\n    <form id=\"authForm\">\n      <!-- Authenticator App -->\n      <div class=\"option-select\">\n        <input type=\"radio\" id=\"authApp\" name=\"selectedDevice\" value=\"TOTP\">\n        <label for=\"authApp\">\n          <strong>Register Authenticator App</strong><br>\n          <small>You need to have an authenticator app already downloaded on your device to use this option</small>\n        </label>\n      </div>\n\n      <!-- Register Email -->\n      <div class=\"option-select\" style=\"margin-top:15px;\">\n        <input type=\"radio\" id=\"email\" name=\"selectedDevice\" value=\"EMAIL\">\n        <label for=\"email\">Register Email</label>\n        <!-- <input type=\"email\" id=\"emailInput\" name=\"emailInput\" class=\"contact-input GlobalLinkNoTx\"\n          style=\"display:none;margin-top:8px;padding:12px 14px\" /> -->\n          <textarea id=\"emailInput\" name=\"emailInput\" class=\"contact-input GlobalLinkNoTx\" style=\"display:none;margin-top:8px;\"></textarea>\n        <span id=\"emailError\" class=\"input-error-message\">Please enter your email</span><br>\n      </div>\n\n      <!-- Register Mobile Phone -->\n      <div class=\"option-select\" style=\"margin-top:15px;\">\n        <input type=\"radio\" id=\"mobile\" name=\"selectedDevice\" value=\"SMS\">\n        <label for=\"mobile\">Register Mobile Phone</label>\n        <!-- <select id=\"countryCode\" class=\"country-selector\" aria-label=\"select country code\" style=\"display:none;\">\n            \n\n          </select>\n        <input type=\"tel\" id=\"phoneInput\" name=\"phoneInput\" class=\"contact-input GlobalLinkNoTx\"\n          style=\"display:none;margin-top:8px;\" /> -->\n           <div class=\"phone-input-group\" id=\"phoneInputGroup\">\n\n                <!-- LEFT: Dropdown -->\n                <div class=\"custom-select-container\" id=\"countryDropdown\">\n                  <div class=\"select-box\" id=\"selectBox\">\n                    <!-- onclick=\"toggleDropdown()\" -->\n                    <div class=\"selected-value\" id=\"selectedValue\">\n                      <!-- JS fills this -->\n                    </div>\n                    <span class=\"arrow\"></span>\n                  </div>\n\n                  <div class=\"options-container\" id=\"optionsList\">\n                    <!-- JS fills this -->\n                  </div>\n                  <input type=\"hidden\"  class=\"input-value GlobalLinkNoTx\" id=\"countryCode\" aria-labelledby=\"phone-unenrolledLabel\">\n                </div>\n\n                <!-- RIGHT: Number Input -->\n                <input type=\"tel\" class=\"phone-input\" id=\"phoneInput\">\n              </div>\n        <span id=\"phoneError\" class=\"input-error-message\">Please enter your phone</span><br>\n      </div>\n\n      <!-- Hidden SK-bound values for submission -->\n      <input type=\"text\" id=\"method\" name=\"method\" data-skcomponent=\"skinput\" readonly style=\"display:none;\" />\n      <input type=\"text\" id=\"methodValue\" name=\"methodValue\" data-skcomponent=\"skinput\" readonly style=\"display:none;\" />\n\n      <!-- Buttons -->\n      <div class=\"buttons\" style=\"display:flex;gap:12px;margin-top:20px;\">\n        <button id=\"sendcode\" type=\"submit\" class=\"primary\"\n          data-skcomponent=\"skbutton\"\n          data-skform=\"authForm\"\n          data-skbuttontype=\"form-submit\"\n          data-skbuttonvalue=\"SendCode\">\n          Continue\n        </button>\n\n        <button id=\"skipButton\" type=\"button\" class=\"link\"\n          data-skcomponent=\"skbutton\"\n          data-skbuttontype=\"next-event\"\n          data-skbuttonvalue=\"SKIP\">\n          Skip\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n"
              },
              "customCSS": {
                "value": "/* === Overlay background === */\r\n/* Creates a dimmed layer behind the modal (currently transparent) */\r\n.overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  /* background-color: rgba(0, 0, 0, 0.85);  // can enable if dimming needed */\r\n  z-index: 1;\r\n}\r\n\r\n/* === Main container === */\r\n/* Centers the modal horizontally and vertically on the screen */\r\n.container {\r\n  position: fixed;\r\n  inset: 0;\r\n  z-index: 2;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.country-selector{\r\n  width: fit-content;\r\n    position: relative;\r\n    top: 50px;\r\n    left: 10px;\r\n    border: none;\r\n}\r\n/* Adds invisible layer for optional background blur/dim */\r\n.container::before {\r\n  content: \"\";\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  /* background: rgba(0, 0, 0, 0.85);  // optional overlay */\r\n  z-index: -1;\r\n  opacity: 0.7;\r\n}\r\n\r\n/* === Modal card === */\r\n/* White box that holds all the content */\r\n.modal {\r\n  background: #fff;\r\n  border-radius: 1rem;\r\n  padding: 48px;             /* inside spacing */\r\n  width: 760px;              /* fixed width as per spec */\r\n  max-width: 760px;\r\n  height: auto;             /* fixed height as per spec */\r\n  box-sizing: border-box;    /* keeps total size 760x462 including padding */\r\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);\r\n  overflow: auto;            /* adds scroll if content overflows */\r\n}\r\n\r\n/*.modal h2 {\r\n    margin-top: 0;\r\n    margin-bottom: 0.5rem;\r\n} */\r\n\r\n/* .modal p {\r\n    font-size: 0.95rem;\r\n    color: #333;\r\n    margin-top: 0;\r\n} */\r\n\r\n/* === Text styles === */\r\n.secure-your-account {\r\n  color: #000;\r\n  font-family: Roboto, Arial, sans-serif;\r\n  font-size: 20px;           /* title font size */\r\n  font-weight: 600;\r\n  line-height: 30px;\r\n  margin: 0 0 16px 0;        /* space below title */\r\n}\r\n\r\n.secure-your-account-description {\r\n  color: #000;\r\n  font-family: Roboto, Arial, sans-serif;\r\n  font-size: 16px;           /* body font size */\r\n  font-weight: 400;\r\n  line-height: 24px;\r\n  margin: 0 0 8px 0;         /* small gap below paragraph */\r\n}\r\n\r\n/* === Option rows (radio + label + optional input) === */\r\n/* Grid layout keeps radio on left, label + input on right */\r\n.option-select{\r\n  display: grid;\r\n  grid-template-columns: 24px 1fr; /* two columns: radio | content */\r\n  column-gap: 12px;\r\n  row-gap: 8px;\r\n  align-items: start;\r\n  margin-top: 16px;\r\n}\r\n/* .contact-input{\r\n padding:12px 57px;\r\n} */\r\n\r\n/* .option input[type=\"radio\"] {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 0.75rem;\r\n    accent-color: black;\r\n    cursor: pointer;\r\n    border-radius: 50%;\r\n} */\r\n\r\n/* === Radio button styling === */\r\n#selectDeviceModal .option-select input[type=\"radio\"] {\r\n  -webkit-appearance: revert !important;\r\n  -moz-appearance: revert !important;\r\n  appearance: revert !important;\r\n  position: static !important;\r\n  background-color: transparent !important;\r\n  color: inherit !important;\r\n  border: initial !important;\r\n  outline: none !important;\r\n\r\n  width: 20px !important;\r\n  height: 20px !important;\r\n  margin: 2px 0 0 0 !important; /* slight alignment fix */\r\n  accent-color: #000 !important;\r\n  cursor: pointer !important;\r\n  border-radius: 50% !important;\r\n\r\n  grid-column: 1;\r\n  grid-row: 1 / span 2; /* spans label and input vertically */\r\n}\r\n\r\n/* === Label text next to radio === */\r\n.option-select label {\r\n  grid-column: 2;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n}\r\n\r\n/* === Small help text under label === */\r\n.option-select label small {\r\n  display: block;\r\n  margin-top: 6px;\r\n  color: #6b7280;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n}\r\n\r\n/* === Email / Phone input box === */\r\n/* JS will show/hide this based on selected radio option */\r\n/* .contact-input {\r\n  grid-column: 2;            \r\n  display: block;\r\n  margin: 0;\r\n  margin-top: 8px;\r\n  padding: 12px 71px;\r\n  width: 300px;\r\n  max-width: 250px;\r\n  min-height: 44px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  box-sizing: border-box;\r\n} */\r\n.contact-input {\r\n  grid-column: 2;\r\n  display: block;\r\n  margin: 0;\r\n  margin-top: 8px;\r\n  padding: 5px 5px 5px 19px;\r\n  height: 25px;\r\n  width: 300px;\r\n  /* max-width: 250px; */\r\n  min-height: 44px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  box-sizing: border-box;\r\n\r\n  /*  ADD ONLY THESE */\r\n    resize: none; \r\n  white-space: nowrap;        /* keep text in single line */\r\n  overflow-x: hidden;         /* hide scroll by default */\r\n  overflow-y: hidden;         /* never show vertical */\r\n  text-overflow: ellipsis;    /* show ... when clipped */\r\n}\r\n\r\n/* Enable horizontal scroll ONLY when needed */\r\n.contact-input:hover,\r\n.contact-input:focus {\r\n  overflow-x: auto;           /* shows scroll only if overflow */\r\n  text-overflow: clip;\r\n}\r\n.contact-input::-webkit-scrollbar {\r\n  height: 6px;\r\n}\r\n\r\n.contact-input::-webkit-scrollbar-thumb {\r\n  background-color: #9ca3af;\r\n  border-radius: 10px;\r\n}\r\n/* Remove Chrome autofill / edit icons */\r\n.contact-input {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  background-image: none !important;\r\n}\r\n\r\n.contact-input::-webkit-credentials-auto-fill-button,\r\n.contact-input::-webkit-contacts-auto-fill-button {\r\n  display: none !important;\r\n  visibility: hidden;\r\n  pointer-events: none;\r\n}\r\n\r\n\r\n/* === Button area === */\r\n/* Aligns Continue and Skip horizontally */\r\n.buttons {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  margin-top: 24px;\r\n  gap: 16px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n/* === Continue button === */\r\nbutton.primary {\r\n  color: #fff;\r\n  font-size: 16px;\r\n  font-family: Roboto, Arial, sans-serif;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n  display: flex;\r\n  height: 48px;\r\n  padding: 0 24px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 12px;\r\n  border-radius: 1000px;\r\n  background: #000;\r\n  border: none;\r\n}\r\n\r\nbutton.primary:disabled {\r\n  background-color: #888;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* === Skip button === */\r\nbutton.link {\r\n  background: none;\r\n  border: none;\r\n  color: #000;\r\n  cursor: pointer;\r\n  text-decoration: underline;\r\n  padding: 0;\r\n  margin-left: 6px;\r\n  font-size: 16px;\r\n  font-family: Roboto, Arial, sans-serif;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n}\r\n\r\n  .input-error-message {\r\n    color: red;\r\n    padding-left: 40px;\r\n    font-family: \"Roboto-Regular\", sans-serif;\r\n    font-size: 12px;\r\n    display: none;\r\n  }\r\n\r\n  /* === Mobile responsive fix === */\r\n  /* When the screen is smaller, allow modal to shrink naturally */\r\n  @media (max-width: 768px) {\r\n    .modal {\r\n      width:100%;\r\n      max-width: 760px;\r\n      height: auto;\r\n      padding: 24px;\r\n    }\r\n\r\n    .option-select{\r\n      row-gap: 6px;\r\n    }\r\n\r\n    .contact-input {\r\n      width: 100%;\r\n    }\r\n    .container{\r\n          padding: 8px 8px !important;\r\n    }\r\n  }\r\n\r\n\r\n.phone-input-group{\r\n    display: flex;\r\n    align-items: center;\r\n    /* width: 280pxpx; */\r\n    background: var(--bg-color);\r\n    border: 1px solid black;\r\n    border-radius: 5px; /* Rounded corners on the outer shell */\r\n    /* box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); */\r\n    transition: all 0.2s ease;\r\n    width: 300px;\r\n    /* margin-left: 40px; */\r\n  }\r\n\r\n  /* Focus state for the entire group */\r\n  .phone-input-group:focus-within {\r\n    border-color: var(--focus-color);\r\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\r\n  }\r\n\r\n  /* 2. The Custom Dropdown (Left Side) */\r\n  .custom-select-container {\r\n    position: relative;\r\n    width: 110px; /* Fixed width for the code part */\r\n    border-right: 1px solid var(--border-color); /* Divider line */\r\n  }\r\n\r\n  .select-box {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 12px;\r\n    cursor: pointer;\r\n    height: 100%; /* Full height of wrapper */\r\n    background: transparent;\r\n    width: 40px !important;\r\n  }\r\n\r\n  .selected-value {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n  }\r\n\r\n  .flag-img {\r\n    width: 20px;\r\n    height: 14px;\r\n    object-fit: cover;\r\n    border-radius: 2px;\r\n  }\r\n\r\n  .dial-code {\r\n    color: var(--text-primary);\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .arrow {\r\n    margin-left: 6px;\r\n    color: var(--text-secondary);\r\n    font-size: 10px;\r\n    transition: transform 0.2s;\r\n  }\r\n\r\n  .select-box.open .arrow {\r\n    transform: rotate(180deg);\r\n  }\r\n\r\n  /* 3. The Dropdown List (Floating) */\r\n  .options-container {\r\n    position: relative;\r\n    top: calc(100% + 4px);\r\n    left: 0;\r\n    width: 300px; /* Wider than the toggle button to show full names */\r\n    background: white;\r\n    border: 1px solid var(--border-color);\r\n    border-radius: 5px;\r\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n    max-height: 250px;\r\n    overflow-y: auto;\r\n    z-index: 100;\r\n    display: none;\r\n  }\r\n\r\n  .options-container.active {\r\n    display: block;\r\n  }\r\n\r\n  .option{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    gap: 10px;\r\n    padding: 10px 16px;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    color: var(--text-primary);\r\n  }\r\n\r\n  /* .option-country:hover {\r\n    background-color: #f1f5f9;\r\n  } */\r\n\r\n  .option.selected {\r\n    background-color: #eff6ff;\r\n  }\r\n\r\n  .option.country-name {\r\n      flex: 1; /* Push dial code to right */\r\n  }\r\n\r\n  .option .dial-code {\r\n      color: var(--text-secondary);\r\n  }\r\n\r\n  /* 4. The Phone Input (Right Side) */\r\n  .phone-input {\r\n    flex: 1; /* Take remaining width */\r\n    border: none;\r\n    outline: none;\r\n    padding: 12px 16px;\r\n    font-size: 14px;\r\n    color:black;\r\n    /* border: 1px solid black; */\r\n    border-radius:5px;\r\n    background: white;\r\n  }\r\n\r\n  .phone-input::placeholder {\r\n    color: #94a3b8;\r\n  }\r\n"
              },
              "customScript": {
                "value": "const radios = document.querySelectorAll('input[name=\"selectedDevice\"]');\r\nconst methodInput = document.getElementById('method');\r\nconst methodValueInput = document.getElementById('methodValue');\r\nconst emailInput = document.getElementById('emailInput');\r\nconst phoneInput = document.getElementById('phoneInput');\r\n//const phoneInputGroup = document.getElementById('phoneInputGroup');\r\nconst skipButton = document.getElementById(\"skipButton\");\r\nconst errorMessageDiv = document.querySelector('[data-skcomponent=\"skerror\"]');\r\nconst errorMessageDivSelect = document.getElementById('errorforNoSelect');\r\nconst selectBox = document.getElementById('selectBox');\r\nconst phoneInputGroup = document.getElementById('phoneInputGroup')\r\n\r\n// Pre-fill email and phone using DaVinci variables\r\nconst prefilledEmail = \"{{local.ifct35turd.payload.output.matchedUser.email}}\";\r\nconst prefilledPhone = \"{{local.rpe4ixd0ym.payload.output.nationalNumber}}\";\r\n\r\nif (prefilledEmail) {\r\n  emailInput.value = prefilledEmail;\r\n}\r\nif (prefilledPhone) {\r\n  phoneInput.value = prefilledPhone;\r\n}\r\n\r\nfunction disableHiddenInputs() {\r\n  if (emailInput.style.display === \"none\") {\r\n    emailInput.disabled = true;\r\n  } else {\r\n    emailInput.disabled = false;\r\n  }\r\n\r\n  if (phoneInput.style.display === \"none\") {\r\n    phoneInput.disabled = true;\r\n  } else {\r\n    phoneInput.disabled = false;\r\n  }\r\n}\r\n\r\nphoneInputGroup.style.display =\"none\"\r\n// Handle radio selection and reveal inputs\r\nfunction hideNoSelectError() {\r\n  if (!errorMessageDivSelect) return;\r\n  errorMessageDivSelect.textContent = \"\";\r\n  errorMessageDivSelect.style.display = \"none\";\r\n}\r\n\r\nradios.forEach(radio => {\r\n  radio.addEventListener('change', () => {\r\n    hideNoSelectError();\r\n    const selectedValue = radio.value;\r\n    methodInput.value = selectedValue;\r\n\r\n    emailInput.style.display = 'none';\r\n    phoneInput.style.display = 'none';\r\n    selectBox.style.display= 'none';\r\n    phoneInputGroup.style.display =\"none\"\r\n\r\n    // --- FIX: Clear both errors when switching methods ---\r\n    const emailError = document.getElementById(\"emailError\");\r\n    const phoneError = document.getElementById(\"phoneError\");\r\n\r\n    if (emailError) { emailError.textContent = \"\"; emailError.style.display = \"none\"; }\r\n    if (phoneError) { phoneError.textContent = \"\"; phoneError.style.display = \"none\"; }\r\n    // // --- FIX: Reset borders ---\r\n    // if (emailInput) emailInput.style.border = \"\";\r\n    // if (phoneInput) phoneInput.style.border = \"\";\r\n\r\n    if (selectedValue === 'EMAIL') {\r\n      emailInput.style.display = 'block';\r\n      methodValueInput.value = emailInput.value;\r\n    } else if (selectedValue === 'SMS') {\r\n      phoneInput.style.display = 'block';\r\n      selectBox.style.display= 'flex';\r\n      phoneInputGroup.style.display= 'flex';\r\n      methodValueInput.value = phoneInput.value;\r\n    } else {\r\n      methodValueInput.value = ''; // TOTP doesnt require a secondary value\r\n    }\r\n\r\n    if (errorMessageDiv) {\r\n      errorMessageDiv.textContent = \"\";\r\n      errorMessageDiv.style.display = \"none\";\r\n    }\r\n    disableHiddenInputs();\r\n  });\r\n});\r\n\r\n// --- Handle form submit ---\r\nfunction handleSendCodeSubmit(event) {\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n\r\n  // No method selected\r\n  // if (!selected) {\r\n  //   event.preventDefault();\r\n  //   errorMessageDiv.textContent = \"Please select a method.\";\r\n  //   errorMessageDiv.style.display = \"block\";\r\n  //   errorMessageDiv.style.color = \"#eb0000\";\r\n  //   errorMessageDiv.style.background = \"#f6ecec\";\r\n  //   errorMessageDiv.style.borderRadius = \"5px\";\r\n  //   errorMessageDiv.style.padding = \"8px 10px\";\r\n  //   return;\r\n  // }\r\n   errorMessageDivSelect.textContent = \"\";\r\n    errorMessageDivSelect.style.display = \"none\";\r\n    let isValid = false;\r\n  if (!selected) {\r\n  event.preventDefault();\r\n  event.stopPropagation();\r\n  let isValid = false;\r\n\r\n\r\n  // if (errorMessageDivSelect) {\r\n    errorMessageDivSelect.textContent = \"Please select a method.\";\r\n    errorMessageDivSelect.style.display = \"block\";\r\n    errorMessageDivSelect.style.color = \"#eb0000\";\r\n    errorMessageDivSelect.style.background = \"#f6ecec\";\r\n    errorMessageDivSelect.style.borderRadius = \"5px\";\r\n    errorMessageDivSelect.style.padding = \"8px 10px\";\r\n  // } else {\r\n  //   console.warn(\"errorMessageDiv not found in DOM\");\r\n  // }\r\n\r\n  return;\r\n}\r\n\r\n\r\n  // Set methodValue based on selected method\r\n  if (selected.value === \"EMAIL\") {\r\n      errorMessageDivSelect.textContent = \"\";\r\n    errorMessageDivSelect.style.display = \"none\";\r\n    methodValueInput.value = emailInput.value;\r\n  } else if (selected.value === \"SMS\") {\r\n    methodValueInput.value = phoneInput.value;\r\n  } else {\r\n    methodValueInput.value = \"\";\r\n  }\r\n\r\n  // Run combined validation (email + phone)\r\n  const valid = validateEmailAndPhone(event);\r\n    //  FORCE countryCode before submit/serialization\r\n  const countryCodeInput = document.getElementById(\"countryCode\");\r\n  const selectedCountry = document.querySelector(\".option.selected\");\r\n\r\n  if (countryCodeInput && selectedCountry) {\r\n    const iso = selectedCountry.dataset.iso;\r\n    const country = countryData.find(c => c.iso2 === iso);\r\n    if (country) {\r\n      countryCodeInput.value = country.dialCode;\r\n    }\r\n  }\r\n  if (!valid) return;  // Stop submission if invalid\r\n}\r\n\r\ndocument.getElementById(\"sendcode\").addEventListener(\"click\", handleSendCodeSubmit);\r\n\r\n// --- Validation on Email and Phone ---\r\n\r\n\r\nfunction validateEmailAndPhone(event) {\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n\r\n  const emailInput = document.getElementById(\"emailInput\");\r\n  const emailError = document.getElementById(\"emailError\");\r\n\r\n  const phoneInput = document.getElementById(\"phoneInput\");\r\n  const phoneError = document.getElementById(\"phoneError\");\r\n  let isValid = true;\r\n\r\n  // Clear error fields\r\n  if (emailError) { emailError.textContent = \"\"; emailError.style.display = \"none\"; }\r\n  if (phoneError) { phoneError.textContent = \"\"; phoneError.style.display = \"none\"; }\r\n  // emailInput.style.border = \"\";\r\n  // phoneInput.style.border = \"\";\r\n  if (emailInput) emailInput.style.border = \"\";\r\n  if (phoneInput) phoneInput.style.border = \"\";\r\n\r\n\r\n  // --- EMAIL validation ---\r\n  if (selected && selected.value === \"EMAIL\") {\r\n    const emailValue = emailInput.value.trim();\r\n    const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n    if (!emailValue || !emailPattern.test(emailValue)) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      emailError.textContent = \"Please enter a valid email address.\";\r\n      emailError.style.color = \"#eb0000\";\r\n      emailError.style.fontSize = \"12px\";\r\n      emailError.style.display = \"block\";\r\n      emailError.style.whiteSpace = \"nowrap\";\r\n      emailInput.style.border = \"1px solid red\";\r\n      isValid = false;\r\n    } else {\r\n      emailInput.style.border = \"\";\r\n      emailError.style.display = \"none\";\r\n    }\r\n\r\n    // --- LIVE email input validation ---\r\n    if (!emailInput._hasEmailListener) {\r\n      emailInput.addEventListener(\"input\", () => {\r\n        const value = emailInput.value.trim();\r\n        if (emailPattern.test(value)) {\r\n          emailError.textContent = \"\";\r\n          emailError.style.display = \"none\";\r\n          emailInput.style.border = \"\";\r\n        }\r\n      });\r\n      emailInput._hasEmailListener = true;\r\n    }\r\n  }\r\n\r\n  // --- PHONE validation ---\r\n  if (selected && selected.value === \"SMS\") {\r\n      errorMessageDivSelect.textContent = \"\";\r\n    errorMessageDivSelect.style.display = \"none\";\r\n    const phoneValue = phoneInput.value.trim();\r\n\r\n\r\n    const allowedChars = /^[0-9]*$/;   // /^[0-9()+\\-\\s]*$/;\r\n    const formattedPattern = /^\\+\\d{1,3}\\s?\\(\\d{3}\\)-\\(\\d{3}\\)-\\(\\d{4}\\)$/; ///^\\+\\d{1,3}\\s?\\(?\\d{3}\\)?[-\\s]?\\(?\\d{3}\\)?[-\\s]?\\(?\\d{4}\\)?$/; \r\n    const plainPattern = /^\\+\\d{1,3}[\\s]?\\d{7,15}$/;\r\n\r\n    const phonePattern = /^[0-9]{6,17}$/; // Only digits, length 6-17\r\n\r\n    const showPhoneError = (msg) => {\r\n      phoneError.textContent = msg;\r\n      phoneError.style.color = \"#eb0000\";\r\n      phoneError.style.fontSize = \"12px\";\r\n      phoneError.style.display = \"block\";\r\n      phoneError.style.whiteSpace = \"nowrap\";\r\n      phoneInputGroup.style.border = \"1px solid red\";\r\n    };\r\n\r\n    const clearPhoneError = () => {\r\n      phoneError.textContent = \"\";\r\n      phoneError.style.display = \"none\";\r\n      phoneInputGroup.style.border = \"\";\r\n    };\r\n\r\n    // --- LIVE phone input validation ---\r\n    if (!phoneInput._hasPhoneListener) {\r\n      phoneInput.addEventListener(\"input\", (e) => {\r\n        console.log(\"login enrollment\");\r\n        const value = e.target.value;\r\n        // --- LIVE EMPTY FIELD CHECK ---\r\n        if (!value) {\r\n          showPhoneError(\"Please enter a valid phone number.\");\r\n          console.log(\"phone required.\");\r\n          return;\r\n        }\r\n        // --- LIVE DIGIT LENGTH CHECK ---\r\n        const digitCount = value.replace(/\\D/g, \"\");\r\n        if (digitCount.length < 6 || digitCount.length > 17) {\r\n          showPhoneError(\"Please enter a valid phone number.\");\r\n          console.log(\"Phone number must contain 617 digits.\");\r\n          return;\r\n        }\r\n        // --- LIVE ALLOWED CHARS CHECK ---\r\n        if (!allowedChars.test(value)) {\r\n          showPhoneError(\"Please enter a valid phone number.\");\r\n          return;\r\n        }\r\n        // If all good, clear errors\r\n        clearPhoneError();\r\n      });\r\n      phoneInput._hasPhoneListener = true;\r\n    }\r\n\r\n    // Validate on submit\r\n    if (!phoneValue || !allowedChars.test(phoneValue)) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      showPhoneError(\"Please enter a valid phone number.\");\r\n      isValid = false;\r\n      return;\r\n    }\r\n\r\n    //+ should not allow\r\n    if (/[+()]/.test(phoneValue)) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      showPhoneError(\"Please enter a valid phone number.\");\r\n      isValid = false;\r\n      return;\r\n    }\r\n\r\n    // Cannot end with a special character\r\n    if (!/[0-9)]$/.test(phoneValue)) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      showPhoneError(\"Please enter a valid phone number.\");\r\n      isValid = false;\r\n      return;\r\n    }\r\n\r\n    // Must match at least one valid pattern\r\n    // if (!formattedPattern.test(phoneValue) && !plainPattern.test(phoneValue)) {\r\n    //   event.preventDefault();\r\n    //   event.stopPropagation();\r\n    //   showPhoneError(\"Please enter a valid phone number.\");\r\n    //   isValid = false;\r\n    // }\r\n\r\n    //allow 10-16 digits\r\n    const digitCount = phoneValue.replace(/\\D/g, \"\");\r\n    if (digitCount.length < 6 || digitCount.length > 17) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      showPhoneError(\"Please enter a valid phone number.\");\r\n      console.log(\"Phone number must contain 1016 digits.\");\r\n      isValid = false;\r\n      return isValid;\r\n    }\r\n\r\n    if (isValid) clearPhoneError();\r\n  }\r\n\r\n  return isValid;\r\n}\r\n\r\n\r\n\r\n\r\n///////////////////////////////////////////////////\r\n// function validateEmailAndPhone(event) {\r\n//   const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n\r\n//   const emailInput = document.getElementById(\"emailInput\");\r\n//   const emailError = document.getElementById(\"emailError\");\r\n\r\n//   const phoneInput = document.getElementById(\"phoneInput\");\r\n//   const phoneError = document.getElementById(\"phoneError\");\r\n//   let isValid = true;\r\n\r\n//   // Clear error fields\r\n//   if (emailError) { emailError.textContent = \"\"; emailError.style.display = \"none\"; }\r\n//   if (phoneError) { phoneError.textContent = \"\"; phoneError.style.display = \"none\"; }\r\n//   // emailInput.style.border = \"\";\r\n//   // phoneInput.style.border = \"\";\r\n//   if (emailInput) emailInput.style.border = \"\";\r\n//   if (phoneInput) phoneInput.style.border = \"\";\r\n\r\n\r\n//     // --- EMAIL validation ---\r\n//     if (selected && selected.value === \"EMAIL\") {\r\n//       const emailValue = emailInput.value.trim();\r\n//       const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n//       if (!emailValue || !emailPattern.test(emailValue)) {\r\n//         event.preventDefault();\r\n//         event.stopPropagation();\r\n//         emailError.textContent = \"Please enter a valid email address.\";\r\n//         emailError.style.color = \"#eb0000\";\r\n//         emailError.style.fontSize = \"12px\";\r\n//         emailError.style.display = \"block\";\r\n//         emailError.style.whiteSpace = \"nowrap\";\r\n//         emailInput.style.border = \"1px solid red\";\r\n//         isValid = false;\r\n//       } else {\r\n//         emailInput.style.border = \"\";\r\n//         emailError.style.display = \"none\";\r\n//       }\r\n\r\n//       // --- LIVE email input validation ---\r\n//       if (!emailInput._hasEmailListener) {\r\n//         emailInput.addEventListener(\"input\", () => {\r\n//           const value = emailInput.value.trim();\r\n//           if (emailPattern.test(value)) {\r\n//             emailError.textContent = \"\";\r\n//             emailError.style.display = \"none\";\r\n//             emailInput.style.border = \"\";\r\n//           }\r\n//         });\r\n//         emailInput._hasEmailListener = true;\r\n//       }\r\n//     }\r\n\r\n//   // --- PHONE validation ---\r\n//   if (selected && selected.value === \"SMS\") {\r\n//       errorMessageDivSelect.textContent = \"\";\r\n//     errorMessageDivSelect.style.display = \"none\";\r\n//     const phoneValue = phoneInput.value.trim();\r\n\r\n//     const allowedChars = /^[0-9()+\\-\\s]*$/;\r\n//     const formattedPattern = /^\\+\\d{1,3}\\s?\\(\\d{3}\\)-\\(\\d{3}\\)-\\(\\d{4}\\)$/; ///^\\+\\d{1,3}\\s?\\(?\\d{3}\\)?[-\\s]?\\(?\\d{3}\\)?[-\\s]?\\(?\\d{4}\\)?$/; \r\n//     const plainPattern = /^\\+\\d{1,3}[\\s]?\\d{7,15}$/;\r\n\r\n//     const phonePattern = /^[0-9]{6,17}$/; // Only digits, length 6-17\r\n\r\n//     const showPhoneError = (msg) => {\r\n//       phoneError.textContent = msg;\r\n//       phoneError.style.color = \"#eb0000\";\r\n//       phoneError.style.fontSize = \"12px\";\r\n//       phoneError.style.display = \"block\";\r\n//       phoneError.style.whiteSpace = \"nowrap\";\r\n//       phoneInput.style.border = \"1px solid red\";\r\n//     };\r\n\r\n//     const clearPhoneError = () => {\r\n//       phoneError.textContent = \"\";\r\n//       phoneError.style.display = \"none\";\r\n//       phoneInput.style.border = \"\";\r\n//     };\r\n\r\n//       // --- LIVE phone input validation ---\r\n//       if (!phoneInput._hasPhoneListener) {\r\n//         phoneInput.addEventListener(\"input\", (e) => {\r\n//           const value = e.target.value;\r\n//           // if (allowedChars.test(value) && (formattedPattern.test(value) || plainPattern.test(value))) {\r\n//           //   clearPhoneError();\r\n//           // }\r\n//         if (!value) {\r\n//           showPhoneError(\"Please enter a valid phone number.\");\r\n//           return;\r\n//         } else if (!/^[0-9]*$/.test(value)) {\r\n//           showPhoneError(\"Please enter a valid phone number.\");\r\n//           return;\r\n//         } else if (value.length < 6 || value.length > 17) {\r\n//           showPhoneError(\"Please enter a valid phone number.\");\r\n//           return;\r\n//         } else {\r\n//           clearPhoneError();\r\n//         }\r\n//         });\r\n//         phoneInput._hasPhoneListener = true;\r\n//       }\r\n\r\n//     // --- Validate on submit ---\r\n//     if (!phoneValue) {\r\n//       event.preventDefault();\r\n//       event.stopPropagation();\r\n//       showPhoneError(\"Please enter a valid phone number.\");\r\n//       isValid = false;\r\n//     } else if (!phonePattern.test(phoneValue)) {\r\n//       event.preventDefault();\r\n//       event.stopPropagation();\r\n//       showPhoneError(\"Please enter a valid phone number.\");\r\n//       isValid = false;\r\n//     } else {\r\n//       clearPhoneError();\r\n//     }\r\n//     // //Validate on submit\r\n//     // if (!phoneValue || !allowedChars.test(phoneValue)) {\r\n//     //   event.preventDefault();\r\n//     //   event.stopPropagation();\r\n//     //   showPhoneError(\"Please enter a valid phone number.\");\r\n//     //   isValid = false;\r\n//     // }\r\n\r\n//     // //Cannot end with a special character\r\n//     // if (!/[0-9)]$/.test(phoneValue)) {\r\n//     //   event.preventDefault();\r\n//     //   event.stopPropagation();\r\n//     //   showPhoneError(\"Please enter a valid phone number.\");\r\n//     //   isValid = false;\r\n//     // }\r\n\r\n//     // Must match at least one valid pattern\r\n//     // if (!formattedPattern.test(phoneValue) && !plainPattern.test(phoneValue)) {\r\n//     //   event.preventDefault();\r\n//     //   event.stopPropagation();\r\n//     //   showPhoneError(\"Please enter a valid phone number.\");\r\n//     //   isValid = false;\r\n//     // }\r\n\r\n//     if (isValid) clearPhoneError();\r\n//   }\r\n\r\n//   return isValid;\r\n// }\r\n\r\n\r\n\r\n// Live validate EMAIL on typing\r\nemailInput.addEventListener(\"input\", () => {\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n  if (selected && selected.value === \"EMAIL\") {\r\n    validateEmailAndPhone(new Event(\"input\"));\r\n  }\r\n});\r\n\r\n// Live validate PHONE on typing\r\nphoneInput.addEventListener(\"input\", () => {\r\n  const phoneError = document.getElementById(\"phoneError\");\r\n  console.log(\"phone input entered\");\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n  if (!selected || selected.value !== \"SMS\") return;\r\n  //if (selected && selected.value === \"SMS\") {\r\n    //validateEmailAndPhone(new Event(\"input\"));\r\n     const value = phoneInput.value.trim();\r\n    const digitCount = value.replace(/\\D/g, \"\").length;\r\n    const allowedChars = /^[0-9]*$/;\r\n\r\n    if (!value || !allowedChars.test(value) || digitCount < 6 || digitCount > 17) {\r\n      phoneError.textContent = \"Please enter a valid phone number.\";\r\n      phoneError.style.display = \"block\";\r\n      phoneInput.style.border = \"1px solid red\";\r\n      console.log(\"in if error\");\r\n    } else {\r\n      phoneError.textContent = \"\";\r\n      phoneError.style.display = \"none\";\r\n      phoneInput.style.border = \"\";\r\n    }\r\n  //}\r\n});\r\n\r\nlet skipByCount = \"{{global.variables.skipByCount}}\";\r\nlet maxSkipCount = \"{{global.company.variables.maxSkipCount}}\";\r\n\r\n// Show or hide the skip button based on expiry date\r\nfunction showSkipButton(skipByCount, maxSkipCount) {\r\n\r\n  console.log(\"Skip By count \", skipByCount);\r\n  console.log(\"Max Skip count \", maxSkipCount);\r\n\r\n  const skipButton = document.getElementById(\"skipButton\");\r\n  if (!skipButton) return; // Exit if button not found\r\n\r\n\r\n  if (maxSkipCount > skipByCount) {\r\n     skipButton.style.display = \"inline-block\"; // Show\r\n  } else {\r\n    skipButton.style.display = \"none\"; // Hide\r\n   \r\n  }\r\n}\r\n\r\n\r\n// Initial call to show/hide button\r\nshowSkipButton(skipByCount, maxSkipCount);\r\n\r\n// Optional: log skip\r\nif (skipButton) {\r\n  skipButton.addEventListener(\"click\", function (event) {\r\n    const buttonType = event.target.getAttribute(\"data-skbuttonvalue\");\r\n    console.log(\"Button clicked:\", buttonType);\r\n    if (buttonType === \"SKIP\") {\r\n      skipByCount = skipByCount + 1; // Increase skip count\r\n\r\n      // Re-evaluate skip button visibility\r\n      showSkipButton(skipByCount, maxSkipCount);\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\r\n//background image \r\n\r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n\r\n\r\nconst domain = \"{{global.variables.domain}}\";\r\nconsole.log(\"Domain  is:\", domain);\r\n\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n  // Create the dimming overlay\r\n  const overlay = document.createElement('div');\r\n  overlay.id = BACKGROUND_OVERLAY_ID;\r\n  overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n  // Create the iframe\r\n  const iframe = document.createElement('iframe');\r\n  iframe.id = BACKGROUND_IFRAME_ID;\r\n  iframe.src = url;\r\n  iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n  // Accessibility fix for WCAG\r\n  iframe.setAttribute('title', 'background iframe');  // required accessible name\r\n  iframe.setAttribute('aria-hidden', 'true');         // hide from screen readers\r\n  iframe.setAttribute('tabindex', '-1');              // remove from tab order\r\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n  // Add them to the page\r\n  document.body.insertBefore(overlay, document.body.firstChild);\r\n  document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n  console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n  const modal = document.getElementById('selectDeviceModal');\r\n\r\n  if (modal && !backgroundVisible) {\r\n    if (domain.includes(\"grandresidenceclub.com\")) {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\r\n      //backgroundVisible = true;\r\n\r\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\r\n\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\r\n      //backgroundVisible = true;\r\n    }\r\n    else {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\r\n      //backgroundVisible = true;\r\n    }\r\n    backgroundVisible = true;\r\n\r\n  } else if (!modal && backgroundVisible) {\r\n    //removeBackgroundSiteDimmed();\r\n    backgroundVisible = false;\r\n  }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n\r\n// const countryCodeData = {{global.company.variables.phoneCountryList}};\r\n    // const countryCodeData = [{\r\n    //     dialCode: \"+1\",\r\n    //     iso2: \"US\",\r\n    //     iso3: \"USA\",\r\n    //     name: \"United State\",\r\n    //     flag: \"flag.png\"\r\n    // },\r\n    // {\r\n    //     dialCode: \"+91\",\r\n    //     iso2: \"IN\",\r\n    //     iso3: \"IND\",\r\n    //     name: \"India\",\r\n    //     flag: \"flag.png\"\r\n    // }]\r\n    // const defaultCountryCode = \"{{local.rpe4ixd0ym.payload.output.countryCode}}\";\r\n\r\n    // const selectElement = document.getElementById(\"countryCode\");\r\n    // //const flagElement = document.getElementById(\"countryFlag\");\r\n\r\n    // function populateCountryDropdown(selectId, countryCode, defaultCode = \"\") {\r\n    //     console.log(countryCodeData);\r\n    //     console.log(\"defaultCountryCode: \", defaultCountryCode);\r\n    //     const selectElement = document.getElementById(selectId);\r\n    //     if (!selectElement) return;\r\n\r\n    //     // Clear existing options\r\n    //     selectElement.innerHTML = '';\r\n\r\n    //     // Add options\r\n    //     countryCode.forEach(country => {\r\n    //         const option = document.createElement(\"option\");\r\n    //         option.value = country.dialCode; // the value submitted in forms\r\n    //         // option.text = `${country.iso2} (${country.dialCode})`; // display text\r\n    //         option.text = country.iso2; // display text\r\n    //         option.classList.add(\"country-code-phone\");\r\n\r\n\r\n    //         // Set default selected\r\n    //         if (country.dialCode === defaultCode) {\r\n    //             option.selected = true;\r\n    //         }\r\n    //         selectElement.appendChild(option);\r\n    //     });\r\n\r\n\r\n    // }\r\n\r\n    // //call function\r\n    // populateCountryDropdown(\"countryCode\", countryCodeData, defaultCountryCode);\r\n\r\nconst countryData = {{global.company.variables.phoneCountryList}};\r\n// sort (kept for future multi-country support)\r\n// countryData.sort((a, b) => a.name.localeCompare(b.name));\r\n// 1. Sort alphabetically\r\n    countryData.sort((a, b) => a.name.localeCompare(b.name));\r\n\r\n    // 2. Move US to top if exists\r\n    const usIndex = countryData.findIndex(\r\n      c => c.iso2.toUpperCase() === \"US\"\r\n    );\r\n\r\n    if (usIndex > -1) {\r\n      const [usCountry] = countryData.splice(usIndex, 1);\r\n      countryData.unshift(usCountry);\r\n    }\r\n\r\n\r\nconst optionsList = document.getElementById(\"optionsList\");\r\nconst selectedValue = document.getElementById(\"selectedValue\");\r\n// const selectBox = document.getElementById(\"selectBox\");\r\nconst optionsContainer = document.querySelector(\".options-container\");\r\nconst hiddenInput = document.getElementById(\"countryCode\");\r\n// const phoneInput = document.getElementById(\"phone-unenrolled-input\");\r\n\r\nconst defaultCountryCode =\"\";\r\n  // \"{{local.s1gsdp7hyj.payload.output.countryCode}}\";\r\n\r\n/* ---------------- INIT ---------------- */\r\nfunction init() {\r\n  renderOptions();\r\n  if (countryData.length > 0) {\r\n     selectOption(countryData[0]); // US if present, else first country\r\n    }\r\n    // Default to first item if available\r\n    if (countryData.length > 0) selectOption(countryData[0]);\r\n    let defaultCountry = null;\r\n\r\n      if (defaultCountryCode) {\r\n        defaultCountry = countryData.find(\r\n          c => c.iso2.toLowerCase() === defaultCountryCode.toLowerCase()\r\n        );\r\n      }\r\n\r\n      // Use default if found, else first option\r\n      if (defaultCountry) {\r\n        selectOption(defaultCountry);\r\n      } else if (countryData.length > 0) {\r\n        selectOption(countryData[0]);\r\n      }\r\n\r\n\r\n  // let defaultCountry = null;\r\n\r\n  // if (defaultCountryCode) {\r\n  //   defaultCountry = countryData.find(\r\n  //     c => c.iso2.toLowerCase() === defaultCountryCode.toLowerCase()\r\n  //   );\r\n  // }\r\n\r\n  // selectOption(defaultCountry || countryData[0]);\r\n}\r\n\r\n/* ---------------- DROPDOWN TOGGLE ---------------- */\r\nfunction toggleDropdown() {\r\n  optionsContainer.classList.add(\"active\");\r\n  //  if (event.target != selectBox) {\r\n  //   optionsContainer.classList.remove('active')\r\n  // }\r\n  optionsContainer.classList.add(\"active\");\r\n selectBox.classList.add(\"open\");\r\n}\r\n\r\n/* ---------------- SELECT COUNTRY ---------------- */\r\nfunction selectOption(country) {\r\n  // Closed view\r\n  selectedValue.innerHTML = `\r\n    <img src=\"${country.flag}\" alt=\"${country.iso2}\" class=\"flag-img\">\r\n    <span class=\"dial-code\">${country.iso2}</span>\r\n  `;\r\n\r\n  // Hidden input value\r\n  hiddenInput.value = country.dialCode;\r\n  hiddenInput.setAttribute(\"value\", country.dialCode);\r\n\r\n  // Highlight selected\r\n  document\r\n    .querySelectorAll(\".option\")\r\n    .forEach(el => el.classList.remove(\"selected\"));\r\n\r\n  const selectedOption = document.querySelector(\r\n    `.option[data-iso=\"${country.iso2}\"]`\r\n  );\r\n  if (selectedOption) selectedOption.classList.add(\"selected\");\r\n      optionsContainer.classList.remove(\"active\");\r\n  // Update phone input\r\n  if (phoneInput) {\r\n    const cleaned = phoneInput.value.replace(/^\\+\\d+\\s*/, \"\");\r\n    phoneInput.value = cleaned; //`${country.dialCode} ${cleaned}`.trim();\r\n  }\r\n\r\n  // Close dropdown\r\n//  optionsContainer.classList.remove(\"active\");\r\n  //selectBox.classList.remove(\"open\");\r\n}\r\n\r\n/* ---------------- RENDER OPTIONS ---------------- */\r\nfunction renderOptions() {\r\n  optionsList.innerHTML = \"\";\r\n\r\n  countryData.forEach(country => {\r\n    const optionDiv = document.createElement(\"div\");\r\n    optionDiv.className = \"option\";\r\n    optionDiv.dataset.iso = country.iso2;\r\n\r\n    optionDiv.innerHTML = `\r\n      <img src=\"${country.flag}\" class=\"flag-img\">\r\n      <span class=\"country-name\">${country.name}</span>\r\n      <span class=\"dial-code\">${country.dialCode}</span>\r\n    `;\r\n\r\n    optionDiv.addEventListener(\"click\", e => {\r\n      e.stopPropagation();\r\n      selectOption(country);\r\n    });\r\n\r\n    optionsList.appendChild(optionDiv);\r\n  });\r\n}\r\n\r\n  selectBox.addEventListener(\"click\", e => {\r\n    optionsContainer.classList.add(\"active\");\r\n    const isClickInside = selectBox.contains(event.target);\r\n\r\n    // If the click was *not* inside the element, remove the 'active' class\r\n    if (!isClickInside) {\r\n      optionsContainer.classList.remove('active')\r\n      console.log('Clicked outside - class removed.');\r\n    } else {\r\n      console.log('Clicked inside - class kept.');\r\n    }\r\n  });\r\ndocument.addEventListener('click', (event) => {\r\n  // Check if the clicked target is NOT the element and NOT inside the element;\r\n let rdioBtnCom = event.target.className.trim();\r\n  if (rdioBtnCom === \"radioBtn\") {\r\n    return;\r\n    }\r\n  else{\r\n        if(!selectBox.contains(event.target)) {\r\n    optionsContainer.classList.remove('active');\r\n  }\r\n  } \r\n\r\n});\r\n\r\n\r\ninit();\r\n"
              },
              "validationRules": {
                "value": []
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "propertyName": "selectedDevice",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "propertyName": "countryCode",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  }
                ]
              },
              "devices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"availableDevices\",\n        \"data\": \"{{global.parameters.availableDevices}}\",\n        \"tooltip\": \"{{global.parameters.availableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"availableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "allowCancel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"allowCancel\",\n        \"data\": \"{{global.parameters.allowCancel}}\",\n        \"tooltip\": \"{{global.parameters.allowCancel}}\",\n        \"children\": [\n          {\n            \"text\": \"allowCancel\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeDescription": {
                "value": ""
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              }
            },
            "idUnique": "okiym2sn0z",
            "isDisabled": true
          },
          "position": {
            "x": 1980,
            "y": 1380
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "o0d0snb4tv",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "HTTP",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "09Jan-Select Enrollment Device"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"array\",\n\t\"properties\": {\n\t\t\"devices\": {\n\t\t\t\"type\": \"object\",\n\t\t\t\"properties\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"displayName\": \"id\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t},\n\t\t\t\t\"type\": {\n\t\t\t\t\t\"displayName\": \"type\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t},\n\t\t\t\t\"status\": {\n\t\t\t\t\t\"displayName\": \"status\",\n\t\t\t\t\t\"preferedControlType\": \"textField\",\n\t\t\t\t\t\"enableParameters\": true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"allowCancel\": {\n\t\t\t\"type\": \"boolean\"\n\t\t}\n\t}\n}"
              },
              "outputSchema": {
                "value": {}
              },
              "customHTML": {
                "value": "<!-- v1.0 -->\n<!-- 2025-10-27 updated by Tony Kroukamp -->\n<!-- Editable email and phone inputs, prepopulated from matchedUser object -->\n\n<div class=\"container\" style=\"padding:20px;max-width:900px;margin:40px auto;\" id=\"selectDeviceModal\">\n  <div class=\"modal\" style=\"background:#fff;padding:40px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.08);\">\n    <div class=\"secure-your-account\" style=\"font-size:1.25rem;font-weight:600;margin-bottom:10px;\">\n      Register for Two-Factor Authentication\n    </div>\n\n    <p class=\"secure-your-account-description\" style=\"margin-bottom:16px;\">\n      Select a method to authenticate your account. If you dont see your preferred method, select to add or edit your information in your account.\n    </p>\n\n    <div data-skcomponent=\"skerror\" class=\"error-message\" data-skvisibility=\"\" style=\"color:#c50000;  padding :12px 16px 12px 16px;  background: #f6ecec; border-radius: var(--corner-radii-5px, 5px);border-style: solid;width: fit-content;\"></div>\n    <div id=\"errorforNoSelect\"></div>\n\n    <form id=\"authForm\">\n      <!-- Authenticator App -->\n      <div class=\"option-select\">\n        <input type=\"radio\" id=\"authApp\" name=\"selectedDevice\" value=\"TOTP\">\n        <label for=\"authApp\">\n          <strong>Register Authenticator App</strong><br>\n          <small>You need to have an authenticator app already downloaded on your device to use this option</small>\n        </label>\n      </div>\n\n      <!-- Register Email -->\n      <div class=\"option-select\" style=\"margin-top:15px;\">\n        <input type=\"radio\" id=\"email\" name=\"selectedDevice\" value=\"EMAIL\">\n        <label for=\"email\">Register Email</label>\n        <!-- <input type=\"email\" id=\"emailInput\" name=\"emailInput\" class=\"contact-input GlobalLinkNoTx\"\n          style=\"display:none;margin-top:8px;padding:12px 14px\" /> -->\n          <textarea id=\"emailInput\" name=\"emailInput\" class=\"contact-input GlobalLinkNoTx\" style=\"display:none;margin-top:8px;\"></textarea>\n        <span id=\"emailError\" class=\"input-error-message\">Please enter your email</span><br>\n      </div>\n\n      <!-- Register Mobile Phone -->\n      <div class=\"option-select\" style=\"margin-top:15px;\">\n        <input type=\"radio\" id=\"mobile\" name=\"selectedDevice\" value=\"SMS\">\n        <label for=\"mobile\">Register Mobile Phone</label>\n        <!-- <select id=\"countryCode\" class=\"country-selector\" aria-label=\"select country code\" style=\"display:none;\">\n            \n\n          </select>\n        <input type=\"tel\" id=\"phoneInput\" name=\"phoneInput\" class=\"contact-input GlobalLinkNoTx\"\n          style=\"display:none;margin-top:8px;\" /> -->\n           <div class=\"phone-input-group\" id=\"phoneInputGroup\">\n\n                <!-- LEFT: Dropdown -->\n                <div class=\"custom-select-container\" id=\"countryDropdown\">\n                  <div class=\"select-box\" id=\"selectBox\">\n                    <!-- onclick=\"toggleDropdown()\" -->\n                    <div class=\"selected-value\" id=\"selectedValue\">\n                      <!-- JS fills this -->\n                    </div>\n                    <span class=\"arrow\"></span>\n                  </div>\n\n                  <div class=\"options-container\" id=\"optionsList\">\n                    <!-- JS fills this -->\n                  </div>\n                  <input type=\"hidden\"  class=\"input-value GlobalLinkNoTx\" id=\"countryCode\" aria-labelledby=\"phone-unenrolledLabel\">\n                </div>\n\n                <!-- RIGHT: Number Input -->\n                <input type=\"tel\" class=\"phone-input\" id=\"phoneInput\">\n              </div>\n        <span id=\"phoneError\" class=\"input-error-message\">Please enter your phone</span><br>\n      </div>\n\n      <!-- Hidden SK-bound values for submission -->\n      <input type=\"text\" id=\"method\" name=\"method\" data-skcomponent=\"skinput\" readonly style=\"display:none;\" />\n      <input type=\"text\" id=\"methodValue\" name=\"methodValue\" data-skcomponent=\"skinput\" readonly style=\"display:none;\" />\n\n      <!-- Buttons -->\n      <div class=\"buttons\" style=\"display:flex;gap:12px;margin-top:20px;\">\n        <button id=\"sendcode\" type=\"submit\" class=\"primary\"\n          data-skcomponent=\"skbutton\"\n          data-skform=\"authForm\"\n          data-skbuttontype=\"form-submit\"\n          data-skbuttonvalue=\"SendCode\">\n          Continue\n        </button>\n\n        <button id=\"skipButton\" type=\"button\" class=\"link\"\n          data-skcomponent=\"skbutton\"\n          data-skbuttontype=\"next-event\"\n          data-skbuttonvalue=\"SKIP\">\n          Skip\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n"
              },
              "customCSS": {
                "value": "/* === Overlay background === */\r\n/* Creates a dimmed layer behind the modal (currently transparent) */\r\n.overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  /* background-color: rgba(0, 0, 0, 0.85);  // can enable if dimming needed */\r\n  z-index: 1;\r\n}\r\n\r\n/* === Main container === */\r\n/* Centers the modal horizontally and vertically on the screen */\r\n.container {\r\n  position: fixed;\r\n  inset: 0;\r\n  z-index: 2;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.country-selector{\r\n  width: fit-content;\r\n    position: relative;\r\n    top: 50px;\r\n    left: 10px;\r\n    border: none;\r\n}\r\n/* Adds invisible layer for optional background blur/dim */\r\n.container::before {\r\n  content: \"\";\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  /* background: rgba(0, 0, 0, 0.85);  // optional overlay */\r\n  z-index: -1;\r\n  opacity: 0.7;\r\n}\r\n\r\n/* === Modal card === */\r\n/* White box that holds all the content */\r\n.modal {\r\n  background: #fff;\r\n  border-radius: 1rem;\r\n  padding: 48px;             /* inside spacing */\r\n  width: 760px;              /* fixed width as per spec */\r\n  max-width: 760px;\r\n  height: auto;             /* fixed height as per spec */\r\n  box-sizing: border-box;    /* keeps total size 760x462 including padding */\r\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);\r\n  overflow: auto;            /* adds scroll if content overflows */\r\n}\r\n\r\n/*.modal h2 {\r\n    margin-top: 0;\r\n    margin-bottom: 0.5rem;\r\n} */\r\n\r\n/* .modal p {\r\n    font-size: 0.95rem;\r\n    color: #333;\r\n    margin-top: 0;\r\n} */\r\n\r\n/* === Text styles === */\r\n.secure-your-account {\r\n  color: #000;\r\n  font-family: Roboto, Arial, sans-serif;\r\n  font-size: 20px;           /* title font size */\r\n  font-weight: 600;\r\n  line-height: 30px;\r\n  margin: 0 0 16px 0;        /* space below title */\r\n}\r\n\r\n.secure-your-account-description {\r\n  color: #000;\r\n  font-family: Roboto, Arial, sans-serif;\r\n  font-size: 16px;           /* body font size */\r\n  font-weight: 400;\r\n  line-height: 24px;\r\n  margin: 0 0 8px 0;         /* small gap below paragraph */\r\n}\r\n\r\n/* === Option rows (radio + label + optional input) === */\r\n/* Grid layout keeps radio on left, label + input on right */\r\n.option-select{\r\n  display: grid;\r\n  grid-template-columns: 24px 1fr; /* two columns: radio | content */\r\n  column-gap: 12px;\r\n  row-gap: 8px;\r\n  align-items: start;\r\n  margin-top: 16px;\r\n}\r\n/* .contact-input{\r\n padding:12px 57px;\r\n} */\r\n\r\n/* .option input[type=\"radio\"] {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 0.75rem;\r\n    accent-color: black;\r\n    cursor: pointer;\r\n    border-radius: 50%;\r\n} */\r\n\r\n/* === Radio button styling === */\r\n#selectDeviceModal .option-select input[type=\"radio\"] {\r\n  -webkit-appearance: revert !important;\r\n  -moz-appearance: revert !important;\r\n  appearance: revert !important;\r\n  position: static !important;\r\n  background-color: transparent !important;\r\n  color: inherit !important;\r\n  border: initial !important;\r\n  outline: none !important;\r\n\r\n  width: 20px !important;\r\n  height: 20px !important;\r\n  margin: 2px 0 0 0 !important; /* slight alignment fix */\r\n  accent-color: #000 !important;\r\n  cursor: pointer !important;\r\n  border-radius: 50% !important;\r\n\r\n  grid-column: 1;\r\n  grid-row: 1 / span 2; /* spans label and input vertically */\r\n}\r\n\r\n/* === Label text next to radio === */\r\n.option-select label {\r\n  grid-column: 2;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n}\r\n\r\n/* === Small help text under label === */\r\n.option-select label small {\r\n  display: block;\r\n  margin-top: 6px;\r\n  color: #6b7280;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n}\r\n\r\n/* === Email / Phone input box === */\r\n/* JS will show/hide this based on selected radio option */\r\n/* .contact-input {\r\n  grid-column: 2;            \r\n  display: block;\r\n  margin: 0;\r\n  margin-top: 8px;\r\n  padding: 12px 71px;\r\n  width: 300px;\r\n  max-width: 250px;\r\n  min-height: 44px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  box-sizing: border-box;\r\n} */\r\n.contact-input {\r\n  grid-column: 2;\r\n  display: block;\r\n  margin: 0;\r\n  margin-top: 8px;\r\n  padding: 5px 5px 5px 19px;\r\n  height: 25px;\r\n  width: 300px;\r\n  /* max-width: 250px; */\r\n  min-height: 44px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  box-sizing: border-box;\r\n\r\n  /*  ADD ONLY THESE */\r\n    resize: none; \r\n  white-space: nowrap;        /* keep text in single line */\r\n  overflow-x: hidden;         /* hide scroll by default */\r\n  overflow-y: hidden;         /* never show vertical */\r\n  text-overflow: ellipsis;    /* show ... when clipped */\r\n}\r\n\r\n/* Enable horizontal scroll ONLY when needed */\r\n.contact-input:hover,\r\n.contact-input:focus {\r\n  overflow-x: auto;           /* shows scroll only if overflow */\r\n  text-overflow: clip;\r\n}\r\n.contact-input::-webkit-scrollbar {\r\n  height: 6px;\r\n}\r\n\r\n.contact-input::-webkit-scrollbar-thumb {\r\n  background-color: #9ca3af;\r\n  border-radius: 10px;\r\n}\r\n/* Remove Chrome autofill / edit icons */\r\n.contact-input {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  background-image: none !important;\r\n}\r\n\r\n.contact-input::-webkit-credentials-auto-fill-button,\r\n.contact-input::-webkit-contacts-auto-fill-button {\r\n  display: none !important;\r\n  visibility: hidden;\r\n  pointer-events: none;\r\n}\r\n\r\n\r\n/* === Button area === */\r\n/* Aligns Continue and Skip horizontally */\r\n.buttons {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  margin-top: 24px;\r\n  gap: 16px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n/* === Continue button === */\r\nbutton.primary {\r\n  color: #fff;\r\n  font-size: 16px;\r\n  font-family: Roboto, Arial, sans-serif;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n  display: flex;\r\n  height: 48px;\r\n  padding: 0 24px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 12px;\r\n  border-radius: 1000px;\r\n  background: #000;\r\n  border: none;\r\n}\r\n\r\nbutton.primary:disabled {\r\n  background-color: #888;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* === Skip button === */\r\nbutton.link {\r\n  background: none;\r\n  border: none;\r\n  color: #000;\r\n  cursor: pointer;\r\n  text-decoration: underline;\r\n  padding: 0;\r\n  margin-left: 6px;\r\n  font-size: 16px;\r\n  font-family: Roboto, Arial, sans-serif;\r\n  font-weight: 600;\r\n  line-height: 24px;\r\n}\r\n\r\n  .input-error-message {\r\n    color: red;\r\n    padding-left: 40px;\r\n    font-family: \"Roboto-Regular\", sans-serif;\r\n    font-size: 12px;\r\n    display: none;\r\n  }\r\n\r\n  /* === Mobile responsive fix === */\r\n  /* When the screen is smaller, allow modal to shrink naturally */\r\n  @media (max-width: 768px) {\r\n    .modal {\r\n      width:100%;\r\n      max-width: 760px;\r\n      height: auto;\r\n      padding: 24px;\r\n    }\r\n\r\n    .option-select{\r\n      row-gap: 6px;\r\n    }\r\n\r\n    .contact-input {\r\n      width: 100%;\r\n    }\r\n    .container{\r\n          padding: 8px 8px !important;\r\n    }\r\n  }\r\n\r\n\r\n.phone-input-group{\r\n    display: flex;\r\n    align-items: center;\r\n    /* width: 280pxpx; */\r\n    background: var(--bg-color);\r\n    border: 1px solid black;\r\n    border-radius: 5px; /* Rounded corners on the outer shell */\r\n    /* box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); */\r\n    transition: all 0.2s ease;\r\n    width: 300px;\r\n    /* margin-left: 40px; */\r\n  }\r\n\r\n  /* Focus state for the entire group */\r\n  .phone-input-group:focus-within {\r\n    border-color: var(--focus-color);\r\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\r\n  }\r\n\r\n  /* 2. The Custom Dropdown (Left Side) */\r\n  .custom-select-container {\r\n    position: relative;\r\n    width: 110px; /* Fixed width for the code part */\r\n    border-right: 1px solid var(--border-color); /* Divider line */\r\n  }\r\n\r\n  .select-box {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 12px;\r\n    cursor: pointer;\r\n    height: 100%; /* Full height of wrapper */\r\n    background: transparent;\r\n    width: 40px !important;\r\n  }\r\n\r\n  .selected-value {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n  }\r\n\r\n  .flag-img {\r\n    width: 20px;\r\n    height: 14px;\r\n    object-fit: cover;\r\n    border-radius: 2px;\r\n  }\r\n\r\n  .dial-code {\r\n    color: var(--text-primary);\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .arrow {\r\n    margin-left: 6px;\r\n    color: var(--text-secondary);\r\n    font-size: 10px;\r\n    transition: transform 0.2s;\r\n  }\r\n\r\n  .select-box.open .arrow {\r\n    transform: rotate(180deg);\r\n  }\r\n\r\n  /* 3. The Dropdown List (Floating) */\r\n  .options-container {\r\n    position: relative;\r\n    top: calc(100% + 4px);\r\n    left: 0;\r\n    width: 300px; /* Wider than the toggle button to show full names */\r\n    background: white;\r\n    border: 1px solid var(--border-color);\r\n    border-radius: 5px;\r\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n    max-height: 250px;\r\n    overflow-y: auto;\r\n    z-index: 100;\r\n    display: none;\r\n  }\r\n\r\n  .options-container.active {\r\n    display: block;\r\n  }\r\n\r\n  .option{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    gap: 10px;\r\n    padding: 10px 16px;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    color: var(--text-primary);\r\n  }\r\n\r\n  /* .option-country:hover {\r\n    background-color: #f1f5f9;\r\n  } */\r\n\r\n  .option.selected {\r\n    background-color: #eff6ff;\r\n  }\r\n\r\n  .option.country-name {\r\n      flex: 1; /* Push dial code to right */\r\n  }\r\n\r\n  .option .dial-code {\r\n      color: var(--text-secondary);\r\n  }\r\n\r\n  /* 4. The Phone Input (Right Side) */\r\n  .phone-input {\r\n    flex: 1; /* Take remaining width */\r\n    border: none;\r\n    outline: none;\r\n    padding: 12px 16px;\r\n    font-size: 14px;\r\n    color:black;\r\n    /* border: 1px solid black; */\r\n    border-radius:5px;\r\n    background: white;\r\n  }\r\n\r\n  .phone-input::placeholder {\r\n    color: #94a3b8;\r\n  }\r\n"
              },
              "customScript": {
                "value": "const radios = document.querySelectorAll('input[name=\"selectedDevice\"]');\r\nconst methodInput = document.getElementById('method');\r\nconst methodValueInput = document.getElementById('methodValue');\r\nconst emailInput = document.getElementById('emailInput');\r\nconst phoneInput = document.getElementById('phoneInput');\r\n//const phoneInputGroup = document.getElementById('phoneInputGroup');\r\nconst skipButton = document.getElementById(\"skipButton\");\r\nconst errorMessageDiv = document.querySelector('[data-skcomponent=\"skerror\"]');\r\nconst errorMessageDivSelect = document.getElementById('errorforNoSelect');\r\nconst selectBox = document.getElementById('selectBox');\r\nconst phoneInputGroup = document.getElementById('phoneInputGroup')\r\n\r\n// Pre-fill email and phone using DaVinci variables\r\nconst prefilledEmail = \"{{local.ifct35turd.payload.output.matchedUser.email}}\";\r\nconst prefilledPhone = \"{{local.rpe4ixd0ym.payload.output.nationalNumber}}\";\r\n\r\nif (prefilledEmail) {\r\n  emailInput.value = prefilledEmail;\r\n}\r\nif (prefilledPhone) {\r\n  phoneInput.value = prefilledPhone;\r\n}\r\n\r\nfunction disableHiddenInputs() {\r\n  if (emailInput.style.display === \"none\") {\r\n    emailInput.disabled = true;\r\n  } else {\r\n    emailInput.disabled = false;\r\n  }\r\n\r\n  if (phoneInput.style.display === \"none\") {\r\n    phoneInput.disabled = true;\r\n  } else {\r\n    phoneInput.disabled = false;\r\n  }\r\n}\r\n\r\nphoneInputGroup.style.display =\"none\"\r\n// Handle radio selection and reveal inputs\r\nfunction hideNoSelectError() {\r\n  if (!errorMessageDivSelect) return;\r\n  errorMessageDivSelect.textContent = \"\";\r\n  errorMessageDivSelect.style.display = \"none\";\r\n}\r\n\r\nradios.forEach(radio => {\r\n  radio.addEventListener('change', () => {\r\n    hideNoSelectError();\r\n    const selectedValue = radio.value;\r\n    methodInput.value = selectedValue;\r\n\r\n    emailInput.style.display = 'none';\r\n    phoneInput.style.display = 'none';\r\n    selectBox.style.display= 'none';\r\n    phoneInputGroup.style.display =\"none\"\r\n\r\n    // --- FIX: Clear both errors when switching methods ---\r\n    const emailError = document.getElementById(\"emailError\");\r\n    const phoneError = document.getElementById(\"phoneError\");\r\n\r\n    if (emailError) { emailError.textContent = \"\"; emailError.style.display = \"none\"; }\r\n    if (phoneError) { phoneError.textContent = \"\"; phoneError.style.display = \"none\"; }\r\n    // // --- FIX: Reset borders ---\r\n    // if (emailInput) emailInput.style.border = \"\";\r\n    // if (phoneInput) phoneInput.style.border = \"\";\r\n\r\n    if (selectedValue === 'EMAIL') {\r\n      emailInput.style.display = 'block';\r\n      methodValueInput.value = emailInput.value;\r\n    } else if (selectedValue === 'SMS') {\r\n      phoneInput.style.display = 'block';\r\n      selectBox.style.display= 'flex';\r\n      phoneInputGroup.style.display= 'flex';\r\n      methodValueInput.value = phoneInput.value;\r\n    } else {\r\n      methodValueInput.value = ''; // TOTP doesnt require a secondary value\r\n    }\r\n\r\n    if (errorMessageDiv) {\r\n      errorMessageDiv.textContent = \"\";\r\n      errorMessageDiv.style.display = \"none\";\r\n    }\r\n    disableHiddenInputs();\r\n  });\r\n});\r\n\r\n// --- Handle form submit ---\r\nfunction handleSendCodeSubmit(event) {\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n\r\n  // No method selected\r\n  // if (!selected) {\r\n  //   event.preventDefault();\r\n  //   errorMessageDiv.textContent = \"Please select a method.\";\r\n  //   errorMessageDiv.style.display = \"block\";\r\n  //   errorMessageDiv.style.color = \"#eb0000\";\r\n  //   errorMessageDiv.style.background = \"#f6ecec\";\r\n  //   errorMessageDiv.style.borderRadius = \"5px\";\r\n  //   errorMessageDiv.style.padding = \"8px 10px\";\r\n  //   return;\r\n  // }\r\n   errorMessageDivSelect.textContent = \"\";\r\n    errorMessageDivSelect.style.display = \"none\";\r\n    let isValid = false;\r\n  if (!selected) {\r\n  event.preventDefault();\r\n  event.stopPropagation();\r\n  let isValid = false;\r\n\r\n\r\n  // if (errorMessageDivSelect) {\r\n    errorMessageDivSelect.textContent = \"Please select a method.\";\r\n    errorMessageDivSelect.style.display = \"block\";\r\n    errorMessageDivSelect.style.color = \"#eb0000\";\r\n    errorMessageDivSelect.style.background = \"#f6ecec\";\r\n    errorMessageDivSelect.style.borderRadius = \"5px\";\r\n    errorMessageDivSelect.style.padding = \"8px 10px\";\r\n  // } else {\r\n  //   console.warn(\"errorMessageDiv not found in DOM\");\r\n  // }\r\n\r\n  return;\r\n}\r\n\r\n\r\n  // Set methodValue based on selected method\r\n  if (selected.value === \"EMAIL\") {\r\n      errorMessageDivSelect.textContent = \"\";\r\n    errorMessageDivSelect.style.display = \"none\";\r\n    methodValueInput.value = emailInput.value;\r\n  } else if (selected.value === \"SMS\") {\r\n    methodValueInput.value = phoneInput.value;\r\n  } else {\r\n    methodValueInput.value = \"\";\r\n  }\r\n\r\n  // Run combined validation (email + phone)\r\n  const valid = validateEmailAndPhone(event);\r\n    //  FORCE countryCode before submit/serialization\r\n  const countryCodeInput = document.getElementById(\"countryCode\");\r\n  const selectedCountry = document.querySelector(\".option.selected\");\r\n\r\n  if (countryCodeInput && selectedCountry) {\r\n    const iso = selectedCountry.dataset.iso;\r\n    const country = countryData.find(c => c.iso2 === iso);\r\n    if (country) {\r\n      countryCodeInput.value = country.dialCode;\r\n    }\r\n  }\r\n  if (!valid) return;  // Stop submission if invalid\r\n}\r\n\r\ndocument.getElementById(\"sendcode\").addEventListener(\"click\", handleSendCodeSubmit);\r\n\r\n// --- Validation on Email and Phone ---\r\n\r\n\r\nfunction validateEmailAndPhone(event) {\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n\r\n  const emailInput = document.getElementById(\"emailInput\");\r\n  const emailError = document.getElementById(\"emailError\");\r\n\r\n  const phoneInput = document.getElementById(\"phoneInput\");\r\n  const phoneError = document.getElementById(\"phoneError\");\r\n  let isValid = true;\r\n\r\n  // Clear error fields\r\n  if (emailError) { emailError.textContent = \"\"; emailError.style.display = \"none\"; }\r\n  if (phoneError) { phoneError.textContent = \"\"; phoneError.style.display = \"none\"; }\r\n  // emailInput.style.border = \"\";\r\n  // phoneInput.style.border = \"\";\r\n  if (emailInput) emailInput.style.border = \"\";\r\n  if (phoneInput) phoneInput.style.border = \"\";\r\n\r\n\r\n  // --- EMAIL validation ---\r\n  if (selected && selected.value === \"EMAIL\") {\r\n    const emailValue = emailInput.value.trim();\r\n    const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n    if (!emailValue || !emailPattern.test(emailValue)) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      emailError.textContent = \"Please enter a valid email address.\";\r\n      emailError.style.color = \"#eb0000\";\r\n      emailError.style.fontSize = \"12px\";\r\n      emailError.style.display = \"block\";\r\n      emailError.style.whiteSpace = \"nowrap\";\r\n      emailInput.style.border = \"1px solid red\";\r\n      isValid = false;\r\n    } else {\r\n      emailInput.style.border = \"\";\r\n      emailError.style.display = \"none\";\r\n    }\r\n\r\n    // --- LIVE email input validation ---\r\n    if (!emailInput._hasEmailListener) {\r\n      emailInput.addEventListener(\"input\", () => {\r\n        const value = emailInput.value.trim();\r\n        if (emailPattern.test(value)) {\r\n          emailError.textContent = \"\";\r\n          emailError.style.display = \"none\";\r\n          emailInput.style.border = \"\";\r\n        }\r\n      });\r\n      emailInput._hasEmailListener = true;\r\n    }\r\n  }\r\n\r\n  // --- PHONE validation ---\r\n  if (selected && selected.value === \"SMS\") {\r\n      errorMessageDivSelect.textContent = \"\";\r\n    errorMessageDivSelect.style.display = \"none\";\r\n    const phoneValue = phoneInput.value.trim();\r\n\r\n\r\n    const allowedChars = /^[0-9]*$/;   // /^[0-9()+\\-\\s]*$/;\r\n    const formattedPattern = /^\\+\\d{1,3}\\s?\\(\\d{3}\\)-\\(\\d{3}\\)-\\(\\d{4}\\)$/; ///^\\+\\d{1,3}\\s?\\(?\\d{3}\\)?[-\\s]?\\(?\\d{3}\\)?[-\\s]?\\(?\\d{4}\\)?$/; \r\n    const plainPattern = /^\\+\\d{1,3}[\\s]?\\d{7,15}$/;\r\n\r\n    const phonePattern = /^[0-9]{6,17}$/; // Only digits, length 6-17\r\n\r\n    const showPhoneError = (msg) => {\r\n      phoneError.textContent = msg;\r\n      phoneError.style.color = \"#eb0000\";\r\n      phoneError.style.fontSize = \"12px\";\r\n      phoneError.style.display = \"block\";\r\n      phoneError.style.whiteSpace = \"nowrap\";\r\n      phoneInputGroup.style.border = \"1px solid red\";\r\n    };\r\n\r\n    const clearPhoneError = () => {\r\n      phoneError.textContent = \"\";\r\n      phoneError.style.display = \"none\";\r\n      phoneInputGroup.style.border = \"\";\r\n    };\r\n\r\n    // --- LIVE phone input validation ---\r\n    if (!phoneInput._hasPhoneListener) {\r\n      phoneInput.addEventListener(\"input\", (e) => {\r\n        console.log(\"login enrollment\");\r\n        const value = e.target.value;\r\n        // --- LIVE EMPTY FIELD CHECK ---\r\n        if (!value) {\r\n          showPhoneError(\"Please enter a valid phone number.\");\r\n          console.log(\"phone required.\");\r\n          return;\r\n        }\r\n        // --- LIVE DIGIT LENGTH CHECK ---\r\n        const digitCount = value.replace(/\\D/g, \"\");\r\n        if (digitCount.length < 6 || digitCount.length > 17) {\r\n          showPhoneError(\"Please enter a valid phone number.\");\r\n          console.log(\"Phone number must contain 617 digits.\");\r\n          return;\r\n        }\r\n        // --- LIVE ALLOWED CHARS CHECK ---\r\n        if (!allowedChars.test(value)) {\r\n          showPhoneError(\"Please enter a valid phone number.\");\r\n          return;\r\n        }\r\n        // If all good, clear errors\r\n        clearPhoneError();\r\n      });\r\n      phoneInput._hasPhoneListener = true;\r\n    }\r\n\r\n    // Validate on submit\r\n    if (!phoneValue || !allowedChars.test(phoneValue)) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      showPhoneError(\"Please enter a valid phone number.\");\r\n      isValid = false;\r\n      return;\r\n    }\r\n\r\n    //+ should not allow\r\n    if (/[+()]/.test(phoneValue)) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      showPhoneError(\"Please enter a valid phone number.\");\r\n      isValid = false;\r\n      return;\r\n    }\r\n\r\n    // Cannot end with a special character\r\n    if (!/[0-9)]$/.test(phoneValue)) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      showPhoneError(\"Please enter a valid phone number.\");\r\n      isValid = false;\r\n      return;\r\n    }\r\n\r\n    // Must match at least one valid pattern\r\n    // if (!formattedPattern.test(phoneValue) && !plainPattern.test(phoneValue)) {\r\n    //   event.preventDefault();\r\n    //   event.stopPropagation();\r\n    //   showPhoneError(\"Please enter a valid phone number.\");\r\n    //   isValid = false;\r\n    // }\r\n\r\n    //allow 10-16 digits\r\n    const digitCount = phoneValue.replace(/\\D/g, \"\");\r\n    if (digitCount.length < 6 || digitCount.length > 17) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      showPhoneError(\"Please enter a valid phone number.\");\r\n      console.log(\"Phone number must contain 1016 digits.\");\r\n      isValid = false;\r\n      return isValid;\r\n    }\r\n\r\n    if (isValid) clearPhoneError();\r\n  }\r\n\r\n  return isValid;\r\n}\r\n\r\n\r\n\r\n\r\n///////////////////////////////////////////////////\r\n// function validateEmailAndPhone(event) {\r\n//   const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n\r\n//   const emailInput = document.getElementById(\"emailInput\");\r\n//   const emailError = document.getElementById(\"emailError\");\r\n\r\n//   const phoneInput = document.getElementById(\"phoneInput\");\r\n//   const phoneError = document.getElementById(\"phoneError\");\r\n//   let isValid = true;\r\n\r\n//   // Clear error fields\r\n//   if (emailError) { emailError.textContent = \"\"; emailError.style.display = \"none\"; }\r\n//   if (phoneError) { phoneError.textContent = \"\"; phoneError.style.display = \"none\"; }\r\n//   // emailInput.style.border = \"\";\r\n//   // phoneInput.style.border = \"\";\r\n//   if (emailInput) emailInput.style.border = \"\";\r\n//   if (phoneInput) phoneInput.style.border = \"\";\r\n\r\n\r\n//     // --- EMAIL validation ---\r\n//     if (selected && selected.value === \"EMAIL\") {\r\n//       const emailValue = emailInput.value.trim();\r\n//       const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n//       if (!emailValue || !emailPattern.test(emailValue)) {\r\n//         event.preventDefault();\r\n//         event.stopPropagation();\r\n//         emailError.textContent = \"Please enter a valid email address.\";\r\n//         emailError.style.color = \"#eb0000\";\r\n//         emailError.style.fontSize = \"12px\";\r\n//         emailError.style.display = \"block\";\r\n//         emailError.style.whiteSpace = \"nowrap\";\r\n//         emailInput.style.border = \"1px solid red\";\r\n//         isValid = false;\r\n//       } else {\r\n//         emailInput.style.border = \"\";\r\n//         emailError.style.display = \"none\";\r\n//       }\r\n\r\n//       // --- LIVE email input validation ---\r\n//       if (!emailInput._hasEmailListener) {\r\n//         emailInput.addEventListener(\"input\", () => {\r\n//           const value = emailInput.value.trim();\r\n//           if (emailPattern.test(value)) {\r\n//             emailError.textContent = \"\";\r\n//             emailError.style.display = \"none\";\r\n//             emailInput.style.border = \"\";\r\n//           }\r\n//         });\r\n//         emailInput._hasEmailListener = true;\r\n//       }\r\n//     }\r\n\r\n//   // --- PHONE validation ---\r\n//   if (selected && selected.value === \"SMS\") {\r\n//       errorMessageDivSelect.textContent = \"\";\r\n//     errorMessageDivSelect.style.display = \"none\";\r\n//     const phoneValue = phoneInput.value.trim();\r\n\r\n//     const allowedChars = /^[0-9()+\\-\\s]*$/;\r\n//     const formattedPattern = /^\\+\\d{1,3}\\s?\\(\\d{3}\\)-\\(\\d{3}\\)-\\(\\d{4}\\)$/; ///^\\+\\d{1,3}\\s?\\(?\\d{3}\\)?[-\\s]?\\(?\\d{3}\\)?[-\\s]?\\(?\\d{4}\\)?$/; \r\n//     const plainPattern = /^\\+\\d{1,3}[\\s]?\\d{7,15}$/;\r\n\r\n//     const phonePattern = /^[0-9]{6,17}$/; // Only digits, length 6-17\r\n\r\n//     const showPhoneError = (msg) => {\r\n//       phoneError.textContent = msg;\r\n//       phoneError.style.color = \"#eb0000\";\r\n//       phoneError.style.fontSize = \"12px\";\r\n//       phoneError.style.display = \"block\";\r\n//       phoneError.style.whiteSpace = \"nowrap\";\r\n//       phoneInput.style.border = \"1px solid red\";\r\n//     };\r\n\r\n//     const clearPhoneError = () => {\r\n//       phoneError.textContent = \"\";\r\n//       phoneError.style.display = \"none\";\r\n//       phoneInput.style.border = \"\";\r\n//     };\r\n\r\n//       // --- LIVE phone input validation ---\r\n//       if (!phoneInput._hasPhoneListener) {\r\n//         phoneInput.addEventListener(\"input\", (e) => {\r\n//           const value = e.target.value;\r\n//           // if (allowedChars.test(value) && (formattedPattern.test(value) || plainPattern.test(value))) {\r\n//           //   clearPhoneError();\r\n//           // }\r\n//         if (!value) {\r\n//           showPhoneError(\"Please enter a valid phone number.\");\r\n//           return;\r\n//         } else if (!/^[0-9]*$/.test(value)) {\r\n//           showPhoneError(\"Please enter a valid phone number.\");\r\n//           return;\r\n//         } else if (value.length < 6 || value.length > 17) {\r\n//           showPhoneError(\"Please enter a valid phone number.\");\r\n//           return;\r\n//         } else {\r\n//           clearPhoneError();\r\n//         }\r\n//         });\r\n//         phoneInput._hasPhoneListener = true;\r\n//       }\r\n\r\n//     // --- Validate on submit ---\r\n//     if (!phoneValue) {\r\n//       event.preventDefault();\r\n//       event.stopPropagation();\r\n//       showPhoneError(\"Please enter a valid phone number.\");\r\n//       isValid = false;\r\n//     } else if (!phonePattern.test(phoneValue)) {\r\n//       event.preventDefault();\r\n//       event.stopPropagation();\r\n//       showPhoneError(\"Please enter a valid phone number.\");\r\n//       isValid = false;\r\n//     } else {\r\n//       clearPhoneError();\r\n//     }\r\n//     // //Validate on submit\r\n//     // if (!phoneValue || !allowedChars.test(phoneValue)) {\r\n//     //   event.preventDefault();\r\n//     //   event.stopPropagation();\r\n//     //   showPhoneError(\"Please enter a valid phone number.\");\r\n//     //   isValid = false;\r\n//     // }\r\n\r\n//     // //Cannot end with a special character\r\n//     // if (!/[0-9)]$/.test(phoneValue)) {\r\n//     //   event.preventDefault();\r\n//     //   event.stopPropagation();\r\n//     //   showPhoneError(\"Please enter a valid phone number.\");\r\n//     //   isValid = false;\r\n//     // }\r\n\r\n//     // Must match at least one valid pattern\r\n//     // if (!formattedPattern.test(phoneValue) && !plainPattern.test(phoneValue)) {\r\n//     //   event.preventDefault();\r\n//     //   event.stopPropagation();\r\n//     //   showPhoneError(\"Please enter a valid phone number.\");\r\n//     //   isValid = false;\r\n//     // }\r\n\r\n//     if (isValid) clearPhoneError();\r\n//   }\r\n\r\n//   return isValid;\r\n// }\r\n\r\n\r\n\r\n// Live validate EMAIL on typing\r\nemailInput.addEventListener(\"input\", () => {\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n  if (selected && selected.value === \"EMAIL\") {\r\n    validateEmailAndPhone(new Event(\"input\"));\r\n  }\r\n});\r\n\r\n// Live validate PHONE on typing\r\nphoneInput.addEventListener(\"input\", () => {\r\n  const phoneError = document.getElementById(\"phoneError\");\r\n  console.log(\"phone input entered\");\r\n  const selected = document.querySelector('input[name=\"selectedDevice\"]:checked');\r\n  if (!selected || selected.value !== \"SMS\") return;\r\n  //if (selected && selected.value === \"SMS\") {\r\n    //validateEmailAndPhone(new Event(\"input\"));\r\n     const value = phoneInput.value.trim();\r\n    const digitCount = value.replace(/\\D/g, \"\").length;\r\n    const allowedChars = /^[0-9]*$/;\r\n\r\n    if (!value || !allowedChars.test(value) || digitCount < 6 || digitCount > 17) {\r\n      phoneError.textContent = \"Please enter a valid phone number.\";\r\n      phoneError.style.display = \"block\";\r\n      phoneInput.style.border = \"1px solid red\";\r\n      console.log(\"in if error\");\r\n    } else {\r\n      phoneError.textContent = \"\";\r\n      phoneError.style.display = \"none\";\r\n      phoneInput.style.border = \"\";\r\n    }\r\n  //}\r\n});\r\n\r\nlet skipByCount = \"{{global.variables.skipByCount}}\";\r\nlet maxSkipCount = \"{{global.company.variables.maxSkipCount}}\";\r\n\r\n// Show or hide the skip button based on expiry date\r\nfunction showSkipButton(skipByCount, maxSkipCount) {\r\n\r\n  console.log(\"Skip By count \", skipByCount);\r\n  console.log(\"Max Skip count \", maxSkipCount);\r\n\r\n  const skipButton = document.getElementById(\"skipButton\");\r\n  if (!skipButton) return; // Exit if button not found\r\n\r\n\r\n  if (maxSkipCount > skipByCount) {\r\n     skipButton.style.display = \"inline-block\"; // Show\r\n  } else {\r\n    skipButton.style.display = \"none\"; // Hide\r\n   \r\n  }\r\n}\r\n\r\n\r\n// Initial call to show/hide button\r\nshowSkipButton(skipByCount, maxSkipCount);\r\n\r\n// Optional: log skip\r\nif (skipButton) {\r\n  skipButton.addEventListener(\"click\", function (event) {\r\n    const buttonType = event.target.getAttribute(\"data-skbuttonvalue\");\r\n    console.log(\"Button clicked:\", buttonType);\r\n    if (buttonType === \"SKIP\") {\r\n      skipByCount = skipByCount + 1; // Increase skip count\r\n\r\n      // Re-evaluate skip button visibility\r\n      showSkipButton(skipByCount, maxSkipCount);\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\r\n//background image \r\n\r\n// --- NEW: Unique IDs for our dynamic elements ---\r\nconst BACKGROUND_IFRAME_ID = 'dynamic-background-iframe';\r\nconst BACKGROUND_OVERLAY_ID = 'dynamic-background-overlay';\r\n\r\n\r\nconst domain = \"{{global.variables.domain}}\";\r\nconsole.log(\"Domain  is:\", domain);\r\n\r\n\r\n// Track whether background is currently active\r\nlet backgroundVisible = false;\r\n\r\n/**\r\n * Creates and injects a dimmed, full-screen iframe background.\r\n * Checks if elements already exist to avoid duplicates.\r\n * @param {string} url - The URL for the background website.\r\n */\r\nfunction insertBackgroundSiteDimmed(url) {\r\n  if (document.getElementById(BACKGROUND_IFRAME_ID)) return;\r\n\r\n  // Create the dimming overlay\r\n  const overlay = document.createElement('div');\r\n  overlay.id = BACKGROUND_OVERLAY_ID;\r\n  overlay.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      background:rgba(0,0,0,0.8); z-index:-1;\r\n    `;\r\n\r\n  // Create the iframe\r\n  const iframe = document.createElement('iframe');\r\n  iframe.id = BACKGROUND_IFRAME_ID;\r\n  iframe.src = url;\r\n  iframe.style.cssText = `\r\n      position:fixed; top:0; left:0; width:100vw; height:100vh;\r\n      border:none; z-index:-2;\r\n    `;\r\n  // Accessibility fix for WCAG\r\n  iframe.setAttribute('title', 'background iframe');  // required accessible name\r\n  iframe.setAttribute('aria-hidden', 'true');         // hide from screen readers\r\n  iframe.setAttribute('tabindex', '-1');              // remove from tab order\r\n  iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\r\n\r\n  // Add them to the page\r\n  document.body.insertBefore(overlay, document.body.firstChild);\r\n  document.body.insertBefore(iframe, document.body.firstChild);\r\n\r\n  console.log(\"Dimmed background and iframe have been injected.\");\r\n}\r\n\r\n\r\n// --- 1. Main Logic to Control the Background ---\r\nconst manageBackgroundVisibility = () => {\r\n  const modal = document.getElementById('selectDeviceModal');\r\n\r\n  if (modal && !backgroundVisible) {\r\n    if (domain.includes(\"grandresidenceclub.com\")) {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageGRCUrl}}\");\r\n      //backgroundVisible = true;\r\n\r\n    } else if (domain.includes(\"myritzcarltonclub.com\")) {\r\n\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageRCCUrl}}\");\r\n      //backgroundVisible = true;\r\n    }\r\n    else {\r\n      insertBackgroundSiteDimmed(\"{{global.company.variables.backGroundImageUrl}}\");\r\n      //backgroundVisible = true;\r\n    }\r\n    backgroundVisible = true;\r\n\r\n  } else if (!modal && backgroundVisible) {\r\n    //removeBackgroundSiteDimmed();\r\n    backgroundVisible = false;\r\n  }\r\n};\r\n\r\n// --- 2. Watch for Page Changes in the SPA ---\r\nconst observer = new MutationObserver(manageBackgroundVisibility);\r\nobserver.observe(document.body, { childList: true, subtree: true });\r\n\r\n// --- 3. Initial Setup ---\r\nmanageBackgroundVisibility();\r\n\r\n\r\n// const countryCodeData = {{global.company.variables.phoneCountryList}};\r\n    // const countryCodeData = [{\r\n    //     dialCode: \"+1\",\r\n    //     iso2: \"US\",\r\n    //     iso3: \"USA\",\r\n    //     name: \"United State\",\r\n    //     flag: \"flag.png\"\r\n    // },\r\n    // {\r\n    //     dialCode: \"+91\",\r\n    //     iso2: \"IN\",\r\n    //     iso3: \"IND\",\r\n    //     name: \"India\",\r\n    //     flag: \"flag.png\"\r\n    // }]\r\n    // const defaultCountryCode = \"{{local.rpe4ixd0ym.payload.output.countryCode}}\";\r\n\r\n    // const selectElement = document.getElementById(\"countryCode\");\r\n    // //const flagElement = document.getElementById(\"countryFlag\");\r\n\r\n    // function populateCountryDropdown(selectId, countryCode, defaultCode = \"\") {\r\n    //     console.log(countryCodeData);\r\n    //     console.log(\"defaultCountryCode: \", defaultCountryCode);\r\n    //     const selectElement = document.getElementById(selectId);\r\n    //     if (!selectElement) return;\r\n\r\n    //     // Clear existing options\r\n    //     selectElement.innerHTML = '';\r\n\r\n    //     // Add options\r\n    //     countryCode.forEach(country => {\r\n    //         const option = document.createElement(\"option\");\r\n    //         option.value = country.dialCode; // the value submitted in forms\r\n    //         // option.text = `${country.iso2} (${country.dialCode})`; // display text\r\n    //         option.text = country.iso2; // display text\r\n    //         option.classList.add(\"country-code-phone\");\r\n\r\n\r\n    //         // Set default selected\r\n    //         if (country.dialCode === defaultCode) {\r\n    //             option.selected = true;\r\n    //         }\r\n    //         selectElement.appendChild(option);\r\n    //     });\r\n\r\n\r\n    // }\r\n\r\n    // //call function\r\n    // populateCountryDropdown(\"countryCode\", countryCodeData, defaultCountryCode);\r\n\r\nconst countryData = {{global.company.variables.phoneCountryList}};\r\n// sort (kept for future multi-country support)\r\n// countryData.sort((a, b) => a.name.localeCompare(b.name));\r\n// 1. Sort alphabetically\r\n    countryData.sort((a, b) => a.name.localeCompare(b.name));\r\n\r\n    // 2. Move US to top if exists\r\n    const usIndex = countryData.findIndex(\r\n      c => c.iso2.toUpperCase() === \"US\"\r\n    );\r\n\r\n    if (usIndex > -1) {\r\n      const [usCountry] = countryData.splice(usIndex, 1);\r\n      countryData.unshift(usCountry);\r\n    }\r\n\r\n\r\nconst optionsList = document.getElementById(\"optionsList\");\r\nconst selectedValue = document.getElementById(\"selectedValue\");\r\n// const selectBox = document.getElementById(\"selectBox\");\r\nconst optionsContainer = document.querySelector(\".options-container\");\r\nconst hiddenInput = document.getElementById(\"countryCode\");\r\n// const phoneInput = document.getElementById(\"phone-unenrolled-input\");\r\n\r\nconst defaultCountryCode =\" {{local.rpe4ixd0ym.payload.output.countryCode}}\"; //\"{{local.s1gsdp7hyj.payload.output.countryCode}}\";\r\nconsole.log(\"defaultCountryCode: \",defaultCountryCode);\r\n/* ---------------- INIT ---------------- */\r\n// function init() {\r\n//   renderOptions();\r\n//   if (countryData.length > 0) {\r\n//      selectOption(countryData[0]); // US if present, else first country\r\n//     }\r\n//     // Default to first item if available\r\n//     if (countryData.length > 0) selectOption(countryData[0]);\r\n//     let defaultCountry = null;\r\n\r\n//       if (defaultCountryCode) {\r\n//         defaultCountry = countryData.find(\r\n//           c => c.iso2.toLowerCase() === defaultCountryCode.toLowerCase()\r\n//         );\r\n//       }\r\n\r\n//       // Use default if found, else first option\r\n//       if (defaultCountry) {\r\n//         selectOption(defaultCountry);\r\n//       } else if (countryData.length > 0) {\r\n//         selectOption(countryData[0]);\r\n//       }\r\n\r\n\r\n//   // let defaultCountry = null;\r\n\r\n//   // if (defaultCountryCode) {\r\n//   //   defaultCountry = countryData.find(\r\n//   //     c => c.iso2.toLowerCase() === defaultCountryCode.toLowerCase()\r\n//   //   );\r\n//   // }\r\n\r\n//   // selectOption(defaultCountry || countryData[0]);\r\n// }\r\n\r\n function init() {\r\n  renderOptions();\r\n\r\n  if (!countryData.length) return;\r\n\r\n  let selectedCountry = null;\r\n\r\n \r\n  // 1. Match by dial code (+91, +1, etc.)\r\n  if (defaultCountryCode) {\r\n    //const normalizedCode = defaultCountryCode.replace(\"+\", \"\");\r\n    const normalizedCode = defaultCountryCode.replace(/\\D/g, \"\");\r\n\r\n    selectedCountry = countryData.find(\r\n     // c => c.dialCode.replace(\"+\", \"\") === normalizedCode\r\n      c => c.dialCode.replace(/\\D/g, \"\") === normalizedCode\r\n    );\r\n  }\r\n\r\n  // 2. Fallback to US\r\n  if (!selectedCountry) {\r\n    selectedCountry = countryData.find(\r\n      c => c.iso2.toUpperCase() === \"US\"\r\n    );\r\n  }\r\n\r\n  // 3. Final fallback to first item\r\n  if (!selectedCountry) {\r\n    selectedCountry = countryData[0];\r\n  }\r\n\r\n  selectOption(selectedCountry);\r\n}\r\n\r\n/* ---------------- DROPDOWN TOGGLE ---------------- */\r\nfunction toggleDropdown() {\r\n  optionsContainer.classList.add(\"active\");\r\n  //  if (event.target != selectBox) {\r\n  //   optionsContainer.classList.remove('active')\r\n  // }\r\n  optionsContainer.classList.add(\"active\");\r\n selectBox.classList.add(\"open\");\r\n}\r\n\r\n/* ---------------- SELECT COUNTRY ---------------- */\r\nfunction selectOption(country) {\r\n  // Closed view\r\n  selectedValue.innerHTML = `\r\n    <img src=\"${country.flag}\" alt=\"${country.iso2}\" class=\"flag-img\">\r\n    <span class=\"dial-code\">${country.iso2}</span>\r\n  `;\r\n\r\n  // Hidden input value\r\n  hiddenInput.value = country.dialCode;\r\n  hiddenInput.setAttribute(\"value\", country.dialCode);\r\n\r\n  // Highlight selected\r\n  document\r\n    .querySelectorAll(\".option\")\r\n    .forEach(el => el.classList.remove(\"selected\"));\r\n\r\n  const selectedOption = document.querySelector(\r\n    `.option[data-iso=\"${country.iso2}\"]`\r\n  );\r\n  if (selectedOption) selectedOption.classList.add(\"selected\");\r\n      optionsContainer.classList.remove(\"active\");\r\n  // Update phone input\r\n  if (phoneInput) {\r\n    const cleaned = phoneInput.value.replace(/^\\+\\d+\\s*/, \"\");\r\n    phoneInput.value = cleaned; //`${country.dialCode} ${cleaned}`.trim();\r\n  }\r\n\r\n  // Close dropdown\r\n//  optionsContainer.classList.remove(\"active\");\r\n  //selectBox.classList.remove(\"open\");\r\n}\r\n\r\n/* ---------------- RENDER OPTIONS ---------------- */\r\nfunction renderOptions() {\r\n  optionsList.innerHTML = \"\";\r\n\r\n  countryData.forEach(country => {\r\n    const optionDiv = document.createElement(\"div\");\r\n    optionDiv.className = \"option\";\r\n    optionDiv.dataset.iso = country.iso2;\r\n\r\n    optionDiv.innerHTML = `\r\n      <img src=\"${country.flag}\" class=\"flag-img\">\r\n      <span class=\"country-name\">${country.name}</span>\r\n      <span class=\"dial-code\">${country.dialCode}</span>\r\n    `;\r\n\r\n    optionDiv.addEventListener(\"click\", e => {\r\n      e.stopPropagation();\r\n      selectOption(country);\r\n    });\r\n\r\n    optionsList.appendChild(optionDiv);\r\n  });\r\n}\r\n\r\n  selectBox.addEventListener(\"click\", e => {\r\n    optionsContainer.classList.add(\"active\");\r\n    const isClickInside = selectBox.contains(event.target);\r\n\r\n    // If the click was *not* inside the element, remove the 'active' class\r\n    if (!isClickInside) {\r\n      optionsContainer.classList.remove('active')\r\n      console.log('Clicked outside - class removed.');\r\n    } else {\r\n      console.log('Clicked inside - class kept.');\r\n    }\r\n  });\r\ndocument.addEventListener('click', (event) => {\r\n  // Check if the clicked target is NOT the element and NOT inside the element;\r\n let rdioBtnCom = event.target.className.trim();\r\n  if (rdioBtnCom === \"radioBtn\") {\r\n    return;\r\n    }\r\n  else{\r\n        if(!selectBox.contains(event.target)) {\r\n    optionsContainer.classList.remove('active');\r\n  }\r\n  } \r\n\r\n});\r\n\r\n\r\ninit();\r\n"
              },
              "validationRules": {
                "value": []
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  },
                  {
                    "propertyName": "selectedDevice",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  },
                  {
                    "propertyName": "countryCode",
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "value": "",
                    "hashedVisibility": false
                  }
                ]
              },
              "devices": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"availableDevices\",\n        \"data\": \"{{global.parameters.availableDevices}}\",\n        \"tooltip\": \"{{global.parameters.availableDevices}}\",\n        \"children\": [\n          {\n            \"text\": \"availableDevices\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "allowCancel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"auth.svg\",\n        \"url\": \"allowCancel\",\n        \"data\": \"{{global.parameters.allowCancel}}\",\n        \"tooltip\": \"{{global.parameters.allowCancel}}\",\n        \"children\": [\n          {\n            \"text\": \"allowCancel\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeDescription": {
                "value": ""
              },
              "backgroundColor": {
                "value": "#b8e986ff"
              }
            },
            "idUnique": "esnemyqjhn",
            "isDisabled": true
          },
          "position": {
            "x": 2333,
            "y": 1325
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        }
      ],
      "edges": [
        {
          "data": {
            "id": "gfyjprx1nc",
            "source": "24oflmmavz",
            "target": "na9fh95cwm"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "yipg6dbdxn",
            "source": "8hqaj06hy6",
            "target": "xwg1yqffa5"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "vhmcgrac6m",
            "source": "yhe5j5cca2",
            "target": "24oflmmavz"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "u0aavkvbgq",
            "source": "rf7hvg9du2",
            "target": "45i978uahk"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "wi72tf4nqm",
            "source": "rf7hvg9du2",
            "target": "nrgw56kky3"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "98e1kxk8od",
            "source": "45i978uahk",
            "target": "8usuhs9iak"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "iqycy56asv",
            "source": "wht4m9wirq",
            "target": "xlq6gx8nmd"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3n5tabckia",
            "source": "e9kw26s8me",
            "target": "fm4l23kacb"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "hkqjz3jt4q",
            "source": "rhgb0edsmt",
            "target": "upvggce8d1"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "f2kx0dwicp",
            "source": "hzekxp0px1",
            "target": "j16froj3df"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "jus0yhq98d",
            "source": "psz28a18x0",
            "target": "ew8wmbtjs7"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "algteqn80y",
            "source": "jiyzfvj7qa",
            "target": "midmdaie5a"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "07p1qknifg",
            "source": "7mmqz1h079",
            "target": "a5vpfhfthn"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "9w1jzlkyv2",
            "source": "58g6sz24pa",
            "target": "7mmqz1h079",
            "multiValueSourceId": "-1"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "yvyyxuq1aq",
            "source": "hx6l9r486s",
            "target": "zps8ukupby"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "rydkzuudpz",
            "source": "8hlsc38gnw",
            "target": "hx6l9r486s"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "36bujmdl8i",
            "source": "tdryr3nis6",
            "target": "c4tlfo6d6e"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8c1fijxb7z",
            "source": "pe11kzvdwm",
            "target": "rpe4ixd0ym"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "eo9ueoabyz",
            "source": "c4tlfo6d6e",
            "target": "3gep71joie"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "fwv2rsg8ei",
            "source": "3gep71joie",
            "target": "ew8wmbtjs7"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "d5mz4zv8cn",
            "source": "n003jstptx",
            "target": "fbj83n0dme"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "yeoy49vpbe",
            "source": "o2su8ph9n4",
            "target": "n003jstptx"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3kg66ykgs3",
            "source": "41gzj0xpaf",
            "target": "fbj83n0dme"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "sjyciwag1",
            "source": "8az6tnhdxs",
            "target": "ji2sbpozzi"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3ex47phq59",
            "source": "9q6i6d2wuw",
            "target": "7doo7jvg7u"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "zpyuj594e5",
            "source": "psz28a18x0",
            "target": "wwl6x1xvsl"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "o4rkgh88c2",
            "source": "fm4l23kacb",
            "target": "psz28a18x0"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "sdltyh3m7z",
            "source": "l789k5080k",
            "target": "eyp9ivv2ls",
            "multiValueSourceId": "js0k5824y5"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "sqrqu9zr44",
            "source": "eyp9ivv2ls",
            "target": "uo0tl28d8f"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "dyap37gwg8",
            "source": "uo0tl28d8f",
            "target": "xrjefor8t0"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "kcb225fcdj",
            "source": "ozjsmluj5x",
            "target": "7tegoo8puw"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "nz29put4lw",
            "source": "w9qbcgvzvd",
            "target": "yr4muq81pq"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "q1zpww47rt",
            "source": "7tegoo8puw",
            "target": "l789k5080k"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "0ke2r9ts7q",
            "source": "9q6i6d2wuw",
            "target": "fbj83n0dme"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "w8497ksqhq",
            "source": "3pmfl1aui6",
            "target": "ul2qvh0q1f"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "z8607901vh",
            "source": "qfijpdejzw",
            "target": "q5tenx0vkx"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "4tgc53nwi7",
            "source": "lovp7olqma",
            "target": "8jenkqs9c7"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "7j79jxex8e",
            "source": "7z7cuvevdv",
            "target": "mmqkleoi92"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "rwlnb0l55z",
            "source": "29r3jl39ef",
            "target": "kq5xhkzozd"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "q8r5f9pqmj",
            "source": "car7f7wytu",
            "target": "os8r0vdddt"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ag73ce4vat",
            "source": "os8r0vdddt",
            "target": "gxliagbi44",
            "multiValueSourceId": "-1"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "iu9kz5mls7",
            "source": "lybtpbxlui",
            "target": "px68cab1ak"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "zqte8y7f52",
            "source": "os8r0vdddt",
            "target": "lybtpbxlui",
            "multiValueSourceId": "4907vgdon8"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "sra1amg5qg",
            "source": "gxliagbi44",
            "target": "zva38sw55w"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "zlmywdhj1g",
            "source": "8tr8nq23dr",
            "target": "xa83bdvhbj"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "0absauas77",
            "source": "hmvyn1idpv",
            "target": "rx5c39j4cx"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "97mso6sbej",
            "source": "2tv7r1hqp9",
            "target": "qj3vhzekmd"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8firedt8ew",
            "source": "g6enrqjtio",
            "target": "ifct35turd"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "oocsms815z",
            "source": "kq5xhkzozd",
            "target": "hshmxqqhw6"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "vz4vywi1yj",
            "source": "hshmxqqhw6",
            "target": "g6enrqjtio"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "l8965vvzqm",
            "source": "hl3p81mg43",
            "target": "94x2kbz207"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "qzrvvgqgyj",
            "source": "wg02v9ubc",
            "target": "hl3p81mg43"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "a1xdnxmjn2",
            "source": "94x2kbz207",
            "target": "xxaudccxwg"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "squjzg4bxc",
            "source": "3zzt3vrb0k",
            "target": "vqogwo2qjm",
            "multiValueSourceId": "06n6y4w6fp"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "27ixc5oh6n",
            "source": "xxaudccxwg",
            "target": "osnmh797fi"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "97fro5zgeq",
            "source": "osnmh797fi",
            "target": "5eygpo43c0"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "o6yqrealbo",
            "source": "cx0z1bqh0t",
            "target": "1hbe6lfivw"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "s6471itp1i",
            "source": "ntysk5zop5",
            "target": "vi56defl6q"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "hjea0atq3k",
            "source": "rx5c39j4cx",
            "target": "ehs2szm22u"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "d8wyiyadpf",
            "source": "thtxgh5tye",
            "target": "8oqliw5zps"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "z0pmnbzund",
            "source": "xceoebu0xh",
            "target": "ai8g2rm6op"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "iw4r6mppxr",
            "source": "ai8g2rm6op",
            "target": "ye80i2chrb"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "pc5ww3r3x9",
            "source": "ye80i2chrb",
            "target": "qdsmqnczwr"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "juxji4ytsj",
            "source": "jv730kjs71",
            "target": "s127jsa3wc"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "tts7yudhej",
            "source": "wwl6x1xvsl",
            "target": "8az6tnhdxs"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "6cmx87hprw",
            "source": "4m767nsx46",
            "target": "ntysk5zop5"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ma0vq1cblj",
            "source": "cxjw4q2ocj",
            "target": "1l1k03tehm",
            "multiValueSourceId": "s7618p926f"
          },
          "position": {
            "x": 64,
            "y": 172
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "h2fel6yvzr",
            "source": "a5vpfhfthn",
            "target": "2bdeodjs5u"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "fuqcrn8p7e",
            "source": "hzekxp0px1",
            "target": "yen98dcpti"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "bx7lqspeiu",
            "source": "7doo7jvg7u",
            "target": "jv730kjs71"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "51ux0ukqmg",
            "source": "s127jsa3wc",
            "target": "41gzj0xpaf"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "jcm2hbyydh",
            "source": "1l1k03tehm",
            "target": "s0wuh3cmeu"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "w3i0v8cj37",
            "source": "63xxb4c20d",
            "target": "rhgb0edsmt"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "h8d3lmw1ke",
            "source": "rirumd2ibn",
            "target": "8hlsc38gnw"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "rbycjlfrwo",
            "source": "rpe4ixd0ym",
            "target": "3wpcdcrt04"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "iptvgth8ex",
            "source": "4cgf9zgns7",
            "target": "63xxb4c20d"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "w5yk2tj9n5",
            "source": "pjzv5pikab",
            "target": "thtxgh5tye"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "7vdcc8duc0",
            "source": "ifct35turd",
            "target": "cx0z1bqh0t"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "cbl0b8uoyu",
            "source": "ocsgnkoz0e",
            "target": "s0wuh3cmeu"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "z5atu5m8yf",
            "source": "41gzj0xpaf",
            "target": "o2su8ph9n4"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "jdueilvlmc",
            "source": "eqr4ril6n5",
            "target": "s6926l9ov7"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "sj4qf8pznf",
            "source": "l789k5080k",
            "target": "w9qbcgvzvd",
            "multiValueSourceId": "zb1ojca8u"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "xizqrzgvap",
            "source": "ax6wjufnov",
            "target": "k2z1z0vtbz"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "7gxhajxqic",
            "source": "3mzgwd5xbx",
            "target": "beqpi415pb"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "a164ibre7v",
            "source": "ul2qvh0q1f",
            "target": "lovp7olqma"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "gu9m6k96ng",
            "source": "orf96wndkv",
            "target": "jh39me4hnk"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "1q0lmk6mt9",
            "source": "xa83bdvhbj",
            "target": "8tluota6xx"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "dz7qtoriw9",
            "source": "slu740f2kg",
            "target": "wdmeq58d57"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "vo6n0wzjfy",
            "source": "522ujtnujz",
            "target": "o3p0lu1ww2"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "22ukgz4hat",
            "source": "cxjw4q2ocj",
            "target": "xv97xv3ey0",
            "multiValueSourceId": "gsohfg2kar"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "yyu3a9ju72",
            "source": "5es08qb62k",
            "target": "cxjw4q2ocj"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "88b41ly4fb",
            "source": "upvggce8d1",
            "target": "te6t0zwohr"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "i5eui22w61",
            "source": "ji2sbpozzi",
            "target": "tdryr3nis6"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "6dsx7ljp85",
            "source": "1iw1no53sc",
            "target": "cznj809key"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ih38mncddw",
            "source": "wqy0tyt9h5",
            "target": "ti742h0vjx",
            "multiValueSourceId": "zb1ojca8u"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "og9eh65bmq",
            "source": "cznj809key",
            "target": "9ypcirqjce"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3qkq3reru8",
            "source": "hpteu0j5ln",
            "target": "kmq13sjqim"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "pdkkp1ti66",
            "source": "cmkxek507",
            "target": "lyc4sf65jq"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "tzjcnfwba",
            "source": "9ypcirqjce",
            "target": "cmkxek507"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "xuekdctbji",
            "source": "btm44dynua",
            "target": "jpibm7bq45"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "lzbg6beqr5",
            "source": "wqy0tyt9h5",
            "target": "btm44dynua",
            "multiValueSourceId": "js0k5824y5"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "19gl8psy1t",
            "source": "0teg88zt07",
            "target": "d9iskckyxg",
            "multiValueSourceId": "c0lukipeny"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "fpjidsqrug",
            "source": "qj3vhzekmd",
            "target": "fly72kbjyx"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "d2ya5le73g",
            "source": "dsbfpn557g",
            "target": "rb7ym2ipge"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "esx91g0c0o",
            "source": "d9gz5eor2i",
            "target": "65ocxow858"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "p0aq916201",
            "source": "jh39me4hnk",
            "target": "2tv7r1hqp9"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "pirez11hzb",
            "source": "jh39me4hnk",
            "target": "cidzpskzeu"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "q72hqz0eae",
            "source": "qj3vhzekmd",
            "target": "bdbxj0ct3v"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "c6ox8xhd1a",
            "source": "wqy0tyt9h5",
            "target": "hm8447gwzf",
            "multiValueSourceId": "-1"
          },
          "position": {
            "x": 64,
            "y": 132
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "oum2zrmf9u",
            "source": "58g6sz24pa",
            "target": "rirumd2ibn",
            "multiValueSourceId": "avt8rcpnxd"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "6wwao90u6u",
            "source": "rx5c39j4cx",
            "target": "58g6sz24pa"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "iz0wkz3fbm",
            "source": "xlq6gx8nmd",
            "target": "qfijpdejzw"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3l02yr829s",
            "source": "uy4847w2o",
            "target": "t2wsxoa2u8"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "2yvw6bdqb8",
            "source": "xlq6gx8nmd",
            "target": "74zkiwx9qz"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "hwciris1o5",
            "source": "pu6plbt7v9",
            "target": "qfijpdejzw"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ezhen5ghpi",
            "source": "h00gom93pv",
            "target": "7z7cuvevdv"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "uc2emon0sz",
            "source": "uokazcewx0",
            "target": "61b794fd5z"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "wtst0dildt",
            "source": "7qi7idcwvv",
            "target": "ih33zryjpu"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "w2ll0emnny",
            "source": "s3nzvnd4hq",
            "target": "slu740f2kg"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "cl1fut9vuz",
            "source": "nmeymvujhb",
            "target": "8q4wbmypi1"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "dx1aazp6yq",
            "source": "1sfbj1qhcp",
            "target": "haxdaa4lzr"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3bhs74zuv8",
            "source": "4b8gknb7qp",
            "target": "uokazcewx0"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ei4yc5ynf6",
            "source": "m9ymn8o01o",
            "target": "1sfbj1qhcp"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ma0kyfngrt",
            "source": "9x293d00mq",
            "target": "nmeymvujhb"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ubpr87nplk",
            "source": "61b794fd5z",
            "target": "9x293d00mq"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8m2z26ft2x",
            "source": "3wpcdcrt04",
            "target": "rf7hvg9du2"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "iwwza2kwt4",
            "source": "8mq6jrib4q",
            "target": "pu6plbt7v9"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ft3cgm5g0t",
            "source": "0v4dpfgdjx",
            "target": "b9sa31qvj0"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "z1z1frz8x1",
            "source": "j62log92mp",
            "target": "g8gf7t9g1x"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ezh8w2bzry",
            "source": "jysvt0ab1m",
            "target": "4s3vma79nu"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "hwwizi3vkl",
            "source": "3zzt3vrb0k",
            "target": "jysvt0ab1m",
            "multiValueSourceId": "0qc31sqji3"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "skyqq7ytyp",
            "source": "d46l4ikf0a",
            "target": "s3nzvnd4hq"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "9vs47xglqt",
            "source": "mmqkleoi92",
            "target": "d46l4ikf0a"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ldzp5ojvy8",
            "source": "2bdeodjs5u",
            "target": "hili7n1bzj"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "fmgg24peef",
            "source": "xrjefor8t0",
            "target": "wqy0tyt9h5"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "evrw3a8bxc",
            "source": "te6t0zwohr",
            "target": "p8n9w6rdgy"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "xajaw8n1c3",
            "source": "wms6o050jb",
            "target": "p0xbtjpw30",
            "multiValueSourceId": "tvctu8a9q2"
          },
          "position": {
            "x": 64,
            "y": 172
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "9qaxfa4lwo",
            "source": "7z5i8o5gts",
            "target": "6de8yoq3eb"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "bvnq16kcl3",
            "source": "p8n9w6rdgy",
            "target": "na4hef71sq"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "1yio5x6bax",
            "source": "k2z1z0vtbz",
            "target": "ozjsmluj5x"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "dk49m9xhzr",
            "source": "xceoebu0xh",
            "target": "5rlurs22n4"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "xdqm9ty1fc",
            "source": "k9rrvndxtf",
            "target": "2whff30xov"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "utvse600p7",
            "source": "2my7xaouma",
            "target": "f93pbyvrj2"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "jvod8msj6r",
            "source": "p8n9w6rdgy",
            "target": "6kd2knl0eb"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "hgil5m2mqq",
            "source": "tdryr3nis6",
            "target": "jiyzfvj7qa"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "lscmr71o9a",
            "source": "cpq0d0xrjd",
            "target": "pe11kzvdwm"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "nlwaleag5c",
            "source": "yen98dcpti",
            "target": "5es08qb62k"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "po7c9dwj9u",
            "source": "gqsuch4i68",
            "target": "hili7n1bzj"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "4rt5lbmufw",
            "source": "jacbwkhwfc",
            "target": "fc155lnlgf"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "pfibwgmrs1",
            "source": "08juwxitwr",
            "target": "wg02v9ubc"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8ils9d3m9r",
            "source": "wg02v9ubc",
            "target": "77xkmx7j1m"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "7ghelqs3vt",
            "source": "wc0jfkkr3z",
            "target": "k9rrvndxtf"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "eh42ll1kdw",
            "source": "kfqbhjjaqb",
            "target": "2ewaah2axe"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "wx3vya8l0q",
            "source": "qdsmqnczwr",
            "target": "wtcsrlx6i1"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "goot8yizdm",
            "source": "na4hef71sq",
            "target": "tir7r8fvkp"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "il7trpd8ts",
            "source": "1hbe6lfivw",
            "target": "v2ozb025hm"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "070litt15p",
            "source": "h2d7rovpq5",
            "target": "cpq0d0xrjd"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "s184zn1c2b",
            "source": "h2d7rovpq5",
            "target": "qwggt9vgg6"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "upwuylf4r7",
            "source": "5pp4x7w2e4",
            "target": "08juwxitwr"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "d9mjzrcfl9",
            "source": "8k3m13kgyg",
            "target": "70ft1ulrd0"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "y545el0o83",
            "source": "pe11kzvdwm",
            "target": "1w327sd0kj"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "gliu3ry89x",
            "source": "1w327sd0kj",
            "target": "8k3m13kgyg"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ns49jf1qie",
            "source": "fcajmc2304",
            "target": "niwd9bvvyl"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "fq4bsg2f1f",
            "source": "niwd9bvvyl",
            "target": "hmvyn1idpv"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ymskobqe68",
            "source": "f93pbyvrj2",
            "target": "hqdb3y3i65"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "70yg0l2n34",
            "source": "jpibm7bq45",
            "target": "1iw1no53sc"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "wegf7vft9q",
            "source": "xwg1yqffa5",
            "target": "8mq6jrib4q"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "vm44v4usou",
            "source": "x4lu2jj85z",
            "target": "ob2qys7dcd"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ptrux8bmf6",
            "source": "midmdaie5a",
            "target": "c4tlfo6d6e"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "75t29evepp",
            "source": "upvggce8d1",
            "target": "xjsvojouve"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "kr8giims4i",
            "source": "s6926l9ov7",
            "target": "hpteu0j5ln"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ouyg0slfdr",
            "source": "1iw1no53sc",
            "target": "b1x0eifo99"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ibp1x2nums",
            "source": "65ocxow858",
            "target": "ax6wjufnov"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "x0vmw8486z",
            "source": "2my7xaouma",
            "target": "z7l0uzlcxw"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "zwplj8xqtc",
            "source": "2whff30xov",
            "target": "h2d7rovpq5"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "04c2kg9tbg",
            "source": "xv97xv3ey0",
            "target": "s0wuh3cmeu"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "g88mnv42eg",
            "source": "thtxgh5tye",
            "target": "gnmbshsowi"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "vg5qt9lmm9",
            "source": "h7w9k7knl9",
            "target": "2kjjqzwb93"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "q2rf7w2r9u",
            "source": "gnmbshsowi",
            "target": "2my7xaouma"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "armrrh5f62",
            "source": "2ewaah2axe",
            "target": "orf96wndkv"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "fnqzoj9rph",
            "source": "wurft65sg6",
            "target": "3mzgwd5xbx"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "1e0k0yrxi8",
            "source": "rb7ym2ipge",
            "target": "d9gz5eor2i"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "p706pjthnb",
            "source": "wms6o050jb",
            "target": "s1axmvsfoq",
            "multiValueSourceId": "-1"
          },
          "position": {
            "x": 64,
            "y": 212
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "qutlyyabfk",
            "source": "fbj83n0dme",
            "target": "6vt24x2gkw"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "nmc7bvj0ny",
            "source": "s1axmvsfoq",
            "target": "wgvcj4rbmh"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "gc0ar9ccjx",
            "source": "q5tenx0vkx",
            "target": "0teg88zt07"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "5bofpudwc3",
            "source": "hqdb3y3i65",
            "target": "qz2aml0p13"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "7po17i37jm",
            "source": "tir7r8fvkp",
            "target": "kfqbhjjaqb"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "5qs7bx032f",
            "source": "wms6o050jb",
            "target": "wpljz4km80",
            "multiValueSourceId": "rcdv40p339"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "1m1v6p9vdv",
            "source": "cxjw4q2ocj",
            "target": "ocsgnkoz0e",
            "multiValueSourceId": "dagi6ktntv"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "d7s3o5g9n6",
            "source": "d9iskckyxg",
            "target": "muwkjryvjf"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "bdkqnowhkq",
            "source": "0teg88zt07",
            "target": "5pp4x7w2e4",
            "multiValueSourceId": "hjrubbuvub"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "81h91kx1zf",
            "source": "53fy0avvam",
            "target": "zkdofvrmxu"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "504tvy3z6c",
            "source": "wdmeq58d57",
            "target": "4he5hctlgw"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "xap406hbne",
            "source": "wpljz4km80",
            "target": "iru6qhsncf"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "dolgklnx3b",
            "source": "zps8ukupby",
            "target": "gqsuch4i68"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8di96o544h",
            "source": "3zzt3vrb0k",
            "target": "uy4847w2o",
            "multiValueSourceId": "28nzlh5l3g"
          },
          "position": {
            "x": 64,
            "y": 132
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "m0cyq0k4ch",
            "source": "wms6o050jb",
            "target": "7z5i8o5gts",
            "multiValueSourceId": "sai4tizng9"
          },
          "position": {
            "x": 64,
            "y": 132
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "dmepaifhsc",
            "source": "p0xbtjpw30",
            "target": "koamwnv0yf"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "5y9bvvk83p",
            "source": "o3p0lu1ww2",
            "target": "xceoebu0xh"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "q6hfhvm44p",
            "source": "6vt24x2gkw",
            "target": "lv8ujg41ix"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "bdq4bvrblq",
            "source": "ob2qys7dcd",
            "target": "te6t0zwohr"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "wzbo9c6766",
            "source": "hili7n1bzj",
            "target": "e9kw26s8me"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "gj74w1hfxs",
            "source": "qj9x404zi1",
            "target": "bp8zqi2ee3"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "2bh3m8rani",
            "source": "3zzt3vrb0k",
            "target": "ux1izu65m4",
            "multiValueSourceId": "-1"
          },
          "position": {
            "x": 64,
            "y": 172
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "6p58c60py8",
            "source": "eh45uuo9ep",
            "target": "522ujtnujz"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "l8zkhfteuw",
            "source": "qj9x404zi1",
            "target": "qz04gq3vc8"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ax84yl9lox",
            "source": "v92cr3znpj",
            "target": "qj9x404zi1"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ivva4mhbrj",
            "source": "h7w9k7knl9",
            "target": "v92cr3znpj"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "9rrnswvylh",
            "source": "iru6qhsncf",
            "target": "h7w9k7knl9"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "3tg0l0rgyl",
            "source": "kbzya62ydz",
            "target": "wms6o050jb"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "6l1r9fy00v",
            "source": "cxjw4q2ocj",
            "target": "j0zgu89bdj",
            "multiValueSourceId": "7j5ae87a0v"
          },
          "position": {
            "x": 64,
            "y": 132
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "sli2q9lnhm",
            "source": "j0zgu89bdj",
            "target": "elvm9hs51q"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "qzqp7h4gy2",
            "source": "jozso5l9gu",
            "target": "wurft65sg6"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "boc52rdqlo",
            "source": "zqb2rroahz",
            "target": "eqr4ril6n5",
            "multiValueSourceId": "-1"
          },
          "position": {
            "x": 64,
            "y": 132
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "uhgx0dj76x",
            "source": "vc8o1wnpis",
            "target": "t0my8smuad"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "34ixbrrw0z",
            "source": "wms6o050jb",
            "target": "nxc2amxsdh",
            "multiValueSourceId": "cn8bjfqdm1"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ia5qclwn6w",
            "source": "ug7cydwdhw",
            "target": "3zzt3vrb0k"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "rko7mcr22l",
            "source": "ux1izu65m4",
            "target": "smnjhqmjr2"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "hg20okjvi3",
            "source": "zqb2rroahz",
            "target": "car7f7wytu",
            "multiValueSourceId": "dxhc9sru4p"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "0k52aluf1s",
            "source": "zqb2rroahz",
            "target": "h00gom93pv",
            "multiValueSourceId": "1uplmn0ljy"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "4ftb0f979c",
            "source": "t0my8smuad",
            "target": "5y2z6x314y"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "g9750gj6ws",
            "source": "5y2z6x314y",
            "target": "53fy0avvam"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "h6trl8ssiu",
            "source": "jozso5l9gu",
            "target": "i00dggjydf"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "spi1nzo1yx",
            "source": "2ewaah2axe",
            "target": "8a47pr25qk"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "qxvmlj73m8",
            "source": "53fy0avvam",
            "target": "6jkz2hx974"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "bvfmiv0z0c",
            "source": "6jkz2hx974",
            "target": "kbzya62ydz"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "wzgrvdeqbk",
            "source": "ug7cydwdhw",
            "target": "hmvyn1idpv"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "x22opx1e7j",
            "source": "8oqliw5zps",
            "target": "jacbwkhwfc"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "vjr0co0ekk",
            "source": "wdmeq58d57",
            "target": "ybbdsq2fzf"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "0whkfmttoi",
            "source": "nxc2amxsdh",
            "target": "92ojigwmkh"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "urtv542ff0",
            "source": "dc2mhwx86e",
            "target": "9a49qb1y7k"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "rcd8gzjjwz",
            "source": "ih33zryjpu",
            "target": "uoppd09l5f"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "u5gubf1jqv",
            "source": "wtcsrlx6i1",
            "target": "zqb2rroahz"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "f6bqc35das",
            "source": "8q4wbmypi1",
            "target": "m9ymn8o01o"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "8ulzg9iwtk",
            "source": "9a49qb1y7k",
            "target": "pjzv5pikab"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ac745zhvoy",
            "source": "vqogwo2qjm",
            "target": "w4i8a0zmx4"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "c96u85nl4k",
            "source": "ybbdsq2fzf",
            "target": "jozso5l9gu"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "cnaicnavpf",
            "source": "uoppd09l5f",
            "target": "ug7cydwdhw"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "9s4lv0fwwn",
            "source": "v2ozb025hm",
            "target": "bx4ydvr6ha"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "r3g6oqscsh",
            "source": "bx4ydvr6ha",
            "target": "dq02g1new7",
            "multiValueSourceId": "-1"
          },
          "position": {
            "x": 64,
            "y": 92
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "wkugu5y8dp",
            "source": "dq02g1new7",
            "target": "4cgf9zgns7"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "u6kqhus1o8",
            "source": "bx4ydvr6ha",
            "target": "3pmfl1aui6",
            "multiValueSourceId": "4907vgdon8"
          },
          "position": {
            "x": 64,
            "y": 52
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "npxjxwalsa",
            "source": "0teg88zt07",
            "target": "6kk2cqci87",
            "multiValueSourceId": "-1"
          },
          "position": {
            "x": 64,
            "y": 132
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "0ojddbt630",
            "source": "6kk2cqci87",
            "target": "3mijhvdikd"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "keqlo5zemr",
            "source": "3mijhvdikd",
            "target": "hzekxp0px1"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "s5tm47a43f",
            "source": "chxjkxb7an",
            "target": "tgcisw3o8v"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "tyq53mt7rc",
            "source": "tgcisw3o8v",
            "target": "3omqo4dfp2"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "bjhyt44a07",
            "source": "ryc1a5w88f",
            "target": "chxjkxb7an"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "cv13spd7fo",
            "source": "na9fh95cwm",
            "target": "ryc1a5w88f"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "4z8e2p8m15",
            "source": "nrgw56kky3",
            "target": "8hqaj06hy6"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "n7pq6rhiyq",
            "source": "tgcisw3o8v",
            "target": "eehmojjd41"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "ykxznhtu6e",
            "source": "xwg1yqffa5",
            "target": "0v4dpfgdjx"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "rsc8ka9vkf",
            "source": "eehmojjd41",
            "target": "yg3imbhjkr"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "e8ami2xnb9",
            "source": "yg3imbhjkr",
            "target": "98pctuvf3t"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "syt4pef03x",
            "source": "yg3imbhjkr",
            "target": "9oye8l8aip"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "qphxbbav2z",
            "source": "lyc4sf65jq",
            "target": "r9gkc1v9ix"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "x70rw8sr43",
            "source": "r9gkc1v9ix",
            "target": "9q6i6d2wuw"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "l22k2zqerc",
            "source": "hm8447gwzf",
            "target": "yr4muq81pq"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "a9tquw4z42",
            "source": "ti742h0vjx",
            "target": "yr4muq81pq"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "xrnasvek5e",
            "source": "yr4muq81pq",
            "target": "j62log92mp"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "g2ljrffcu0",
            "source": "j62log92mp",
            "target": "flxvv8j2g5"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "prk24g0xi3",
            "source": "b9sa31qvj0",
            "target": "wht4m9wirq"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "iglmh98ubb",
            "source": "8q4wbmypi1",
            "target": "y64a07b0le"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        }
      ]
    },
    "data": {},
    "zoomingEnabled": true,
    "userZoomingEnabled": true,
    "zoom": 1,
    "minZoom": 1e-50,
    "maxZoom": 1e+50,
    "panningEnabled": true,
    "userPanningEnabled": true,
    "pan": {
      "x": 0,
      "y": 0
    },
    "boxSelectionEnabled": true,
    "renderer": {
      "name": "null"
    }
  },
  "inputSchema": [
    {
      "propertyName": "pingOneUserId",
      "description": "Ping one User Id",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true,
      "required": true
    },
    {
      "propertyName": "email",
      "description": "Email used to register email OTP with (optional)",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true,
      "required": false
    },
    {
      "propertyName": "ciam_autoEnrollEmail",
      "description": "Auto enrolling the email passed as MFA device, considering it has been verified.",
      "preferredDataType": "boolean",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "allowCancel",
      "description": "",
      "preferredDataType": "boolean",
      "preferredControlType": "textField",
      "isExpanded": true,
      "required": true
    },
    {
      "propertyName": "passwordlessRequired",
      "description": "checks whether password is required",
      "preferredDataType": "boolean",
      "preferredControlType": "textField",
      "isExpanded": true,
      "required": false
    },
    {
      "propertyName": "allowedDeviceTypes",
      "description": "Allowed device types to be passed Caps, Comma separated list",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "ciam_companyLogo",
      "description": "",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "fidoRegistrationRequired",
      "description": "Force Passkey Registration",
      "preferredDataType": "boolean",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "phone",
      "description": "",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "mfaEnabled",
      "description": "",
      "preferredDataType": "boolean",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "availableDevices",
      "description": "",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "type",
      "description": "",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true,
      "required": false
    },
    {
      "propertyName": "skipByCount",
      "description": "",
      "preferredDataType": "number",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "domain friendly name",
      "description": "",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "domain name",
      "description": "myritzcarltonclub.com ,marriottvacationclub.com ,vacationclubap.com ,grandresidenceclub.com",
      "preferredDataType": "string",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "skipSuccessMessage",
      "description": "",
      "preferredDataType": "boolean",
      "preferredControlType": "textField",
      "isExpanded": true
    },
    {
      "propertyName": "createAccountEnrollment",
      "description": "",
      "preferredDataType": "boolean",
      "preferredControlType": "textField",
      "isExpanded": true
    }
  ],
  "deployedAt": "2026-02-05T14:38:25.162Z"
}
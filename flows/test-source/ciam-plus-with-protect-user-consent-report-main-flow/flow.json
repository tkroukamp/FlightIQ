{
  "name": "CIAM Plus With Protect - User Consent Report - Main Flow",
  "enabled": true,
  "publishedVersion": 2,
  "connectors": [
    {
      "id": "httpConnector"
    },
    {
      "id": "variablesConnector"
    },
    {
      "id": "annotationConnector"
    },
    {
      "id": "pingOneSSOConnector"
    },
    {
      "id": "functionsConnector"
    },
    {
      "id": "nodeConnector"
    }
  ],
  "settings": {
    "csp": "worker-src 'self' blob:; script-src 'self' https://cdn.jsdelivr.net https://code.jquery.com https://devsdk.singularkey.com http://cdnjs.cloudflare.com 'unsafe-inline' 'unsafe-eval';",
    "intermediateLoadingScreenCSS": "",
    "intermediateLoadingScreenHTML": "",
    "useCustomCSS": true,
    "css": ".companyLogo {\n    /* Ping Logo  */\n    height: 65px;\n}",
    "cssLinks": [
      "https://assets.pingone.com/ux/end-user-nano/0.1.0-alpha.1/end-user-nano.css",
      "https://assets.pingone.com/ux/astro-nano/0.1.0-alpha.7/icons.css",
      "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    ],
    "customTitle": "User Consent Report",
    "customFaviconLink": "https://assets.pingone.com/ux/ui-library/5.0.2/images/logo-pingidentity.png",
    "logLevel": 4
  },
  "color": "#E3F0FF",
  "graphData": {
    "elements": {
      "nodes": [
        {
          "data": {
            "id": "zeypoktuvj",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "title": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"User Consent Report\"\n      }\n    ]\n  }\n]"
              },
              "description": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Please enter your email to continue\"\n      }\n    ]\n  }\n]"
              },
              "customHTML": {
                "value": "<div class=\"end-user-nano\">\n  <div\n    class=\"bg-light d-flex flex-column justify-content-center align-items-center position-absolute top-0 start-0 bottom-0 end-0 overflow-auto\">\n    <div style=\"max-width: 800px; min-width: 800px; width: 100%\">\n      <div class=\"card shadow mb-5\">\n        <div class=\"card-body p-5 d-flex flex-column\">\n          <img class=\"align-self-center mb-5\" src=\"{{global.variables.companyLogo}}\" alt=\"{{global.variables.companyName}}\" style=\"{{global.variables.logoStyle}}\" />\n          \n\n          {{#if title}}\n          <h1 class=\"text-center mb-4\">{{title}}</h1>\n          {{/if}}\n\n          {{#if reportTitle}} \n           <h2 class=\"text-center mb-4\">{{reportTitle}}</h2>\n          {{/if}}\n\n          {{#if text}}\n          <p class=\"text-muted text-center\">{{text}}</p>\n          {{/if}}\n\n          <!-- Generic Error Message -->\n          <p id=\"feedback\" data-id=\"feedback\" class=\"text-danger mdi mdi-alert-circle\" data-skcomponent=\"skerror\"></p>\n\n          <!-- Form Validation Error Message -->\n          <p class=\"text-danger mdi mdi-alert-circle\" data-skerrorid=\"email\" data-skcomponent=\"skerrormessage\"></p>\n\n          <div id=\"downloadDiv\" class=\"container d-none\">\n            <button id=\"downloadBtn\" class=\"btn btn-link float-end\" title=\"Download Report\"><i class=\"fas fa-download\"></i> Download</button>\n          </div>\n\n          <table class=\"table table-striped\">\n            <thead>\n\n              <tr>\n                <th colspan=\"3\" class=\"table-header-group\">Personal Information</th>\n                <th colspan=\"3\" class=\"table-header-group text-center\">Consent</th>\n              </tr>\n              <tr>\n                <th scope=\"col\">Name</th>\n                <th scope=\"col\">Email Address</th>\n                <th scope=\"col\">Mobile Phone</th>\n                <th scope=\"col\">SMS</th>\n                <th scope=\"col\">Email</th>\n                <th scope=\"col\">Mail</th>\n\n              </tr>\n            </thead>\n            <tbody>\n              <!-- Example Row -->\n              {{#each users}}\n              <tr>\n                <td>{{formattedName}}</td>\n                <td>{{email}}</td>\n                <td>{{mobilePhone}}</td>\n                <td class=\"text-center\">{{#ifEquals consentSMS\n                  \"true\"}}<i class=\"fas fa-check text-success\"></i>{{else}}<i class=\"fas fa-times text-danger\"></i>{{/ifEquals}}\n                </td>\n                <td class=\"text-center\">{{#ifEquals consentEmail\n                  \"true\"}}<i class=\"fas fa-check text-success\"></i>{{else}}<i class=\"fas fa-times text-danger\"></i>{{/ifEquals}}\n                </td>\n                <td class=\"text-center\">{{#ifEquals consentMail\n                  \"true\"}}<i class=\"fas fa-check text-success\"></i>{{else}}<i class=\"fas fa-times text-danger\"></i>{{/ifEquals}}\n                </td>\n              </tr>\n              {{/each}}\n              <!-- Repeat for each user -->\n            </tbody>\n          </table>\n\n\n          <div class=\"container d-flex justify-content-center\">\n\n            <button type=\" button\" class=\"btn btn-link\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"SMS\" id=\"btnSMS\">SMS</button>\n\n            <button type=\"button\" class=\"btn btn-link ms-3\" data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"EMAIL\" id=\"btnEmail\">Email</button>\n\n            <button type=\"button\" class=\"btn btn-link ms-3\"  data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"MAIL\" id=\"btnMail\">Mail</button>\n\n            <button type=\"button\" class=\"btn btn-link ms-3\"  data-skcomponent=\"skbutton\" data-skbuttontype=\"next-event\" data-skbuttonvalue=\"ALL\" id=\"btnAll\">All Consented Users</button>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"
              },
              "formFieldsList": {
                "value": [
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "email",
                    "displayName": "email",
                    "hashedVisibility": false
                  },
                  {
                    "preferredControlType": "textField",
                    "preferredDataType": "string",
                    "propertyName": "buttonValue"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Consent Report"
              },
              "customCSS": {
                "value": ".table-header-group {\n    border-style: none !important;\n}"
              },
              "customScript": {
                "value": "const downloadButton = document.getElementById(\"downloadBtn\");\nconst downloadDiv = document.getElementById(\"downloadDiv\");\n\nlet users = {{global.variables.reportUsers}};\n\nconst handleDownload = () => {\n    downloadCSV(users, `{{reportTitle}}-${getCurrentDateFormatted()}`);\n}\n\n// Format the keys so they can be used as titles\nconst splitAndCapitalize = (word) => {\n  const parts = word.match(/[A-Z]?[a-z]+|[A-Z]+(?![a-z])/g);\n\n  if (parts) {\n    // Capitalize the first character of each part and convert any following characters to lowercase\n    const capitalizedParts = parts.map(part => \n      part.charAt(0).toUpperCase() + part.slice(1).toLowerCase()\n    );\n    return capitalizedParts.join(\" \");\n  } else {\n    // If the string is a single word without camel case, capitalize the first letter and lower the rest\n    return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n  }\n}\n\nconst  getCurrentDateFormatted = () => {\n  const date = new Date(); \n  const year = date.getFullYear().toString().substr(-2);\n  const month = ('0' + (date.getMonth() + 1)).slice(-2);\n  const day = ('0' + date.getDate()).slice(-2);\n\n  return `${year}-${month}-${day}`; \n}\n\nconst processTitles = (titles) => {\n  return titles.map(title => splitAndCapitalize(title));\n}\n\nconst downloadCSV = (csvData, filename = 'data.csv') => {\n    // Convert array of objects to CSV data\n    const arrayToCSV = (arr) => {\n        const csvRows = [];\n        // Get the headers\n        const headers = Object.keys(arr[0]);\n        const formatterHeaders = processTitles(headers);\n        csvRows.push(formatterHeaders.join(','));\n\n        // Loop over the rows and push to csvRows\n        for (const row of arr) {\n            const values = headers.map(header => {\n                const escaped = ('' + row[header]).replace(/\"/g, '\\\\\"'); \n                return `\"${escaped}\"`;\n            });\n            csvRows.push(values.join(','));\n        }\n\n        return csvRows.join('\\n');\n    };\n\n    const csvString = arrayToCSV(csvData);\n    const blob = new Blob([csvString], { type: 'text/csv' });\n\n    //Create temp object for download\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = filename; \n    document.body.appendChild(link); \n    link.click(); \n    document.body.removeChild(link); \n}\n\nconst start = () => {\n    if (users) {\n        downloadBtn.addEventListener(\"click\", handleDownload);\n        downloadDiv.classList.remove(\"d-none\");\n    }\n}\n\nif (document.readyState === \"loading\") {\n    // Loading hasn't finished yet\n    document.addEventListener(\"DOMContentLoaded\", start);\n} else {\n    // `DOMContentLoaded` has already fired\n    start();\n}\n\n\n\n\n\n"
              },
              "validationRules": {
                "value": []
              },
              "nodeDescription": {},
              "inputSchema": {
                "value": "{\n    \"type\": \"object\",\n    \"properties\": {\n        \"title\": {\n            \"type\": \"string\",\n            \"displayName\": \"Title\",\n            \"enableParameters\": true\n        },\n        \"text\": {\n            \"type\": \"string\",\n            \"displayName\": \"Text\",\n            \"enableParameters\": true\n        },\n        \"reportType\": {\n            \"type\": \"string\",\n            \"displayName\": \"Report Type\",\n            \"enableParameters\": true\n        },\n        \"reportTitle\": {\n            \"type\": \"string\",\n            \"displayName\": \"Report Title\",\n            \"enableParameters\": true\n        },\n        \"users\": {\n            \"type\": \"object\",\n            \"properties\": {\n               \"formattedName\": {\n                  \"displayName\": \"Formatted Name\",\n                  \"preferedControlType\": \"textField\",\n                  \"enableParameters\": true\n               },\n               \"email\": {\n                  \"displayName\": \"Email\",\n                  \"preferedControlType\": \"textField\",\n                  \"enableParameters\": true\n               },\n                \"mobilePhone\": {\n                  \"displayName\": \"Mobile Phone\",\n                  \"preferedControlType\": \"textField\",\n                  \"enableParameters\": true\n               },\n               \"consentEmail\": {\n                  \"displayName\": \"Consent Email\",\n                  \"preferedControlType\": \"textField\",\n                  \"enableParameters\": true\n               },\n               \"consentSMS\": {\n                  \"displayName\": \"Consent SMS\",\n                  \"preferedControlType\": \"textField\",\n                  \"enableParameters\": true\n               },\n               \"consentMail\": {\n                  \"displayName\": \"Consent Mail\",\n                  \"preferedControlType\": \"textField\",\n                  \"enableParameters\": true\n               }\n            }\n         }\n    }\n} "
              },
              "outputSchema": {
                "value": {}
              },
              "textOne": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Enter your email address to update your marketing preferences.\"\n      }\n    ]\n  }\n]"
              },
              "buttonLabel": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Continue\"\n      }\n    ]\n  }\n]"
              },
              "users": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"reportUsers\",\n        \"data\": \"{{global.variables.reportUsers}}\",\n        \"tooltip\": \"{{global.variables.reportUsers}}\",\n        \"children\": [\n          {\n            \"text\": \"reportUsers\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "text": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Select the button below to filter based on consent type.\"\n      }\n    ]\n  }\n]"
              },
              "reportType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"reportType\",\n        \"data\": \"{{local.vhrxmds29n.payload.output.reportType}}\",\n        \"tooltip\": \"{{local.vhrxmds29n.payload.output.reportType}}\",\n        \"children\": [\n          {\n            \"text\": \"reportType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "reportTitle": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"title\",\n        \"data\": \"{{local.j8rqxdh2is.payload.output.title}}\",\n        \"tooltip\": \"{{local.j8rqxdh2is.payload.output.title}}\",\n        \"children\": [\n          {\n            \"text\": \"title\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "tm3j9z88ta",
            "isDisabled": false
          },
          "position": {
            "x": 2348.8652348756978,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9a5rke2vtn",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "companyName",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"ciam_companyName\",\n        \"data\": \"{{global.company.variables.ciam_companyName}}\",\n        \"tooltip\": \"{{global.company.variables.ciam_companyName}}\",\n        \"children\": [\n          {\n            \"text\": \"ciam_companyName\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.8558926100565449,
                    "label": "companyName (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "ciam_companyName"
                  },
                  {
                    "name": "companyLogo",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"ciam_logoUrl\",\n        \"data\": \"{{global.company.variables.ciam_logoUrl}}\",\n        \"tooltip\": \"{{global.company.variables.ciam_logoUrl}}\",\n        \"children\": [\n          {\n            \"text\": \"ciam_logoUrl\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.9646986093085257,
                    "label": "companyLogo (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "ciam_logoUrl"
                  },
                  {
                    "name": "logoStyle",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"variable.svg\",\n        \"url\": \"ciam_logoStyle\",\n        \"data\": \"{{global.company.variables.ciam_logoStyle}}\",\n        \"tooltip\": \"{{global.company.variables.ciam_logoStyle}}\",\n        \"children\": [\n          {\n            \"text\": \"ciam_logoStyle\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.25326943913064337,
                    "label": "logoStyle (string - flowInstance)",
                    "type": "string",
                    "nameDefault": "ciam_logoStyle"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Flow Variables"
              },
              "nodeDescription": {
                "value": "Initialize runtime variables"
              }
            },
            "idUnique": "o9dkvzsnnf",
            "isDisabled": false
          },
          "position": {
            "x": 304,
            "y": 613.8936512899786
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "0563ux95tp",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 424,
            "y": 613.8936512899786
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "kwkwz1m1eq",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5d00d6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "User Consent Report"
              },
              "width": {
                "value": 700
              },
              "fontStyle": {
                "value": "bold"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 222,
            "y": 471.8936512899786
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "9jhvz6vhad",
            "nodeType": "CONNECTION",
            "connectionId": "94141bf2f1b9b59a5f5365ff135e02bb",
            "connectorId": "pingOneSSOConnector",
            "name": "PingOne",
            "label": "PingOne",
            "status": "configured",
            "capabilityName": "usersLookup",
            "type": "action",
            "properties": {
              "useCustomSCIMFilter": {
                "value": true
              },
              "scimFilter": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"filter\",\n        \"data\": \"{{local.j8rqxdh2is.payload.output.filter}}\",\n        \"tooltip\": \"{{local.j8rqxdh2is.payload.output.filter}}\",\n        \"children\": [\n          {\n            \"text\": \"filter\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              },
              "nodeTitle": {
                "value": "Find Multiple Users "
              }
            }
          },
          "position": {
            "x": 1321.787374147535,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "jss7q2u11z",
            "nodeType": "EVAL",
            "label": "Evaluator",
            "properties": {
              "pe9n8ca9i1": {
                "value": "always"
              },
              "8yiumvu0kd": {
                "value": "anyTriggersFalse"
              },
              "yfupxjdyrc": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1472.0914513272662,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "pe9n8ca9i1",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Flatten PingOne Users"
              },
              "nodeDescription": {
                "value": "Flatten the JSON for simpler rendering"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "users",
                    "preferredDataType": "object",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"pingIdentity.svg\",\n        \"url\": \"matchedUsers\",\n        \"data\": \"{{local.9jhvz6vhad.payload.output.matchedUsers}}\",\n        \"tooltip\": \"{{local.9jhvz6vhad.payload.output.matchedUsers}}\",\n        \"children\": [\n          {\n            \"text\": \"matchedUsers\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "code": {
                "value": "// Transform user objects\nmodule.exports = a = async ({ params }) => {\n\tconst users = params.users;\n\tlet flattenedUsers;\n\tif (users) {\n\t\tflattenedUsers = users.map(user => ({\n\t\t\tformattedName: user.name ? `${user.name.given} ${user.name.family}` : \"\",\n\t\t\temail: user.email,\n\t\t\tmobilePhone: user.mobilePhone,\n\t\t\tconsentEmail: user.consentEmail,\n\t\t\tconsentMail: user.consentMail,\n\t\t\tconsentSMS: user.consentSMS,\n\t\t}));\n\t}\n\treturn { 'flattenedUsers': flattenedUsers }\n}"
              },
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"flattenedUsers\": {\n\t\t\t\t\"type\": \"object\"\n\t\t\t}\n\t\t}\n\t}\n}"
              }
            }
          },
          "position": {
            "x": 1672.4968875669076,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "3nyy5inftg",
            "nodeType": "EVAL",
            "properties": {
              "zeypoktuvj": {
                "value": "allTriggersTrue"
              },
              "8yiumvu0kd": {
                "value": "anyTriggersFalse"
              }
            }
          },
          "position": {
            "x": 1847.8516442765938,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ip1qfr0thm",
            "nodeType": "EVAL",
            "label": "Evaluator"
          },
          "position": {
            "x": 2474.1186325254735,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "vhrxmds29n",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "startNode",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "View Report"
              },
              "inputSchema": {
                "value": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"reportType\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"displayName\": \"Report Type [SMS|EMAIL|MAIL] \",\n\t\t\t\"preferredControlType\": \"textField\",\n\t\t\t\"enableParameters\": true,\n\t\t\t\"propertyName\": \"reportType\"\n\t\t}\n\t}\n}"
              }
            }
          },
          "position": {
            "x": 294.70951341937257,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "rusxssqcsa",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 419.96291106914845,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "ih5bkl8gq3",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "vhrxmds29n"
              },
              "reportType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"ALL\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 694,
            "y": 613.8936512899786
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "j8rqxdh2is",
            "nodeType": "CONNECTION",
            "connectionId": "de650ca45593b82c49064ead10b9fe17",
            "connectorId": "functionsConnector",
            "name": "Functions",
            "label": "Functions",
            "status": "configured",
            "capabilityName": "customFunction",
            "type": "trigger",
            "properties": {
              "nodeTitle": {
                "value": "Build Report Query"
              },
              "variableInputList": {
                "value": [
                  {
                    "name": "reportType",
                    "preferredDataType": "string",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"teleport.svg\",\n        \"url\": \"reportType\",\n        \"data\": \"{{local.vhrxmds29n.payload.output.reportType}}\",\n        \"tooltip\": \"{{local.vhrxmds29n.payload.output.reportType}}\",\n        \"children\": [\n          {\n            \"text\": \"reportType\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
                  }
                ]
              },
              "code": {
                "value": "\nmodule.exports = a = async ({ params }) => {\n    const reportType = params.reportType;\n\n    let filter = \"\";\n    let title = \"\";\n\n    switch (reportType) {\n        case \"SMS\":\n        case \"sms\":\n            filter = 'consentSMS eq \"true\"';\n            title = \"SMS Consent\";\n            break;\n        case \"EMAIL\":\n        case \"email\":\n            filter = 'consentEmail eq \"true\"';\n            title = \"Email Consent\"\n            break;\n        case \"MAIL\":\n        case \"mail\":\n            filter = 'consentMail eq \"true\"';\n            title = \"Mail Consent\"\n            break;\n        case \"ALL\":\n        case \"all\":\n            filter = 'consentSMS eq \"true\" or consentEmail eq \"true\" or consentMail eq \"true\"';\n            title = \"All Consented Users\"\n            break;\n        default:\n            filter = 'consentSMS eq \"true\"';\n            title = \"SMS Consent\";\n    }\n\n\n    return { 'filter': filter, 'title': title }\n}"
              },
              "outputSchema": {
                "value": "{\n\t\"output\": {\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"filter\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"title\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t}\n\t}\n}"
              }
            }
          },
          "position": {
            "x": 595.3176677788348,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "a1mq1k79r4",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 745.6217449585658,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "rimv4aekf1",
            "nodeType": "CONNECTION",
            "connectionId": "3566e86a35c26e575396dcfb89a3dcc0",
            "connectorId": "nodeConnector",
            "name": "Teleport",
            "label": "Node",
            "status": "configured",
            "capabilityName": "goToNode",
            "type": "action",
            "properties": {
              "nodeInstanceId": {
                "value": "vhrxmds29n"
              },
              "reportType": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"http.svg\",\n        \"url\": \"buttonValue\",\n        \"data\": \"{{local.zeypoktuvj.payload.output.buttonValue}}\",\n        \"tooltip\": \"{{local.zeypoktuvj.payload.output.buttonValue}}\",\n        \"children\": [\n          {\n            \"text\": \"buttonValue\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]"
              }
            }
          },
          "position": {
            "x": 2649.4733892351596,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "vqu5f57t61",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#5D00D6ff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "View Report"
              },
              "width": {
                "value": 2500
              },
              "fontStyle": {
                "value": "bold"
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 20
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 222,
            "y": 771.8936512899786
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "0wdg2r594b",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Default to ALL Consent"
              },
              "width": {
                "value": 240
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 574,
            "y": 523.8936512899786
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "whrforul7b",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Filter Report User Selection"
              },
              "width": {
                "value": 240
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 2549.270671115339,
            "y": 915.7181143683651
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "zk95rqy6jy",
            "nodeType": "CONNECTION",
            "connectionId": "06922a684039827499bdbdd97f49827b",
            "connectorId": "variablesConnector",
            "name": "Variables",
            "label": "Variables",
            "status": "configured",
            "capabilityName": "saveValue",
            "type": "trigger",
            "properties": {
              "saveVariables": {
                "value": [
                  {
                    "name": "reportUsers",
                    "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"flattenedUsers\",\n        \"data\": \"{{local.pe9n8ca9i1.payload.output.flattenedUsers}}\",\n        \"tooltip\": \"{{local.pe9n8ca9i1.payload.output.flattenedUsers}}\",\n        \"children\": [\n          {\n            \"text\": \"flattenedUsers\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      }\n    ]\n  }\n]",
                    "key": 0.10743113752716105,
                    "label": "reportUsers (object - flowInstance)",
                    "type": "object",
                    "nameDefault": "flattenedUsers"
                  }
                ]
              },
              "nodeTitle": {
                "value": "Set Users As Variable"
              }
            }
          },
          "position": {
            "x": 1998.155721456325,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "uj2xjalmlt",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 2148.459798636056,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xetehjqfyl",
            "nodeType": "CONNECTION",
            "connectionId": "867ed4363b2bc21c860085ad2baa817d",
            "connectorId": "httpConnector",
            "name": "Http",
            "label": "Http",
            "status": "configured",
            "capabilityName": "customHTMLTemplate",
            "type": "trigger",
            "properties": {
              "customHTML": {
                "value": "<div class=\"end-user-nano\">\n  <div\n    class=\"bg-light d-flex flex-column justify-content-center align-items-center position-absolute top-0 start-0 bottom-0 end-0 overflow-auto\">\n    <div style=\"max-width: 400px; min-width: 400px; width: 100%\">\n      <div class=\"card shadow mb-5\">\n        <div class=\"card-body p-5 d-flex flex-column\">\n          <img class=\"companyLogo align-self-center mb-5\" src=\"{{global.variables.companyLogo}}\" alt=\"{{global.variables.companyName}}\" />\n\n          {{#if title}}\n          <h1 id=\"title\" class=\"text-center mb-4\">{{title}}</h1>\n          {{/if}}\n\n          {{#if text}}\n          <p class=\"text-muted text-center\">{{text}}</p>\n          {{/if}}\n          \n          <div class=\"align-self-center\">\n          [[[skcomponent###c2tjb21wb25lbnQgInNrcG9sbGluZyIgIGNsYXNzPSIiIHBvbGxJbnRlcnZhbD0iMTAwIiBwb2xsUmV0cmllcz0iMSIgcG9sbENoYWxsZW5nZVN0YXR1cz0iZmFsc2Ui###eyJuYW1lIjoic2twb2xsaW5nIiwib3B0aW9ucyI6eyJjbGFzcyI6IiIsInBvbGxJbnRlcnZhbCI6IjEwMCIsInBvbGxSZXRyaWVzIjoiMSIsInBvbGxDaGFsbGVuZ2VTdGF0dXMiOiJmYWxzZSJ9LCJjb21wb25lbnRQcm9wcyI6eyJjbGFzcyI6eyJuYW1lIjoiY2xhc3MiLCJkaXNwbGF5TmFtZSI6IkNTUyBDbGFzcyJ9LCJwb2xsSW50ZXJ2YWwiOnsibmFtZSI6InBvbGxJbnRlcnZhbCIsImRpc3BsYXlOYW1lIjoiUG9sbCBJbnRlcnZhbCIsInZhbHVlIjoyMDAwfSwicG9sbFJldHJpZXMiOnsibmFtZSI6InBvbGxSZXRyaWVzIiwiZGlzcGxheU5hbWUiOiJQb2xsIFJldHJpZXMiLCJ2YWx1ZSI6NjB9LCJwb2xsQ2hhbGxlbmdlU3RhdHVzIjp7Im5hbWUiOiJwb2xsQ2hhbGxlbmdlU3RhdHVzIiwiZGlzcGxheU5hbWUiOiJQb2xsIENoYWxsZW5nZSBTdGF0dXMiLCJ0eXBlIjoic2VsZWN0IiwidmFsdWUiOiJ0cnVlIiwib3B0aW9ucyI6W3sibmFtZSI6IlRydWUiLCJ2YWx1ZSI6InRydWUifSx7Im5hbWUiOiJGYWxzZSIsInZhbHVlIjoiZmFsc2UifV19fX0=]]]\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n"
              },
              "customCSS": {},
              "customScript": {},
              "nodeTitle": {
                "value": "NOP UI Page"
              },
              "formFieldsList": {
                "value": []
              },
              "inputSchema": {
                "value": "{\n    \"type\": \"object\",\n    \"properties\": {\n        \"title\": {\n            \"type\": \"string\",\n            \"displayName\": \"Title\",\n            \"enableParameters\": true\n        },\n        \"text\": {\n            \"type\": \"string\",\n            \"displayName\": \"Text\",\n            \"enableParameters\": true\n        }\n    }\n} "
              },
              "title": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Generating Report\"\n      }\n    ]\n  }\n]"
              },
              "text": {
                "value": "[\n  {\n    \"children\": [\n      {\n        \"text\": \"Preparing \\\"\"\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"type\": \"link\",\n        \"src\": \"functions.svg\",\n        \"url\": \"title\",\n        \"data\": \"{{local.j8rqxdh2is.payload.output.title}}\",\n        \"tooltip\": \"{{local.j8rqxdh2is.payload.output.title}}\",\n        \"children\": [\n          {\n            \"text\": \"title\"\n          }\n        ]\n      },\n      {\n        \"text\": \"\"\n      },\n      {\n        \"text\": \"\\\" Report\"\n      }\n    ]\n  }\n]"
              }
            },
            "idUnique": "3wi21s8m6z"
          },
          "position": {
            "x": 946.0271811982072,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "l2ca07t13f",
            "nodeType": "EVAL"
          },
          "position": {
            "x": 1121.3819379078936,
            "y": 1015.9208324881859
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "y7zjie9cei",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f7f7adff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Input Schema: Report Type"
              },
              "width": {
                "value": 400
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": false
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "d2mbrib33f"
          },
          "position": {
            "x": 214,
            "y": 823.8936512899786
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "s4dmu3u2cs",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#4462edff"
              },
              "annotationTextColor": {
                "value": "#ffffffff"
              },
              "annotation": {
                "value": "CIAM Plus With Protect - User Consent Report - Main Flow"
              },
              "width": {
                "value": 2000
              },
              "fontStyle": {
                "value": "bold"
              },
              "fontSize": {
                "value": 16
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              }
            },
            "status": "configured",
            "idUnique": "9km17fij55"
          },
          "position": {
            "x": 476.24814699004986,
            "y": 214
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "j1pnf4bspu",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#50e3c2ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Prereq: Add 3 declared users attributes of type String in P1. consentEmail, consentSMS, consentMail"
              },
              "width": {
                "value": 1000
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "fontStyle": {
                "value": "normal"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#ffffffff"
              }
            },
            "status": "configured",
            "idUnique": "a0ykm7b77k"
          },
          "position": {
            "x": 219.26670188497715,
            "y": 399.70112130771577
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "4rletsz7j6",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Finding multiple users by an identifier."
              },
              "width": {
                "value": 300
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "v7ori0doc4"
          },
          "position": {
            "x": 1171.4832969678039,
            "y": 915.7181143683651
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "7ubyw0kmlb",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Initialising flow instance variables."
              },
              "width": {
                "value": 240
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "m4ckhfga2b"
          },
          "position": {
            "x": 214,
            "y": 523.8936512899786
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "6a2q66j5wc",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Query to filter the preferred consent type."
              },
              "width": {
                "value": 300
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "btceculuc4"
          },
          "position": {
            "x": 452.08644546253873,
            "y": 917.1584432233808
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "v2hpfo3hsb",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "Flattening the user details for simpler rendering."
              },
              "width": {
                "value": 360
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "ikvej7g9sr"
          },
          "position": {
            "x": 1522.1928103871765,
            "y": 915.7181143683651
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "xrqprsf8mp",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#f2f3f4ff"
              },
              "annotationTextColor": {
                "value": "#000000"
              },
              "annotation": {
                "value": "User consent report."
              },
              "width": {
                "value": 240
              },
              "fontSize": {
                "value": 14
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "cornerRadius": {
                "value": 8
              },
              "strokeEnabled": {
                "value": true
              },
              "strokeWidth": {
                "value": 1
              },
              "strokeColor": {
                "value": "#181818ff"
              }
            },
            "status": "configured",
            "idUnique": "o48mjl4n2y"
          },
          "position": {
            "x": 2223.6118372259216,
            "y": 915.7181143683651
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        },
        {
          "data": {
            "id": "tshvjj7qd7",
            "nodeType": "ANNOTATION",
            "name": "Annotation",
            "connectionId": "921bfae85c38ed45045e07be703d86b8",
            "connectorId": "annotationConnector",
            "capabilityName": "updateAnnotationProperties",
            "type": "action",
            "properties": {
              "backgroundColor": {
                "value": "#fffaa0ff"
              },
              "annotationTextColor": {
                "value": "#000000ff"
              },
              "annotation": {
                "value": "See https://docs.pingidentity.com/access/sources/dita/topic?resourceid=ciam_plus_user_consent_report for flow reference information."
              },
              "fontFamily": {
                "value": "sans-serif"
              },
              "fontSize": {
                "value": 14
              },
              "cornerRadius": {
                "value": 8
              },
              "width": {
                "value": 1600
              }
            },
            "status": "configured"
          },
          "position": {
            "x": 690,
            "y": 270
          },
          "group": "nodes",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": false,
          "classes": ""
        }
      ],
      "edges": [
        {
          "data": {
            "id": "cyejkony5r",
            "source": "a1mq1k79r4",
            "target": "xetehjqfyl"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "typg6pf7gs",
            "source": "xetehjqfyl",
            "target": "l2ca07t13f"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "kbwcedqczq",
            "source": "l2ca07t13f",
            "target": "9jhvz6vhad"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "f6rvfa3286",
            "source": "zk95rqy6jy",
            "target": "uj2xjalmlt"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "pzyi6iy36u",
            "source": "rusxssqcsa",
            "target": "j8rqxdh2is"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "oukv8r3gaz",
            "source": "j8rqxdh2is",
            "target": "a1mq1k79r4"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "96g6f4k2wu",
            "source": "zeypoktuvj",
            "target": "ip1qfr0thm"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "16dajkt1q9",
            "source": "pe9n8ca9i1",
            "target": "3nyy5inftg"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "5ilv9rncy5",
            "source": "ip1qfr0thm",
            "target": "rimv4aekf1"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "4dve91tjzl",
            "source": "9a5rke2vtn",
            "target": "0563ux95tp"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "o717xifln5",
            "source": "9jhvz6vhad",
            "target": "jss7q2u11z"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "afldp6zjl4",
            "source": "jss7q2u11z",
            "target": "pe9n8ca9i1"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "0xy0rbebfl",
            "source": "uj2xjalmlt",
            "target": "zeypoktuvj"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "nny60s3yc9",
            "source": "vhrxmds29n",
            "target": "rusxssqcsa"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "liig4lk4av",
            "source": "0563ux95tp",
            "target": "ih5bkl8gq3"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        },
        {
          "data": {
            "id": "txtyl0msu3",
            "source": "3nyy5inftg",
            "target": "zk95rqy6jy"
          },
          "position": {
            "x": 0,
            "y": 0
          },
          "group": "edges",
          "removed": false,
          "selected": false,
          "selectable": true,
          "locked": false,
          "grabbable": true,
          "pannable": true,
          "classes": ""
        }
      ]
    },
    "data": {},
    "zoomingEnabled": true,
    "userZoomingEnabled": true,
    "zoom": 1,
    "minZoom": 1e-50,
    "maxZoom": 1e+50,
    "panningEnabled": true,
    "userPanningEnabled": true,
    "pan": {
      "x": 0,
      "y": 0
    },
    "boxSelectionEnabled": true,
    "renderer": {
      "name": "null"
    }
  },
  "deployedAt": "2026-01-12T14:30:38.348Z"
}